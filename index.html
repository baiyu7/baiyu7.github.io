<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="生活不止眼前的苟且，还有诗和远方。">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="生活不止眼前的苟且，还有诗和远方。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="生活不止眼前的苟且，还有诗和远方。">





  
  
  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>生活不止眼前的苟且，还有诗和远方。</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">生活不止眼前的苟且，还有诗和远方。</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/04/坑人的面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/04/坑人的面试题/" class="post-title-link" itemprop="url">坑人的面试题</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-04 12:54:00 / 修改时间：13:48:11" itemprop="dateCreated datePublished" datetime="2019-08-04T12:54:00+08:00">2019-08-04</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/被坑的面试题/" itemprop="url" rel="index"><span itemprop="name">被坑的面试题</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="类加载问题"><a href="#类加载问题" class="headerlink" title="类加载问题"></a>类加载问题</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> B t1 = <span class="keyword">new</span> B();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> B t2 = <span class="keyword">new</span> B();</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">"构造块"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">"静态块"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        B t = <span class="keyword">new</span> B();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//构造块 构造块 静态块 构造块</span></span><br></pre></td></tr></table></figure>
<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> B t1 = <span class="keyword">new</span> B();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> B t2 = <span class="keyword">new</span> B();</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">"构造块"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">"静态块"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造块 构造块 静态块</span></span><br></pre></td></tr></table></figure>
<h1 id="抽象类、接口问题"><a href="#抽象类、接口问题" class="headerlink" title="抽象类、接口问题"></a>抽象类、接口问题</h1><h2 id="1-1"><a href="#1-1" class="headerlink" title="1"></a>1</h2><p>Java7特性中,abstract class和interface有什么区别。(A  B D)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">A:抽象类可以有构造方法，接口中不能有构造方法</span><br><span class="line">B:抽象类中可以有普通成员变量，接口中没有普通成员变量</span><br><span class="line">C:抽象类中不可以包含静态方法，接口中可以包含静态方法</span><br><span class="line">D:一个类可以实现多个接口，但只能继承一个抽象类。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">解析：</span><br><span class="line">我们记住知识点就可以了，至于答案就不用太钻牛角了。</span><br><span class="line">针对本题：</span><br><span class="line"><span class="number">1</span>、抽象类可以有构造，只不过不能<span class="keyword">new</span>。</span><br><span class="line"><span class="number">2</span>、接口中可以有变量，但是无论你怎么写，最后都是<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span>的。</span><br><span class="line"><span class="number">3</span>、抽象类中可以有静态方法，接口中也可以有。</span><br><span class="line"></span><br><span class="line">扩展：</span><br><span class="line"><span class="number">1</span>、接口中可以有非抽象的方法，比如<span class="keyword">default</span>方法（Java <span class="number">1.8</span>）。</span><br><span class="line"><span class="number">2</span>、接口中可以有带方法体的方法。（Java <span class="number">1.8</span>）</span><br><span class="line"><span class="number">3</span>、接口中的方法默认是<span class="keyword">public</span>的。</span><br></pre></td></tr></table></figure>
<h1 id="集合问题"><a href="#集合问题" class="headerlink" title="集合问题"></a>集合问题</h1><h2 id="1-2"><a href="#1-2" class="headerlink" title="1"></a>1</h2><p>下面哪些接口直接继承自Collection接口（A  C）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A:List</span><br><span class="line">B:Map</span><br><span class="line">C:Set</span><br><span class="line">D:Iterator</span><br><span class="line"></span><br><span class="line">解析：：</span><br><span class="line">Ierator()方法是java.lang.Iterable接口,被Collection继承。</span><br></pre></td></tr></table></figure>
<p><img src="/2019/08/04/坑人的面试题/123.jpg" alt="无法显示"></p>
<ul>
<li>​</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/m鼓励/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/m鼓励/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:53:05" itemprop="dateCreated datePublished" datetime="2019-08-02T19:53:05+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-03 08:48:34" itemprop="dateModified" datetime="2019-08-03T08:48:34+08:00">2019-08-03</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一辈子很短，努力的做好两件事就好；第一件事是热爱生活，好好的去爱身边的人；第二件事是努力学习，在工作中取得不一样的成绩，实现自己的价值，而不是仅仅为了赚钱。"><a href="#一辈子很短，努力的做好两件事就好；第一件事是热爱生活，好好的去爱身边的人；第二件事是努力学习，在工作中取得不一样的成绩，实现自己的价值，而不是仅仅为了赚钱。" class="headerlink" title="一辈子很短，努力的做好两件事就好；第一件事是热爱生活，好好的去爱身边的人；第二件事是努力学习，在工作中取得不一样的成绩，实现自己的价值，而不是仅仅为了赚钱。"></a>一辈子很短，努力的做好两件事就好；第一件事是热爱生活，好好的去爱身边的人；第二件事是努力学习，在工作中取得不一样的成绩，实现自己的价值，而不是仅仅为了赚钱。</h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/mysql第三天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/mysql第三天/" class="post-title-link" itemprop="url">mysql第三天</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:50:51 / 修改时间：19:52:47" itemprop="dateCreated datePublished" datetime="2019-08-02T19:50:51+08:00">2019-08-02</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-表连接"><a href="#1-表连接" class="headerlink" title="1 表连接"></a>1 表连接</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sql表连接分为内连接,外连接和交叉连接</span><br><span class="line"></span><br><span class="line">1) 内连接</span><br><span class="line">	//a: 使用where进行连接</span><br><span class="line">	select stu.stuName,sch.schName from student stu,school sch where stu.schoolId=sch.id</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//b:使用join的方式进行连接,并且加条件</span><br><span class="line">//通常使用第一种样式</span><br><span class="line">select stu.stuName,sch.schName from student stu JOIN school sch ON stu.schoolId=sch.id where stu.stuName like &apos;李%&apos;</span><br><span class="line">或者</span><br><span class="line">select stu.stuName,sch.schName from student stu JOIN school sch ON stu.schoolId=sch.id and stu.stuName like &apos;李%&apos;</span><br><span class="line">或者</span><br><span class="line">select stu.stuName,sch.schName from student stu JOIN school sch where stu.schoolId=sch.id and stu.stuName like &apos;李%&apos;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">	特点:如果a表有4条记录,b表有2条记录,使用内连接只会查询两个表有匹配条件的数据</span><br><span class="line">	</span><br><span class="line">	如果有三张表</span><br><span class="line">	select * from a,b,c</span><br><span class="line">	WHERE</span><br><span class="line">	a.bid=b.id</span><br><span class="line">	AND</span><br><span class="line">	b.cid=c.id</span><br><span class="line">	将至少两个连接条件,否则数据不正确</span><br><span class="line">	所以对于n张表来说,至少有n-1个连接条件</span><br><span class="line">	</span><br><span class="line">2)外连接</span><br><span class="line">	1.左连接</span><br><span class="line">		左连接使用 left join</span><br><span class="line">		select stu.stuName,sch.schName from student stu LEFT JOIN school sch ON stu.schoolId=sch.id</span><br><span class="line">		</span><br><span class="line">		张三	Null</span><br><span class="line">		李四	东方</span><br><span class="line">		王五	师大</span><br><span class="line">		赵六	师大</span><br><span class="line">		小淘气	远东</span><br><span class="line">		李子	Null</span><br><span class="line">		</span><br><span class="line">		特点:会将左表的数据全部显示出来,右表没有与之对应的数据用Null显示</span><br><span class="line">	</span><br><span class="line">	2.右连接</span><br><span class="line">		同左连接一样,只是使用的关键字 right join,把右表的数据全部展示,左表用Null填充</span><br><span class="line">		select stu.stuName,sch.schName from student stu RIGHT JOIN school sch ON stu.schoolId=sch.id</span><br><span class="line">		或者使用左连接,把表换个位置即可</span><br><span class="line">	</span><br><span class="line">	3.全外连接</span><br><span class="line">		mysql不支持 全外连接 //sql server 支持 full join</span><br><span class="line">		可以使用union就是替代了全外连接</span><br><span class="line">		特点就是:两个表数据都将展示出来,没有的互相以null替代</span><br><span class="line">		</span><br><span class="line">3) 交叉连接</span><br><span class="line">	没有where条件语句,他返回连接表中所有数据的笛卡尔积</span><br><span class="line">	select * from student stu,school sch</span><br><span class="line">	</span><br><span class="line">	比如 a表有3条记录</span><br><span class="line">	b表有4条记录</span><br><span class="line">	</span><br><span class="line">	笛卡尔积是 3*4=12条</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">create table T_Customers(</span><br><span class="line">	Id int not null,</span><br><span class="line">	Name varchar(50) null,</span><br><span class="line">	Age int Null</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create Table T_Orders(</span><br><span class="line">	Id int not null,</span><br><span class="line">	BillNo varchar(50) Null,</span><br><span class="line">	CustomerId int null</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">	INSERT INTO T_Customers (Id, Name, Age) VALUES (1, &apos;tom&apos;, 10);</span><br><span class="line">	INSERT INTO T_Customers (Id, Name, Age) VALUES (2, &apos;jerry&apos;, 15);</span><br><span class="line">	INSERT INTO T_Customers (Id, Name, Age) VALUES (3, &apos;john&apos;, 22);</span><br><span class="line">	INSERT INTO T_Customers (Id, Name, Age) VALUES (4, &apos;lily&apos;, 18);</span><br><span class="line">	INSERT INTO T_Customers (Id, Name, Age) VALUES (5, &apos;lucy&apos;, 18);</span><br><span class="line">	</span><br><span class="line">    INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (1, &apos;001&apos;, 1);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (2, &apos;002&apos;, 1);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (3, &apos;003&apos;, 3);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (4, &apos;004&apos;, 2);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (5, &apos;005&apos;, 2);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (6, &apos;006&apos;, 5);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (7, &apos;007&apos;, 4);</span><br><span class="line">	INSERT INTO  T_Orders  ( Id ,  BillNo ,  CustomerId ) VALUES (8, &apos;008&apos;, 5);</span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//查询每个订单都是谁的?</span><br><span class="line">	select o.BillNo,c.`Name` from t_orders o LEFT JOIN t_customers c on o.CustomerId=c.Id</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//显示出大于15岁的客户的订单号,客户姓名,年龄</span><br><span class="line">	select o.BillNo,c.`Name`,c.Age from t_customers c LEFT JOIN t_orders o ON c.Id=o.CustomerId where c.Age&gt;15</span><br><span class="line"></span><br><span class="line">//显示出年龄大于平均年龄的所有客户的订单</span><br><span class="line">	select c.`Name`,o.BillNo,c.Age from t_customers c LEFT JOIN t_orders o ON c.Id=o.CustomerId where c.Age&gt;(select avg(Age) from t_customers)</span><br></pre></td></tr></table></figure>
<h1 id="2-子查询-嵌套查询"><a href="#2-子查询-嵌套查询" class="headerlink" title="2 子查询 (嵌套查询)"></a>2 子查询 (嵌套查询)</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">将一个查询语句作为一个结果集给其他sql使用</span><br><span class="line">就是子查询,几乎所有的查询,都能改成子查询</span><br><span class="line"></span><br><span class="line">//例子</span><br><span class="line">select * from t_student where score&gt;60</span><br><span class="line">//子查询</span><br><span class="line">select * from (select * from t_student where score&gt;60) as temp</span><br><span class="line"></span><br><span class="line">查询最高分的人</span><br><span class="line">select  max(score) from t_student</span><br><span class="line">//子查询</span><br><span class="line">select * from t_student score=(</span><br><span class="line">	select Max(score) from t_student</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">//查询分数在50到80之间的男同学</span><br><span class="line">select * from t_student s where s.score between 50 and 80 and s.sex=&apos;男&apos;</span><br><span class="line">//子查询</span><br><span class="line">select * from t_student where score in(</span><br><span class="line">	select s.score from t_student s where s.score between 50 and 80</span><br><span class="line">) and sex=&apos;男&apos;</span><br><span class="line"></span><br><span class="line">union all&gt;union&gt;连接查询&gt;子查询</span><br><span class="line">它们的速度依次变慢,速度越慢的sql,就越容易引起死锁,而且会让服务器越来越慢</span><br></pre></td></tr></table></figure>
<h1 id="3-索引"><a href="#3-索引" class="headerlink" title="3 索引"></a>3 索引</h1><p>​        </p>
<pre><code>索引的作用就是为了加快检索的速度

1．索引作用
数据库利用各种各样的快速定位技术，能够大大提高查询select效率。
特别是当数据量非常大，查询涉及多个表时，使用索引往往能使查询速度加快成千上万倍。
索引可以加快检索的速度，但是对频繁修改的字段，效率并不好，会重建索引
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">例如，</span><br><span class="line">有3个未索引的表t1、t2、t3，分别只包含列c1、c2、c3，每个表分别含有1000行数据组成，指为1～1000的数值，</span><br><span class="line">查找对应值相等行的查询如下所示。</span><br><span class="line">SELECT c1,c2,c3 FROM t1,t2,t3 WHERE c1=c2 AND c1=c3</span><br><span class="line"></span><br><span class="line">此查询结果应该为1000行，每行包含3个相等的值。</span><br><span class="line">在无索引的情况下处理此查询，必须寻找3个表所有的组合，</span><br><span class="line">以便得出与WHERE子句相配的那些行。而可能的组合数目为1000×1000×1000（十亿），显然查询将会非常慢。</span><br><span class="line"></span><br><span class="line">如果对每个表进行索引，就能极大地加速查询进程。利用索引的查询处理如下。</span><br><span class="line">（1）从表t1中选择第一行，查看此行所包含的数据。</span><br><span class="line">（2）使用表t2上的索引，直接定位t2中与t1的值匹配的行。</span><br><span class="line">     类似，利用表t3上的索引，直接定位t3中与来自t1的值匹配的行。</span><br><span class="line">（3）扫描表t1的下一行并重复前面的过程，直到遍历t1中所有的行。</span><br><span class="line"></span><br><span class="line">在此情形下，仍然对表t1执行了一个完全扫描，但能够在表t2和t3上进行索引查找直接取出这些表中的行，</span><br><span class="line">比未用索引时快了很多很多倍。</span><br><span class="line"></span><br><span class="line">利用索引，MySQL加速了WHERE子句满足条件行的搜索，而在多表连接查询时，</span><br><span class="line">在执行连接时加快了与其他表中的行匹配的速度。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">2. 创建索引</span><br><span class="line">   第一种在执行create table就直接指定</span><br><span class="line">   第二种alter table 进行修改添加索引</span><br><span class="line">   </span><br><span class="line">   索引大体分为 普通索引 unique 主键索引</span><br><span class="line">   第一种:</span><br><span class="line">	create table user(</span><br><span class="line">		id int not null,</span><br><span class="line">		userName varchar(16) not null,</span><br><span class="line">		index myIndex (userName(16))</span><br><span class="line">	)</span><br><span class="line">	第二种:</span><br><span class="line">	alter table user add index myIndex(userName)</span><br><span class="line">	</span><br><span class="line">3. 查看索引</span><br><span class="line">	show index from 表名</span><br><span class="line">		· Table 表的名称。</span><br><span class="line">	　　· Non_unique 如果索引不能包括重复词，则为0。如果可以，则为1。</span><br><span class="line">	　　· Key_name 索引的名称。</span><br><span class="line">	　　· Seq_in_index 索引中的列序列号，从1开始。</span><br><span class="line">	　　· Column_name列名称。</span><br><span class="line">	　　· Collation列以什么方式存储在索引中。在MySQL中，有值‘A’（升序）或NULL（无分类）。</span><br><span class="line">	　　· Cardinality索引中唯一值的数目的估计值。通过运行ANALYZE TABLE或myisamchk -a可以更新。</span><br><span class="line">					基数根据被存储为整数的统计数据来计数，所以即使对于小型表，该值也没有必要是精确的。</span><br><span class="line">					基数越大，当进行联合时，MySQL使用该索引的机会就越大。</span><br><span class="line">	　　· Sub_part如果列只是被部分地编入索引，则为被编入索引的字符的数目。如果整列被编入索引，则为NULL。</span><br><span class="line">	　　· Packed指示关键字如何被压缩。如果没有被压缩，则为NULL。</span><br><span class="line">	　　· Null如果列含有NULL，则含有YES。如果没有，则该列含有NO。</span><br><span class="line">	　　· Index_type用过的索引方法（BTREE, FULLTEXT, HASH）。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">检查sql的执行效率 explain</span><br><span class="line">explain SELECT c1,c2,c3 FROM t1,t2,t3 WHERE c1=c2 AND c1=c3</span><br><span class="line"></span><br><span class="line">各个属性的含义：</span><br><span class="line">	id：select查询的序列号</span><br><span class="line">	select_type：select查询的类型，主要是区别普通查询和联合查询、子查询之类的复杂查询。</span><br><span class="line">	table：输出的行所引用的表。</span><br><span class="line">	type：联合查询所使用的类型。</span><br><span class="line">	     type显示的是访问类型，是较为重要的一个指标，结果值从好到坏依次是：</span><br><span class="line">		 system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</span><br><span class="line">		 一般来说，得保证查询至少达到range级别，最好能达到ref。</span><br><span class="line">	possible_keys：指出MySQL能使用哪个索引在该表中找到行。如果是空的，没有相关的索引。这时要提高性能，可通过检验WHERE子句，看是否引用某些字段，或者检查字段不是适合索引。</span><br><span class="line">	key：显示MySQL实际决定使用的键。如果没有索引被选择，键是NULL。</span><br><span class="line">	key_len：显示MySQL决定使用的键长度。如果键是NULL，长度就是NULL。文档提示特别注意这个值可以得出一个多重主键里mysql实际使用了哪一部分。</span><br><span class="line">	ref：显示哪个字段或常数与key一起被使用。</span><br><span class="line">	rows：这个数表示mysql要遍历多少数据才能找到，在innodb上是不准确的。</span><br><span class="line">	Extra： Using where：表示优化器需要通过索引回表查询数据；</span><br><span class="line">			Using index：表示直接访问索引就足够获取到所需要的数据，不需要通过索引回表；</span><br><span class="line">			Using index condition：在5.6版本后加入的新特性（Index Condition Pushdown）;</span><br><span class="line">			会先条件过滤索引，过滤完索引后找到所有符合索引条件的数据行，随后用 WHERE 子句中的其他条件去过滤这些数据行；</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">什么情况下不适合</span><br><span class="line">	经常做插入删除修改表的动作</span><br><span class="line">	表的记录很少</span><br><span class="line">	</span><br><span class="line">附:</span><br><span class="line">	Normal 就是普通索引</span><br><span class="line">	unique  唯一索引</span><br><span class="line">	full text 全文搜索索引  对于innodb不存在,对于myisam存在</span><br></pre></td></tr></table></figure>
<h1 id="4-sql优化"><a href="#4-sql优化" class="headerlink" title="4 sql优化"></a>4 sql优化</h1><p>​        </p>
<pre><code>在sql查询中为了提高查询效率，我们常常会采取一些措施对查询语句进行sql优化，下面总结的一些方法，
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">1.对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。	</span><br><span class="line">2.应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：	</span><br><span class="line">select id from t where num is null	</span><br><span class="line">可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：	</span><br><span class="line">select id from t where num=0		</span><br><span class="line">3.应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描。		</span><br><span class="line">4.应尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：	</span><br><span class="line">select id from t where num=10 or num=20	</span><br><span class="line">可以这样查询：	</span><br><span class="line">select id from t where num=10	</span><br><span class="line">union all	</span><br><span class="line">select id from t where num=20		</span><br><span class="line">5.in 和 not in 也要慎用，否则会导致全表扫描，如：	</span><br><span class="line">select id from t where num in(1,2,3)	</span><br><span class="line">对于连续的数值，能用 between 就不要用 in 了：	</span><br><span class="line">select id from t where num between 1 and 3		</span><br><span class="line">6.应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：	</span><br><span class="line">select id from t where num/2=100	</span><br><span class="line">应改为:	</span><br><span class="line">select id from t where num=100*2		</span><br><span class="line">7.应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：	</span><br><span class="line">select id from t where substring(name,1,3)=&apos;abc&apos;--name以abc开头的id	</span><br><span class="line">应改为:	</span><br><span class="line">select id from t where name like &apos;abc%&apos;		</span><br><span class="line">8.不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。		</span><br><span class="line">9.在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，	</span><br><span class="line">否则该索引将不会被使用，并且应尽可能的让字段顺序与索引顺序相一致。				</span><br><span class="line">11.很多时候用 exists 代替 in 是一个好的选择：	</span><br><span class="line">select num from a where num in(select num from b)	</span><br><span class="line">用下面的语句替换：	</span><br><span class="line">select num from a where exists(select num from b where num=a.num)		</span><br><span class="line">12.并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，	</span><br><span class="line">如一表中有字段sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。		</span><br><span class="line">13.索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，	</span><br><span class="line">因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。	</span><br><span class="line">一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有必要。	</span><br><span class="line">14.尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。	</span><br><span class="line">这是因为引擎在处理查询和连接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。		</span><br><span class="line">15.尽可能的使用 varchar 代替 char ，因为首先变长字段存储空间小，可以节省存储空间，	</span><br><span class="line">其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。		</span><br><span class="line">16.任何地方都不要使用 select * from t ，用具体的字段列表代替“*”，不要返回用不到的任何字段。		</span><br><span class="line">17.避免频繁创建和删除临时表，以减少系统表资源的消耗。</span><br><span class="line">18.临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使用导出表。		</span><br><span class="line">19.在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，	</span><br><span class="line">以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。</span><br><span class="line">20.如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。		</span><br><span class="line">21.尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。		</span><br><span class="line">22.使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。</span><br><span class="line">23.与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。</span><br><span class="line">在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。</span><br><span class="line">24.尽量避免大事务操作，提高系统并发能力。26.尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理</span><br><span class="line"></span><br><span class="line">exists和in 的区别</span><br><span class="line">in</span><br><span class="line">select * from student s where s.id in(</span><br><span class="line">	select stuId from score ss,student s where ss.stuId=s.id</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">exists</span><br><span class="line">select * from student s where exists(</span><br><span class="line">	select stuId from score ss,student s where ss.stuId=s.id</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>====================================================================<br>1 假设a表有10条数据, b 表有 8条数据  做一个左连接查询,最后有多少条数据?   10条</p>
<p>2 表中有A B C三列,用SQL语句实现：当A列大于B列时选择A列否则选择B列，当B列大于C列时选择B列否则选择C列    </p>
<pre><code>select
   (
   case
       when a&gt;b then a
       else b
       end
   ),
   (
   case
       when b&gt;c then b
       else c
       end
   )
   from t
</code></pre><p>3       单号   金额<br>        Rk1     10<br>        Rk2     20<br>        Rk3     -30<br>        Rk4     -10</p>
<pre><code>将上面的表输出为如下的格式：

单号   收入   支出
Rk1     10       0
Rk2     20       0
Rk3      0       30
Rk4      0       10


select 单号,
(
case
    when 金额&gt;0 then 金额
    else 0
end
) as 收入,
(
case
    when 金额&lt;0 then abs(金额)
    else 0
end
) as 支出
from 表
</code></pre><p>4  有一张表T_Scores，记录比赛成绩<br>            Date                Name   Score<br>            2008-8-8          拜仁       胜<br>            2008-8-9          奇才       胜<br>            2008-8-9          湖人       胜<br>            2008-8-10         拜仁       负<br>            2008-8-8          拜仁       负<br>            2008-8-12         奇才       胜</p>
<pre><code>    要求输出下面的格式：
    Name      胜     负
    拜仁      1         2
    湖人      1         0
    奇才      2         0


select Name,
    sum((
    case Score
        when &apos;胜&apos; then 1
        else 0
    end
    )) as 胜,
    sum((
    case Score
        when &apos;负&apos; then 1
        else 0
    end
    )) as 负
from T_Scores
group by Name
</code></pre><p>​<br>5 查询英文名字是不缺分大小写的<br>    需要加BINARY来区别<br>    select * from student where BINARY stuName like ‘A%’</p>
<pre><code>create table user(
    userName varchar(20) binary,
    age int
)
</code></pre><p>6 null 代表什么 ? 如何查询 为null 的值<br>    null 代表”不知道”  is null 或 is not null </p>
<pre><code>还有一个函数 IFNULL (param1,param2)
</code></pre><p>7 char 和 varchar的区别</p>
<p>​<br>​<br>​<br>​    </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/mysql第二天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/mysql第二天/" class="post-title-link" itemprop="url">mysql第二天</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:48:22 / 修改时间：19:50:42" itemprop="dateCreated datePublished" datetime="2019-08-02T19:48:22+08:00">2019-08-02</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-数据查询"><a href="#1-数据查询" class="headerlink" title="1 数据查询"></a>1 数据查询</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">float和DECIMAL以及NUMERIC区别</span><br><span class="line">它们都能表示小数</span><br><span class="line">DECIMAL以及NUMERIC没什么区别</span><br><span class="line">float是近视值</span><br><span class="line">DECIMAL以及NUMERIC是精确值</span><br><span class="line">float比DECIMAL和NUMERIC效率高</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `t_employee` (</span><br><span class="line">  `fnumber` varchar(20) NOT NULL default &apos;&apos;,</span><br><span class="line">  `fname` varchar(20) default NULL,</span><br><span class="line">  `fage` int(11) default NULL,</span><br><span class="line">  `fsalary` decimal(10,2) default NULL,</span><br><span class="line">  `company` varchar(20) default NULL,</span><br><span class="line">  `employee` varchar(20) default NULL,</span><br><span class="line">  PRIMARY KEY  (`fnumber`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">插入数据</span><br><span class="line">	</span><br><span class="line">insert into t_employee(fnumber,fname,fage,fsalary,company,employee) VALUES(&apos;DEV001&apos;,&apos;张三&apos;,25,8300,&apos;腾讯&apos;,&apos;测试部&apos;);</span><br><span class="line">insert into t_employee(fnumber,fname,fage,fsalary,company,employee) VALUES(&apos;DEV002&apos;,&apos;李四&apos;,28,2300.80,&apos;华为&apos;,&apos;前端开发部&apos;);</span><br><span class="line">insert into t_employee(fnumber,fname,fage,fsalary,company,employee) VALUES(&apos;DEV003&apos;,&apos;王五&apos;,23,5000,&apos;微软&apos;,&apos;后端开发部&apos;);</span><br><span class="line">insert into t_employee(fnumber,fname,fage,fsalary,company,employee) VALUES(&apos;DEV004&apos;,&apos;赵六&apos;,28,6200,&apos;万达&apos;,&apos;测试部&apos;);</span><br><span class="line">insert into t_employee(fnumber,fname,fage,fsalary,company,employee) VALUES(&apos;DEV005&apos;,&apos;田七&apos;,22,1200,&apos;腾讯&apos;,&apos;后端开发部&apos;);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">===简单的数据查询</span><br><span class="line">	select * from t_employee;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">===只检索需要的列</span><br><span class="line">	select fname as &apos;姓名&apos;,fsalary as &apos;工资&apos; from t_employee</span><br><span class="line">	</span><br><span class="line">	select fname  &apos;姓名&apos;,fsalary  &apos;工资&apos; from t_employee</span><br><span class="line">	</span><br><span class="line">=== 可以检索不与任何表字段关联的列</span><br><span class="line">	select 1+1</span><br><span class="line">	select NOW()</span><br><span class="line">	select &apos;中国&apos; as &apos;国家&apos;</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">===聚合函数</span><br><span class="line">	Max()   //取最大值</span><br><span class="line">	Min()   //取最小值</span><br><span class="line">	Avg()   //平均值</span><br><span class="line">	Count()  //求数据的条数</span><br><span class="line">	sum()    //求合</span><br><span class="line">	</span><br><span class="line">//切记 where后面不许跟聚合函数</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">求  大于25岁的员工最高工资</span><br><span class="line">	select max(fsalary) from t_employee where fage&gt;25</span><br><span class="line">	</span><br><span class="line">求  员工表中的最高工资,最低工资和平均工资</span><br><span class="line">	select max(fsalary),min(fsalary),avg(fsalary) from t_employee</span><br><span class="line">	</span><br><span class="line">求  工资总和</span><br><span class="line">	select sum(fsalary) from t_employee</span><br><span class="line">	</span><br><span class="line">求  有多少个大于25岁的员工</span><br><span class="line">	select count(fage) from t_employee where fage&gt;25</span><br><span class="line">	select count(*) from t_employee where fage&gt;25</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意: count(*) 不许有空格 count (*)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">=====数据排序</span><br><span class="line">	 </span><br><span class="line">	 order by 子句,一般用于select语句的最后,可以指定用一个列或者多个列</span><br><span class="line">	 可以升序(ASC) 或者降序 (DESC)</span><br><span class="line">	 </span><br><span class="line">	 select * from t_employee order by fsalary ASC  --工资的升序,默认就是升序</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from t_employee order by fsalary DESC  --降序</span><br><span class="line"></span><br><span class="line">select * from t_employee order by fsalary DESC,fage ASC --先比较工资,工资一样,在比较年龄</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">=====通配符</span><br><span class="line">	</span><br><span class="line">	使用like关键字匹配进行查询</span><br><span class="line">	叫模糊查询</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_ 匹配单个字符</span><br><span class="line">	</span><br><span class="line">	例子</span><br><span class="line">	张_  只会匹配以张开头,并且名字后只有一个字符的人  张三  可以   张三三 不可以</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">% 匹配多个字符</span><br><span class="line">	</span><br><span class="line">	例子</span><br><span class="line">	张%	只要以张开头就行  张fefsdasdasdaafa  可以  dasfafdasa张fasfafafa  不可以</span><br><span class="line">	%张% 只要含有张就可以  张fefsdasdasdaafa 可以  dasfafdasa张fasfafafa  可以</span><br><span class="line">	%张  张必须结尾		safdasfafaf张  可以</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//查询姓张的人</span><br><span class="line">select * from t_employee where fname like &apos;张%&apos;;</span><br><span class="line"></span><br><span class="line">//查询姓张的,是两个字的名字</span><br><span class="line">select * from t_employee where fname like &apos;张_&apos;;</span><br><span class="line"></span><br><span class="line">//三个字的</span><br><span class="line">select * from t_employee where fname like &apos;张__&apos;;  //两个下划线</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">=====空值的处理</span><br><span class="line">数据库中,如果有一个列的值没有指定,它的值就是Null,表示不知道</span><br><span class="line">查询数据库中,所有test不为Null的人</span><br><span class="line"></span><br><span class="line">select * from t_employee where test!=null   不可以</span><br><span class="line">select * from t_employee where test&lt;&gt;null	不可以</span><br><span class="line">select * from t_employee where test is not NULL 可以</span><br><span class="line"></span><br><span class="line">select * from t_employee where test is NULL //查询为null</span><br><span class="line"></span><br><span class="line">所以千万注意,对于null值,不能用 = &gt; &lt; != &lt;&gt; 等,查出来的不准确</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">=====多值匹配</span><br><span class="line"></span><br><span class="line">查询年龄23 25 28 的人</span><br><span class="line">select * from t_employee where fage=25 or fage=23 or fage=28</span><br><span class="line">select * from t_employee where fage in(23,25,28)</span><br><span class="line"></span><br><span class="line">查询年龄在 &gt;=23 &lt;=25 的人</span><br><span class="line">select * from t_employee where fage&gt;=23 and fage&lt;=25</span><br><span class="line">select * from t_employee where fage between 23 and 25  //包含前后区间</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> ====分组查询</span><br><span class="line">  分组是把查询出的数据,进行一个分组, 用group by</span><br><span class="line">  例如</span><br><span class="line">		公司   人数</span><br><span class="line">		腾讯	2</span><br><span class="line">		华为	1</span><br><span class="line">		阿里	1</span><br><span class="line">		</span><br><span class="line">1) 每个公司有多少人	</span><br><span class="line">  SELECT company &apos;公司&apos;,count(fnumber) &apos;人数&apos; from t_employee GROUP BY company</span><br><span class="line">  </span><br><span class="line">2) 每个公司的平均工资是多少?</span><br><span class="line">	select avg(fsalary),company from t_employee GROUP BY company</span><br><span class="line">	</span><br><span class="line">3) 每个公司员工的总工资</span><br><span class="line">	select company,sum(fsalary) from t_employee GROUP BY company</span><br><span class="line">	</span><br><span class="line">4) 查询各公司各部门的总工资</span><br><span class="line">	select company,employee,sum(fsalary) from t_employee GROUP BY company,employee</span><br></pre></td></tr></table></figure>
<pre><code>小技巧:如果查询后面跟着聚合函数和非聚合函数,那么就需要用到分组,分组的后面是非聚合函数,即可
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">====having</span><br><span class="line">	对分组后的数据,进行过滤,不能用where,要用having</span><br><span class="line">	</span><br><span class="line">1) 查询总工资大于4k的公司</span><br><span class="line">	select sum(fsalary),company from t_employee GROUP BY company having sum(fsalary)&gt;4000</span><br><span class="line">	</span><br><span class="line">2) 查询数据库,查询平均年龄在20到30的公司</span><br><span class="line">	select avg(fage),company from t_employee GROUP BY company having avg(fage) between 20 and 30</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">====去重复</span><br><span class="line">distinct  //这个关键字可以对结果集去重</span><br><span class="line"></span><br><span class="line">select count(DISTINCT company) from t_employee</span><br><span class="line">不可以</span><br><span class="line">select DISTINCT count(company) from t_employee  结果将不准确</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select DISTINCT company,employee from t_employee   只有当公司和部门都一致的时候,才会去重,证明是整个结果集去重</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">====限制结果集</span><br><span class="line">	查询前两条记录</span><br><span class="line">	</span><br><span class="line">	select top 2 * from t_employee  //sql server可以</span><br><span class="line">	</span><br><span class="line">	在mysql中</span><br><span class="line">	select * from t_employee LIMIT 2</span><br><span class="line">	select * from t_employee LIMIT 0,2   //从0开始,2两条数据</span><br><span class="line">	select * from t_employee LIMIT 2,2   //从第2条记录开始查询,</span><br><span class="line">	</span><br><span class="line">====联合结果集</span><br><span class="line">	</span><br><span class="line">	union  和 union all</span><br><span class="line">	</span><br><span class="line">	create table t_tempemployee(</span><br><span class="line">		idnumber VARCHAR(20),</span><br><span class="line">		fname VARCHAR(20),</span><br><span class="line">		fage int,</span><br><span class="line">		PRIMARY key(idnumber)</span><br><span class="line">	)</span><br><span class="line">	</span><br><span class="line">INSERT INTO T_TempEmployee(idnumber,FName,FAge) VALUES(&apos;1234567890121&apos;,&apos;Sarani&apos;,33);</span><br><span class="line">INSERT INTO T_TempEmployee(idnumber,FName,FAge) VALUES(&apos;1234567890122&apos;,&apos;Tom&apos;,26);</span><br><span class="line">INSERT INTO T_TempEmployee(idnumber,FName,FAge) VALUES(&apos;1234567890123&apos;,&apos;Yalaha&apos;,38);</span><br><span class="line">INSERT INTO T_TempEmployee(idnumber,FName,FAge) VALUES(&apos;1234567890124&apos;,&apos;Tina&apos;,26);</span><br><span class="line">INSERT INTO T_TempEmployee(idnumber,FName,FAge) VALUES(&apos;1234567890125&apos;,&apos;Konkaya&apos;,29);</span><br><span class="line">INSERT INTO T_TempEmployee(idnumber,FName,FAge) VALUES(&apos;1234567890126&apos;,&apos;Fotifa&apos;,46);	</span><br><span class="line"></span><br><span class="line">//例子 查询所有员工(正式,临时)的编号,名字,年龄</span><br><span class="line">select fnumber,fname,fage from t_employee</span><br><span class="line">UNION</span><br><span class="line">select * from t_tempemployee  //* 必须和上面的列保持一致,类型对应上就不会报错</span><br><span class="line"></span><br><span class="line">//附:UNION语句对于多个表查询速度非常快,速度越快,越不容易引起表的死锁,越慢越容易</span><br><span class="line"></span><br><span class="line">基本原则:每个结果集的列数必须相同,每个对应的列,类型必须兼容</span><br><span class="line"></span><br><span class="line">//可以使用 与列名无关的字符串,进行联合</span><br><span class="line">select fname,fnumber,fage,fsalary from t_employee</span><br><span class="line">UNION</span><br><span class="line">select *,&apos;&apos; from t_tempemployee</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">union all 不去重复,效率高</span><br><span class="line"></span><br><span class="line">例子 查询员工的最高年龄和最低年龄,临时工的最高年龄和最低年龄</span><br><span class="line"></span><br><span class="line">	 结果</span><br><span class="line">		 正式员工最高年龄	28</span><br><span class="line">		 正式员工最低年龄	22</span><br><span class="line">		 临时员工最高年龄	46</span><br><span class="line">		 临时员工最低年龄	25</span><br><span class="line"></span><br><span class="line">select &apos;正式员工的最高年龄&apos;,max(fage) from t_employee</span><br><span class="line">UNION</span><br><span class="line">select &apos;正式员工的最低年龄&apos;,min(fage) from t_employee</span><br><span class="line">union</span><br><span class="line">select &apos;临时员工的最高年龄&apos;,max(fage) from t_tempemployee</span><br><span class="line">UNION</span><br><span class="line">select &apos;临时员工的最低年龄&apos;,min(fage) from t_tempemployee</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">如果觉得表头不好</span><br><span class="line">	select temp.n1 as &apos;员工年龄&apos;,temp.age as &apos;年龄&apos; from(</span><br><span class="line">		select &apos;正式员工的最高年龄&apos; as n1,max(fage)as age from t_employee</span><br><span class="line">		UNION</span><br><span class="line">		select &apos;正式员工的最低年龄&apos; as n1,min(fage)as age from t_employee</span><br><span class="line">		union</span><br><span class="line">		select &apos;临时员工的最高年龄&apos; as n1,max(fage)as age from t_tempemployee</span><br><span class="line">		UNION</span><br><span class="line">		select &apos;临时员工的最低年龄&apos; as n1,min(fage)as age from t_tempemployee</span><br><span class="line">	) as temp</span><br><span class="line">	</span><br><span class="line">//例子 查询每个正式员工的信息,工号,工资,在最后一行计算出工资总和</span><br><span class="line">	结果:</span><br><span class="line">			工号     工资</span><br><span class="line">			....      ...</span><br><span class="line">			工资总和  ****</span><br><span class="line">			</span><br><span class="line">	select fnumber &apos;工号&apos;,fsalary &apos;工资&apos; from t_employee</span><br><span class="line">	UNION ALL</span><br><span class="line">	select &apos;工资总和&apos;,sum(fsalary) from t_employee</span><br></pre></td></tr></table></figure>
<p>​        </p>
<h1 id="2-函数"><a href="#2-函数" class="headerlink" title="2 函数"></a>2 函数</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">	函数能少用就少用,容易造成数据不兼容</span><br><span class="line">	</span><br><span class="line">====数字函数</span><br><span class="line">  select abs(-1)  //绝对值</span><br><span class="line">  select ceiling(3.2)   //4  返回比括号中数值大的最小整数</span><br><span class="line">  select FLOOR(3.2)     //3  返回比括号中数值小的最大整数</span><br><span class="line">  select ROUND(4.5)    //5  四舍五入</span><br><span class="line">  select ROUND(3.1415926,3)  //3.142</span><br><span class="line">  </span><br><span class="line">====字符串的操作</span><br><span class="line"> select CHAR_LENGTH(&apos;123456&apos;)  //6</span><br><span class="line"> select CHAR_LENGTH(NULL)   //求长度的字段的值是null时,查询返回也为null</span><br><span class="line"> select LOWER(&apos;AAABBBxccc&apos;)   //aaabbbxccc   变小写</span><br><span class="line"> select UPPER(&apos;AAABBBxccc&apos;)   //AAABBBXCCC</span><br><span class="line"> select UPPER(fname) from t_tempemployee  //查询的名字返回出来都是大写的</span><br><span class="line"> select trim(&apos;      我的两边有空格       &apos;) //去两边空格</span><br><span class="line"> select CONCAT(&apos;qwe&apos;,&apos;rty&apos;)</span><br><span class="line"> 或者select CONCAT(&apos;qwe&apos;,&apos;rty&apos;,&apos;uio&apos;)//里面可以连接很多字符串</span><br><span class="line"> select SUBSTRING(&apos;123456&apos; ,1,3) //得到123 </span><br><span class="line"> </span><br><span class="line"> ====日期函数</span><br><span class="line">	select now()  //当前时间</span><br><span class="line">	select HOUR(now())  //当前小时</span><br><span class="line">	select MINUTE(now())  //当前分钟</span><br><span class="line">	select month(now())  //当前月份</span><br><span class="line">	select QUARTER(now())  //季度</span><br><span class="line">	</span><br><span class="line"> ====其他</span><br><span class="line">	ifnull(arg1,arg2)  //如果第一个表达式arg1的值为null,则结果为第二个表达式arg2,否则结果为第一个arg1表达式</span><br><span class="line">			例如	select IFNULL(test,0) from t_employee</span><br><span class="line">			</span><br><span class="line">	select database()  //获取当前数据库</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//练习</span><br><span class="line"></span><br><span class="line">//今天</span><br><span class="line">select * from 表名 where to_days(时间字段)=to_days(now())</span><br><span class="line"></span><br><span class="line">//昨天</span><br><span class="line">select * from 表名 where to_days(时间字段)=to_days(now())-1</span><br><span class="line"></span><br><span class="line">//近7天</span><br><span class="line">select * from 表名 where date_sub(CURDATE(),INTERVAL 7 day)&lt;=data(时间字段) 2019-08-01</span><br><span class="line"></span><br><span class="line">//本月</span><br><span class="line">select * from 表名 where DATE_FORMAT(时间字段,&apos;%Y%m&apos;)=DATE_FORMAT(CURDATE(),&apos;%Y%m&apos;)</span><br><span class="line"></span><br><span class="line">//上一个月</span><br><span class="line">select * from 表名 where DATE_FORMAT(时间字段,&apos;%Y%m&apos;)=DATE_FORMAT(CURDATE(),&apos;%Y%m&apos;)-1</span><br><span class="line"></span><br><span class="line">//上一年的数据</span><br><span class="line">select * from 表名 where year(时间字段)=year(now())-1</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//例子 员工考勤查询</span><br><span class="line">select sname,min(time) as &apos;上班&apos;,max(time) as &apos;下班&apos; </span><br><span class="line">from t_user</span><br><span class="line">where CURDATE()=&apos;2019-08-01&apos;</span><br><span class="line">GROUP BY sname</span><br></pre></td></tr></table></figure>
<h1 id="3-CASE-语句"><a href="#3-CASE-语句" class="headerlink" title="3 CASE 语句"></a>3 CASE 语句</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">//例子 查询年龄,如果是20岁,显示&apos;小青年&apos; ,如果是28岁,显示&apos;老家伙&apos; 其他显示 &apos;中等家伙&apos;</span><br><span class="line">select fname,</span><br><span class="line">(</span><br><span class="line">CASE fage</span><br><span class="line">	WHEN 20 then &apos;小青年&apos;</span><br><span class="line">	when 28 then &apos;老家伙&apos;</span><br><span class="line">	else &apos;中等家伙&apos;</span><br><span class="line">END</span><br><span class="line">) as &apos;等级划分&apos;</span><br><span class="line">from t_employee</span><br><span class="line"></span><br><span class="line">//例子  如果收费大于等于1000,则显示&apos;乱收费&apos; ,如果小于等于700,显示&apos;低收费&apos;,其他显示&apos;可疑收费&apos;</span><br><span class="line">create table Fee (feeName varchar(50),amount int)</span><br><span class="line">   </span><br><span class="line">  insert into Fee(feeName,amount)  values (&apos;水费&apos;, 200);</span><br><span class="line">  insert into Fee(feeName,amount)  values (&apos;电费&apos;, 700);</span><br><span class="line">  insert into Fee(feeName,amount)  values (&apos;取暧费&apos;, 800);</span><br><span class="line">  insert into Fee(feeName,amount)  values (&apos;个人所得税&apos;, 1000);</span><br><span class="line">  insert into Fee(feeName,amount)  values (&apos;物业费&apos;, 1200);</span><br><span class="line">  </span><br><span class="line">  SELECT </span><br><span class="line">	feeName,</span><br><span class="line">	(</span><br><span class="line">	CASE</span><br><span class="line">		when amount&gt;=1000 then &apos;乱收费&apos;</span><br><span class="line">		when amount&lt;=700 then &apos;低收费&apos;</span><br><span class="line">		else &apos;可疑收费&apos;</span><br><span class="line">	END) as &apos;收费&apos;</span><br><span class="line">	FROM fee;</span><br></pre></td></tr></table></figure>
<h1 id="4-外键"><a href="#4-外键" class="headerlink" title="4 外键"></a>4 外键</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">为了保护数据的安全性和完整性</span><br><span class="line"></span><br><span class="line">学生  学校</span><br><span class="line"></span><br><span class="line">create table t_school(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">	name varchar(20)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table t_student(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">	name varchar(20),</span><br><span class="line">	schoolId int</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">添加外键</span><br><span class="line">alter table t_student add constraint fk_xxxx foreign key(schoolId) references t_school(id)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">删除外键</span><br><span class="line">alter table t_student drop foreign key fk_xxxx</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">也可以在图形化界面中直接创建</span><br><span class="line"></span><br><span class="line">RESTRICT   //默认值 拒接删除(除非没有人引用这个值,才可以删除),比较安全</span><br><span class="line">NO ACTION  //和上面一样</span><br><span class="line">CASCADE    //级联删除,非常不安全</span><br><span class="line">SET NULL   //删除时,会把引用这个外键的栏目设置为null</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">==创建表的时候就可以指定外键</span><br><span class="line">create table t_school(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">	name varchar(20)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table t_student(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">	name varchar(20),</span><br><span class="line">	schoolId int,</span><br><span class="line">	constraint fK_dasdas foreign key(schoolId) references t_school(id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>​<br>​<br>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">附: 引擎</span><br><span class="line">mysql中的数据用各种不同的技术存储在文件中或者内存中</span><br><span class="line">而这些技术使用了不同的存储机制,就是引擎赋予的</span><br><span class="line"></span><br><span class="line">InnoDB 在5版本之后自动默认支持的,他支持事务 表级别锁 行级别锁</span><br><span class="line">MyISAM 支持表级别锁,不支持事务,外键等</span><br><span class="line"></span><br><span class="line">现在比较常用InnoDB,因为MyISAM 支持表级别锁,那么并发性就会差</span><br><span class="line">而InnoDB支持行级别锁,并发性就会好,但是存在的隐患就是容易死锁</span><br></pre></td></tr></table></figure></p>
<p>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​<br>​        </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/mysql第一天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/mysql第一天/" class="post-title-link" itemprop="url">mysql第一天</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:44:58 / 修改时间：19:48:12" itemprop="dateCreated datePublished" datetime="2019-08-02T19:44:58+08:00">2019-08-02</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-数据库的基本概念"><a href="#1-数据库的基本概念" class="headerlink" title="1 数据库的基本概念"></a>1 数据库的基本概念</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据库:数据库主要是储存大量数据而发展出来，一开始由于数据量大所以无法高效的管理数据，</span><br><span class="line">       所以发展出来了数据库这个管理软件。</span><br><span class="line">       它是以一定方式储存在一起,能为多个用户共享,具有尽可能小的冗余度的特点,是与应用程序彼此独立的数据集合</span><br><span class="line">       数据库大体分为：关系型数据库和非关系型，关系型数据库是建立在关系模型基础上的数据库</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql就是关系型数据库,在关系型数据库中存在 库 表 字段 的概念</span><br><span class="line">mysql服务中存在多个库</span><br><span class="line">一个库中存在多张表,表依赖于库而存在的</span><br><span class="line">一个表中存在多个字段,字段依赖于表而存在</span><br><span class="line"></span><br><span class="line">几种常见的术语</span><br><span class="line">===DB (DataBase)  数据库</span><br><span class="line">===DBMS  (DataBase Management System) 数据库管理系统</span><br><span class="line">===DBA 数据库管理员</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">各种数据库的比较</span><br><span class="line">-- Access  //微软</span><br><span class="line">	是一种桌面数据库，只适合数据量少的应用，在处理少量数据和单机访问的数据库时是很好的，效率也很高。</span><br><span class="line">	但是它同时访问客户端不能多于4个。Access数据库有一定的极限，</span><br><span class="line">	如果数据达到100M左右，很容易造成服</span><br><span class="line">	务器假死，或者消耗掉服务器的内存导致服务器崩溃</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">--SQL Server  //微软重型数据库  mssql是SQL Server简称</span><br><span class="line">	是基于服务器端的中型的数据库，可以适合大容量数据的应用，在功能上管理上也要比Microsoft Access要强得多。</span><br><span class="line">	在处理海量数据的效率，后台开发的灵活性，可扩展性等方面强大。因为现在数据库都使用标准的SQL语言对数据库进行</span><br><span class="line">	管理，所以如果是标准SQL	语言，两者基本上都可以通用的。Microsoft SQL Server还有更多的扩展，可以用存储过程，</span><br><span class="line">	数据库大小无极限限制</span><br><span class="line">	  </span><br><span class="line">	//不跨平台 </span><br><span class="line">	</span><br><span class="line">--MySql  //MariaDB</span><br><span class="line">	是个开源的数据库 server，可运行在多种平台，如windows，unix/linux; 他的体积很小</span><br><span class="line">       是专为WEB 数据库设计的，特点是响应速度特别快，主要面向中小企业，对于海量数据库</span><br><span class="line">    就显得力不从心了，它是真正的多用户多任务的数据库系统，他占用系统资源很少但功能</span><br><span class="line">    很强大，可以作为大型数据库系统使用，最主要是其标准版是免费的。</span><br><span class="line">	</span><br><span class="line">-- Oracle</span><br><span class="line">	各方面都比较成熟,但对硬件要求高，用于数据完整性、安全性要求较高的场合，能在所有主流平台上运行，完</span><br><span class="line">	全支持所有的工业标准，采用完全开放策略。可以使客户选择最适合的解决方案，对开发商全力支持。平行服务器通过使</span><br><span class="line">	一组结点共享同一簇中的工作来扩展服务器的能力,提供高可用性和高伸缩性的簇的解决方案，获得最高认证级别的iso</span><br><span class="line">	标准认证，多层次网络计算，支持多种工业标准，可以用odbc,jdbc,oci等网络客户连接，较复杂，同时提供gui</span><br><span class="line">	和命令行，在windows和unix下操作相同，如果windows不能满足需要,用户可以把数据库移到unix中。其操作和设置比较复杂，</span><br><span class="line">	适用于有一定操作经验的用户</span><br><span class="line">	</span><br><span class="line">--IBM DB2 </span><br><span class="line">   DB2是IBM一种分布式数据库解决方案。</span><br><span class="line">   说简单点：DB2就是IBM开发的一种大型关系型数据库平台。</span><br><span class="line">   它支持多用户或应用程序在同一条SQL 语句中查询不同database甚至不同DBMS中的数据</span><br><span class="line"></span><br><span class="line">--MangoDB	</span><br><span class="line">    MongoDB是一个基于分布式文件存储的数据库。由C++语言编写。</span><br><span class="line"> 旨在为WEB应用提供可扩展的高性能数据存储解决方案。</span><br><span class="line"> MongoDB是一个介于关系数据库和非关系数据库之间的产品，</span><br><span class="line"> 是非关系数据库当中功能最丰富，最像关系数据库的。</span><br><span class="line"> 它支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。</span><br><span class="line"> MangoDB最大的特点是它支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，</span><br><span class="line"> 几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。</span><br></pre></td></tr></table></figure>
<h1 id="2-MySql数据库的安装和维护"><a href="#2-MySql数据库的安装和维护" class="headerlink" title="2 MySql数据库的安装和维护"></a>2 MySql数据库的安装和维护</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">安装略.....</span><br><span class="line"></span><br><span class="line">然后可以运行</span><br><span class="line">cmd--&gt;输入 mysql -uroot -p密码 回车</span><br><span class="line">或者在所有程序中找到mysql直接进入mysql窗口客户端,输入密码,回车 即可</span><br><span class="line"></span><br><span class="line">1) 查看所有数据库</span><br><span class="line">	mysql&gt; show databases;</span><br><span class="line">	</span><br><span class="line">2) 选择某个数据库</span><br><span class="line">	mysql&gt; use shop;</span><br><span class="line">	Database changed</span><br><span class="line">	</span><br><span class="line">3) 查看库中所有表</span><br><span class="line">	mysql&gt; show tables;</span><br><span class="line">	</span><br><span class="line">4) 显示当前用户</span><br><span class="line">	 select user();</span><br><span class="line">	 </span><br><span class="line">5) 退出</span><br><span class="line">	quit;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">修改密码</span><br><span class="line">update mysql.user set password=password(&apos;新密码&apos;) where user=&apos;用户名&apos;;</span><br><span class="line">刷新权限</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
<h1 id="3-MySQL数据类型"><a href="#3-MySQL数据类型" class="headerlink" title="3 MySQL数据类型"></a>3 MySQL数据类型</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-----数值型</span><br><span class="line">       SMALLINT: 2个字节</span><br><span class="line">	INT: 4个字节      //age int</span><br><span class="line">	INTEGER:INT的同义词 </span><br><span class="line">	BIGINT : 8个字节</span><br><span class="line">	FLOAT : 4个字节   //score float(10,2)  </span><br><span class="line">	DOUBLE : 8个字节 </span><br><span class="line"></span><br><span class="line"> -----字符串类型</span><br><span class="line">    </span><br><span class="line">    CHAR:固定长度字符串  sex char(2)  //  2指的是字符</span><br><span class="line">    VARCHAR:可变长度字符串 name varchar(20)  //  20指的是字符</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    虽然VARCHAR使用起来较为灵活,但是从整个系统的性能角度来说,CHAR数据类型的处理速度更快</span><br><span class="line">    有时甚至可以超过VARCHAR处理速度的50%</span><br><span class="line">	</span><br><span class="line">-----日期/时间类型</span><br><span class="line"> </span><br><span class="line">     DATE: YYYY-MM-DD</span><br><span class="line">     DATETIME:YYYY-MM-DD HH:MM:SS</span><br><span class="line">     TIMESTAMP:YYYY-MM-DD HH:MM:SS    // TIMESTAMP 时间戳</span><br><span class="line">     TIME:HH:MM:SS</span><br><span class="line">     YEAR:YYYY</span><br><span class="line">		</span><br><span class="line">	时间戳特点:此数据类型常用于记载日期和时间,当数据进行更改操作时,会自定更新时间</span><br><span class="line">	</span><br><span class="line">-----其他</span><br><span class="line">  </span><br><span class="line">  BLOB和TEXT </span><br><span class="line">  用于存储大文本的数据</span><br><span class="line">  </span><br><span class="line">  不同:</span><br><span class="line">	 1. BLOB 类型区分大小写</span><br><span class="line">		TEXT 不区分大小写</span><br><span class="line">	 2. BLOB被视为二进制字符串(例如 图片等);</span><br><span class="line">		Text被视为非二进制字符串</span><br><span class="line">	 3. BLOB 可以储存图片,TEXT不行，TEXT只能储存纯文本文件。4个TEXT类型TINYTEXT、TEXT、MEDIUMTEXT和LONGTEXT对应于4个BLOB类型，并且有同样的最大长度和存储需求。</span><br><span class="line">		一个BLOB是一个能保存可变数量的数据的二进制的大对象。4个BLOB类型TINYBLOB、BLOB、MEDIUMBLOB和LONGBLOB仅仅在他们能保存值的最大长度方面有所不同。</span><br><span class="line">		TinyBlob 最大 255 </span><br><span class="line">	　　Blob 最大 65K </span><br><span class="line">	　　MediumBlob 最大 16M </span><br><span class="line">	　　LongBlob 最大 4G</span><br></pre></td></tr></table></figure>
<h1 id="4-SQL语言简介-sql-结构化查询语句"><a href="#4-SQL语言简介-sql-结构化查询语句" class="headerlink" title="4 SQL语言简介  (sql:结构化查询语句)"></a>4 SQL语言简介  (sql:结构化查询语句)</h1><p>​<br>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">===SQL 语句中的字符串用单引号</span><br><span class="line">===SQL 语句大小写不敏感,不敏感的是关键字</span><br><span class="line">===SQL 语言主要分为几类</span><br><span class="line">       DDL(数据定义语言) Create Table, Drop Table,Alter Table等操作</span><br><span class="line">       DML(数据操作语言) Select, Insert , Update , Delete 等操作</span><br><span class="line">       DCL(数据控制语言) 存储权限,访问权限</span><br></pre></td></tr></table></figure>
<h1 id="5-创建表-和管理表-DDL"><a href="#5-创建表-和管理表-DDL" class="headerlink" title="5 创建表,和管理表 (DDL)"></a>5 创建表,和管理表 (DDL)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">--创建数据库</span><br><span class="line">	create database 库名;</span><br><span class="line">	</span><br><span class="line">--创建表</span><br><span class="line">	create table student(</span><br><span class="line">		id int primary key auto_increment,</span><br><span class="line">		stuName varchar(20) not null,  //可以添加约束条件 非空</span><br><span class="line">		school varchar(20) comment &apos;字段的注释,是学校&apos;,</span><br><span class="line">		score float(5,2),  //最长5位,小数点后2位</span><br><span class="line">		birthday date,</span><br><span class="line">		sex char(2) default &apos;女&apos;   //最后一行不要加逗号</span><br><span class="line">	)comment=&apos;表的注释,学生&apos;</span><br><span class="line"></span><br><span class="line">	primary key: 主键</span><br><span class="line">	主键的目的可以确定唯一 一行数据</span><br><span class="line">	auto_increment:设置主键自增,对于自增主键是有自增这个属性的</span><br><span class="line">	</span><br><span class="line">	单独设置的主键,叫做单列主键</span><br><span class="line">	可以多个列来设置主键,叫复合主键</span><br><span class="line">	//例如</span><br><span class="line">	create table student(</span><br><span class="line">		学号 int(10),</span><br><span class="line">		班级 varchar(20),  </span><br><span class="line">		姓名 varchar(20),</span><br><span class="line">		sex char(2), </span><br><span class="line">		primary key(学号,班级)		</span><br><span class="line">	)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">--显示表的详情</span><br><span class="line">	&gt; desc student;</span><br><span class="line">--显示表的创建语句</span><br><span class="line">	show create table student</span><br><span class="line">	</span><br><span class="line">	CREATE TABLE `student` (</span><br><span class="line">	  `id` int(10) NOT NULL auto_increment,</span><br><span class="line">	  `stuName` varchar(20) NOT NULL,</span><br><span class="line">	  `school` varchar(20) default NULL COMMENT &apos;字段的注释,是学校&apos;,</span><br><span class="line">	  `score` float(5,2) default NULL,</span><br><span class="line">	  `birthday` date default NULL,</span><br><span class="line">	  `sex` char(2) default &apos;女&apos;,</span><br><span class="line">	  PRIMARY KEY  (`id`)</span><br><span class="line">	) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COMMENT=&apos;表的注释,学生&apos;</span><br><span class="line">	</span><br><span class="line">--删除表</span><br><span class="line">	drop table student;</span><br><span class="line">	</span><br><span class="line">--删除数据库</span><br><span class="line">	drop database java90;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">附:utf8和utf-8区别</span><br><span class="line">   utf8支持每个字符三个字节,而真正的utf-8每个字符四个字节</span><br><span class="line">   在后期版本中出现了utf8mb4字符</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  ======表的修改语句</span><br><span class="line">	</span><br><span class="line">//给表增加一列</span><br><span class="line">	alter table student add aa int;</span><br><span class="line">	</span><br><span class="line">//修改表中的列名</span><br><span class="line">	 alter table student change aa age int;</span><br><span class="line">	 </span><br><span class="line">//修改表,设置某列添加约束</span><br><span class="line">	 alter table student modify sex char(1) not null;</span><br><span class="line">	 </span><br><span class="line">//修改表的名称</span><br><span class="line">	  alter table student rename as t_student; </span><br><span class="line">	  </span><br><span class="line">// 修改表的注释</span><br><span class="line">	 alter table t_student comment &apos;修改之后的注释&apos;;</span><br><span class="line"></span><br><span class="line">// 修改字段的注释</span><br><span class="line">	  alter table t_student modify shcool varchar(30) comment &apos;修改字段注释&apos;;</span><br><span class="line">	  注意:字段名要一致,其中字段类型可以修改,但是注意表中的数据类型,而且类型大小也可以改</span><br><span class="line">	  </span><br><span class="line">//修改字段的默认值</span><br><span class="line">	  alter table t_student alter sex set default &apos;&apos;</span><br></pre></td></tr></table></figure></p>
<h1 id="6-数据插入"><a href="#6-数据插入" class="headerlink" title="6 数据插入"></a>6 数据插入</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">insert into 语句	</span><br><span class="line">insert into t_student(stuName,sex,score,school) values(&apos;张三&apos;,&apos;男&apos;,90,&apos;理工&apos;);</span><br><span class="line"></span><br><span class="line">//字符串类型用 &apos;&apos;引起来</span><br><span class="line">//数值型不可以用单引号</span><br><span class="line">//日期类型也要用单引号引起来</span><br><span class="line">//字段列表,和后面的值列表要匹配</span><br><span class="line">//通常,对于自增主键可以不指定id</span><br><span class="line"></span><br><span class="line">//多条记录插入</span><br><span class="line">insert into t_student(stuName) VALUES</span><br><span class="line">(&apos;a&apos;),</span><br><span class="line">(&apos;b&apos;),</span><br><span class="line">(&apos;c&apos;);</span><br><span class="line"></span><br><span class="line">//复制表记录</span><br><span class="line">insert into student_backup select id,stuName,school from t_student</span><br><span class="line">student_backup表里的字段要和后面查询的字段保持一致,就算是id自动递增也不会放过</span><br></pre></td></tr></table></figure>
<h1 id="7-数据更新"><a href="#7-数据更新" class="headerlink" title="7 数据更新"></a>7 数据更新</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 字段=新值</span><br><span class="line"></span><br><span class="line">update t_student set score=100  //更新表中score所以字段数组</span><br><span class="line"></span><br><span class="line">update t_student set score=60 where id=5  //修改id为5的成绩</span><br><span class="line"></span><br><span class="line">update t_student set score=70,stuName=&apos;王五&apos; where id=5 //修改id为5的成绩和名字</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">update t_student set score=score+10,stuName=&apos;王五&apos; where id=5 //修改id为5的名字,成绩为原来的成绩+10分</span><br><span class="line"></span><br><span class="line">更新条件符号</span><br><span class="line">and  or &gt; &lt; &gt;= &lt;= &lt;&gt; !=  //&lt;&gt; 不等于</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update t_student set stuName=&apos;王麻子&apos; where school=&apos;理工&apos; AND score&lt;100</span><br></pre></td></tr></table></figure>
<h1 id="8-数据删除"><a href="#8-数据删除" class="headerlink" title="8 数据删除"></a>8 数据删除</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名  删除表中所有记录</span><br><span class="line"></span><br><span class="line">delete from 表名 where id=3  //删除id为3的记录</span><br><span class="line"></span><br><span class="line">truncate table 表名  删除表中所有记录</span><br><span class="line">==&gt;delete from 表名</span><br><span class="line"></span><br><span class="line">1) truncate table 速度快</span><br><span class="line">2) 自动把自增主键id从1开始重置</span><br></pre></td></tr></table></figure>
<h1 id="9-查询数据"><a href="#9-查询数据" class="headerlink" title="9 查询数据"></a>9 查询数据</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select 字段1,字段2....字段n from 表名 [where 条件]</span><br><span class="line"></span><br><span class="line">//例子</span><br><span class="line">select stuName,score from t_student where id=1</span><br><span class="line"></span><br><span class="line">select * from t_student where id=1  // * 代表所有字段</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select stuName as &apos;姓名&apos;,score as &apos;成绩&apos; from t_student  //把字段加别名</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">select stuName &apos;姓名&apos;,score  &apos;成绩&apos; from t_student</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select stu1.stuName &apos;姓名&apos;,stu1.score &apos;成绩&apos; from t_student stu1  //把表起别名,目的为了区分字段归属</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">客户端软件的快捷键</span><br><span class="line">	</span><br><span class="line">	1. ctrl+q   打开查询界面</span><br><span class="line">	2. ctrl+w   关闭查询界面</span><br><span class="line">	3. ctrl+/   注释</span><br><span class="line">	4. ctrl+shift+/   解开注释</span><br><span class="line">	5. F6     命令提示附窗口</span><br><span class="line">	6. ctrl+shift+r   选中位置执行</span><br><span class="line">	7. ctrl+l  删除一行</span><br><span class="line">	8. ctrl+r  运行窗口中所有的命令</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window快捷键选中一行</span><br><span class="line">shift+end  从头到尾</span><br><span class="line">shift+home/start   从尾到头</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">附:可以管理事务</span><br><span class="line">事务具备几个特点</span><br><span class="line">1.原子性 2.一致性 3.持续性 4.隔离性</span><br><span class="line"></span><br><span class="line">START TRANSACTION;  开启事务</span><br><span class="line">insert into t_student(stuName,sex,score,school) values(&apos;张三&apos;,&apos;男&apos;,90,&apos;理工&apos;);</span><br><span class="line">update t_student set score=60 where id=5;</span><br><span class="line">commit;  提交事务</span><br><span class="line"></span><br><span class="line">如果在开启和提交中间发生任何错误问题,都不会成功</span><br><span class="line">只要添加成功,那么修改必须成功</span><br></pre></td></tr></table></figure></p>
<p>​<br>练习:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">	 </span><br><span class="line">有某个学生运动会比赛信息的数据库，保存了如下的表：</span><br><span class="line"></span><br><span class="line">1、  建表，并在相应字段上增加约束；</span><br><span class="line"></span><br><span class="line">运动员sporter</span><br><span class="line">（</span><br><span class="line">	运动员编号sporterid int(10) 主键 不许为空，</span><br><span class="line">	运动员姓名name varchar(20) 可以为空，</span><br><span class="line">	运动员性别（1男，2女）sex char(1)可以为空，</span><br><span class="line">	所属系号department int(10) 可以为空</span><br><span class="line">）</span><br><span class="line">项目item</span><br><span class="line">（</span><br><span class="line">	项目编号itemid int(10) 主键 不许为空，</span><br><span class="line">	项目名称itemname varchar(20) 可以为空，</span><br><span class="line">	项目比赛地点location varchar(30) 可以为空</span><br><span class="line">）</span><br><span class="line">成绩grade（</span><br><span class="line">	运动员编号id int(10) 主键 不许为空，</span><br><span class="line">	项目编号itemid int(10) 不许为空，</span><br><span class="line">	积分mark int(12) 可以为空</span><br><span class="line">）</span><br><span class="line">create table sporter(</span><br><span class="line">	sporterid int(10) primary key not null,</span><br><span class="line">	name varchar(20),</span><br><span class="line">	sex char(1),</span><br><span class="line">	dapartment int(10)</span><br><span class="line">	</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">3 对表操作</span><br><span class="line">(1)为sporter表增加一个新属性，生日属性:s_birth 类型：Date,可以为空</span><br><span class="line">	年龄属性：age 类型： int(10),可以为空</span><br><span class="line"></span><br><span class="line">(2)修改item表中的属性，将location的长度增加到200</span><br><span class="line">alter table item modify location varchar(200);</span><br><span class="line">(3)把grade表名改成grades</span><br><span class="line">alter table grade rename as grades</span><br><span class="line">(4)把sporter表，grade表和item表分别注释运动员表，成绩表和项目表</span><br><span class="line">alter table sporter comment &apos;&apos;;</span><br><span class="line">(5)清空表item中所有数据</span><br><span class="line">delete from item;</span><br><span class="line">truncate  table item;</span><br><span class="line">(6)删除sporter中的department 字段</span><br><span class="line">alter table sporter drop department;</span><br><span class="line">(7)注释grade表中 itemid  mark 字段不可用，然后删除</span><br><span class="line">alter table grade modify itemid int(10) comment &apos;不可用&apos;;</span><br><span class="line">alter table grade drop itemid;</span><br><span class="line">(8)删除grade表</span><br><span class="line">drop table grade ;</span><br><span class="line"></span><br><span class="line">执行提供的sql文件 employees.sql</span><br><span class="line">完成以下题:</span><br><span class="line">#--1.查询员工表所有数据</span><br><span class="line">	select * from employees;</span><br><span class="line"></span><br><span class="line">#--2.打印公司里所有的manager_id</span><br><span class="line">	select manager_id as &apos;ID&apos; from employees;</span><br><span class="line">#--3.查询80号部门的所有员工</span><br><span class="line"></span><br><span class="line">Select * from employees where DEPARTMENT_ID = 80;</span><br><span class="line">#--4.查询50号部门每人增长1000元工资之后的人员姓名及工资(2个问题)</span><br><span class="line"></span><br><span class="line">select SALARY+1000 as &apos;工资涨1000&apos;,LAST_NAME as &apos;姓名&apos; from employees </span><br><span class="line"></span><br><span class="line">#--5.查询80号部门工资大于7000的员工的名字与工资</span><br><span class="line"></span><br><span class="line">select  LAST_NAME  as &apos;名字&apos;,SALARY as &apos;工资&apos; from employees where SALARY&gt;7000 and DEPARTMENT_ID=80 ;</span><br><span class="line">#--6.查询80号部门工资大于8000并且提成()高于0.3的员工姓名,工资以及提成  </span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">#--7.查询职位(job_id)为&apos;AD_PRES&apos;的员工的工资 </span><br><span class="line">Select SALARY from employees where JOB_ID in(&apos;AD_PRES&apos;);</span><br><span class="line">#--8.查询佣金(commission_pct)为0或为null的员工信息</span><br><span class="line">SELECT *from employees where COMMISSION_PCT is NULL or  COMMISSION_PCT  = 0;</span><br><span class="line"></span><br><span class="line">#--9.查询入职日期在1997-5-1到1997-12-31之间的所有员工信息</span><br><span class="line"></span><br><span class="line">Select * from employees where HIRE_DATE between &apos;1997-5-1&apos;and &apos;1997-12-31&apos;;</span><br><span class="line">#--10.修改EMAIL为IMIKKILI 的工资增加为1000元</span><br><span class="line"></span><br><span class="line">update employees set SALARY = SALARY+1000 where EMALL = &apos;IMIKKILI &apos;;</span><br><span class="line"></span><br><span class="line">#--11.修改部门编号为80的并且工资大于5000的员工手机号(PHONE_NUMBER)为123456789</span><br><span class="line">update  employees set PHONE_NUMBER = &apos;123456789&apos; where  DEPARTMENT_ID  = 80 and SALARY&gt;5000;</span><br><span class="line"></span><br><span class="line">#--12.添加一条自己名字的简称的信息到部门为50的部门下</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#--13.删除1998到1999年并且工资小于4000的员工</span><br><span class="line">DELETE FROM employees WHERE SALARY&lt;4000 AND HIRE_DATE BETWEEN &apos;1998-01-01&apos; AND &apos;1998-12-30&apos;</span><br><span class="line"></span><br><span class="line">#--14.查询工作为SA_REP并且工资大于7000的员工,显示LAST_NAME为&apos;名字&apos;,EMAIL为&apos;邮箱&apos;,SALARY为&apos;工资&apos; </span><br><span class="line">SELECT LAST_NAME as &apos;名字&apos;,EMAIL as &apos;邮箱&apos;,SALARY as &apos;工资&apos; from employees where JOB_ID = &apos;SA_REP&apos;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第二十天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第二十天/" class="post-title-link" itemprop="url">java的TCP编程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:36:44" itemprop="dateCreated datePublished" datetime="2019-08-02T19:36:44+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:58" itemprop="dateModified" datetime="2019-08-04T12:46:58+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-TCP-网络编程"><a href="#1-TCP-网络编程" class="headerlink" title="1 TCP 网络编程"></a>1 TCP 网络编程</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--TCP 分为客户端和服务端   它们要进行连接  面向连接</span><br><span class="line">--客户端用的套接字是Socket</span><br><span class="line">--服务器用的套接字是ServerSocket</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">==客户端</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TClinet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="comment">//建立客户端套接字</span></span><br><span class="line">			Socket socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">9000</span>); <span class="comment">//ip是服务器的ip  端口号也是服务器的端口</span></span><br><span class="line">			</span><br><span class="line">			OutputStream out=socket.getOutputStream();</span><br><span class="line">			out.write(<span class="string">"这是我要给服务器发送的数据"</span>.getBytes());</span><br><span class="line">			</span><br><span class="line">			InputStream in=socket.getInputStream();</span><br><span class="line">			<span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len=in.read(b);</span><br><span class="line">			String msg=<span class="keyword">new</span> String(b,<span class="number">0</span>,len);</span><br><span class="line">			System.out.println(<span class="string">"服务器:"</span>+msg);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//清理资源</span></span><br><span class="line">			socket.close();</span><br><span class="line">			out.close();</span><br><span class="line">			in.close();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">==服务器</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TServer</span> </span>&#123;</span><br></pre></td></tr></table></figure>
<pre><code>    public static void main(String[] args) throws Exception {
        //创建服务端套接字
        ServerSocket serverSocket=new ServerSocket(9000);

        Socket socket=serverSocket.accept();  //阻塞方法,等待客户端连上来
        InputStream in=socket.getInputStream();
        byte[] buff=new byte[1024];
        int len=in.read(buff);
        String msg=new String(buff, 0, len);

        //接受ip 和端口号
        String clientIp=socket.getInetAddress().getHostAddress();
        int clientPort=socket.getPort();

        System.out.println(&quot;客户端:&quot;+clientIp+&quot;:&quot;+clientPort+&quot; 说:&quot;+msg);

        //给客户端写回去一些数据
        OutputStream out=socket.getOutputStream();
        out.write(&quot;我接到了,谢谢&quot;.getBytes());

        //清理资源
        serverSocket.close();
        socket.close();
        out.close();
        in.close();
    }

}
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">不可以先启动客户端</span><br><span class="line">因为没有人接受它,也就构建不起来双向字节流这个连接了</span><br><span class="line">java.net.ConnectException: Connection refused: connect  连接被拒接</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">======</span><br><span class="line"><span class="number">1</span> 写一个TCP传输程序,能不停的从键盘接收数据,发送给服务端,在服务端把它变成大写之后返回</span><br><span class="line"><span class="number">2</span> TCP 程序 </span><br><span class="line">  首先创建文件数据库android.txt</span><br><span class="line"></span><br><span class="line">在这个库里准备一些数据：</span><br><span class="line">你好-&gt;好你妹！</span><br><span class="line">你叫什么-&gt;有事呀？</span><br><span class="line">你瞅啥-&gt;瞅你咋地</span><br><span class="line">打你哦-&gt;来啊，来打我啊，不打有点挫</span><br><span class="line">等等</span><br><span class="line">等等</span><br><span class="line"></span><br><span class="line">开发一个程序，当从scanner读取到消息，发给Server服务端，</span><br><span class="line">服务端用这个消息到其中找到对应的数据，返回出去。 看上去就像在自动回应一样。</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">	客户端</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Socket socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>,<span class="number">8000</span>);</span><br><span class="line">			</span><br><span class="line">			BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//写流</span></span><br><span class="line">			BufferedWriter bw=<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//读流</span></span><br><span class="line">			BufferedReader brResult=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">			String msg=<span class="string">""</span>;</span><br><span class="line">			<span class="keyword">while</span>((msg=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				bw.write(msg);</span><br><span class="line">				bw.newLine();</span><br><span class="line">				bw.flush();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">				<span class="comment">//接受服务器返回的</span></span><br><span class="line">				System.out.println(brResult.readLine());</span><br><span class="line">			&#125;</span><br><span class="line">			socket.close();</span><br><span class="line">			br.close();</span><br><span class="line">			bw.close();</span><br><span class="line">			brResult.close();</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">服务器</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">				</span><br><span class="line">				Socket socket=serverSocket.accept();</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//写流</span></span><br><span class="line">				BufferedWriter bw=<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//读流</span></span><br><span class="line">				BufferedReader brResult=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">				String msg=<span class="keyword">null</span>;</span><br><span class="line">				<span class="keyword">while</span>((msg=brResult.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					msg=msg.toUpperCase();</span><br><span class="line">					bw.write(msg);</span><br><span class="line">					bw.newLine();</span><br><span class="line">					bw.flush();</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				serverSocket.close();</span><br><span class="line">				socket.close();</span><br><span class="line">				bw.close();</span><br><span class="line">				brResult.close();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="number">2</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">				</span><br><span class="line">				Socket socket=serverSocket.accept();</span><br><span class="line">				</span><br><span class="line">				BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"1.txt"</span>)));</span><br><span class="line">				Map&lt;String,String&gt; map=<span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">				String fileMsg=<span class="keyword">null</span>;</span><br><span class="line">				<span class="keyword">while</span>((fileMsg=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					String[] fMsg=fileMsg.split(<span class="string">"-&gt;"</span>);</span><br><span class="line">					map.put(fMsg[<span class="number">0</span>], fMsg[<span class="number">1</span>]);</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//写流</span></span><br><span class="line">				BufferedWriter bw=<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//读流</span></span><br><span class="line">				BufferedReader brResult=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">				String msg=<span class="keyword">null</span>;</span><br><span class="line">				<span class="keyword">while</span>((msg=brResult.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(map.containsKey(msg))&#123;</span><br><span class="line">						bw.write(map.get(msg));</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						msg=<span class="string">"不知道你在说啥?"</span>;</span><br><span class="line">						bw.write(msg);</span><br><span class="line">					&#125;</span><br><span class="line">					bw.newLine();</span><br><span class="line">					bw.flush();</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				serverSocket.close();</span><br><span class="line">				socket.close();</span><br><span class="line">				bw.close();</span><br><span class="line">				brResult.close();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				Socket socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>,<span class="number">8000</span>);</span><br><span class="line">				</span><br><span class="line">				BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//写流</span></span><br><span class="line">				BufferedWriter bw=<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//读流</span></span><br><span class="line">				BufferedReader brResult=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">				String msg=<span class="string">""</span>;</span><br><span class="line">				<span class="keyword">while</span>((msg=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					bw.write(msg);</span><br><span class="line">					bw.newLine();</span><br><span class="line">					bw.flush();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">			<span class="comment">//接受服务器返回的</span></span><br><span class="line">			System.out.println(brResult.readLine());</span><br><span class="line">		&#125;</span><br><span class="line">		socket.close();</span><br><span class="line">		br.close();</span><br><span class="line">		bw.close();</span><br><span class="line">		brResult.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 图片上传</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Socket socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>,<span class="number">8000</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//文件上传,读取图片字节</span></span><br><span class="line">			InputStream in=<span class="keyword">new</span> FileInputStream(<span class="string">"c://xiaoji.jpg"</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//写流</span></span><br><span class="line">			OutputStream out=socket.getOutputStream();</span><br><span class="line">			<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span>((len=in.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">				out.write(buff, <span class="number">0</span>, len);</span><br><span class="line">			&#125;</span><br><span class="line">			socket.shutdownOutput();<span class="comment">//告诉服务器,文件上传完毕,主动停止输出流,类似于在流中加一个结束标志</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">		<span class="comment">//读流</span></span><br><span class="line">		BufferedReader brResult=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">		<span class="comment">//接受服务器返回的</span></span><br><span class="line">		System.out.println(brResult.readLine());</span><br><span class="line">		</span><br><span class="line">		socket.close();</span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">		brResult.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">		</span><br><span class="line">		Socket socket=serverSocket.accept();</span><br><span class="line">		</span><br><span class="line">		String sendIp=socket.getInetAddress().getHostAddress();</span><br><span class="line">		OutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="string">"C:\\service\\"</span>+sendIp+<span class="string">"_"</span>+<span class="keyword">new</span> Random().nextInt()+<span class="string">".jpg"</span>);</span><br><span class="line">		</span><br><span class="line">		InputStream in=socket.getInputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=in.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			out.write(buff, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*//写流</span></span><br><span class="line"><span class="comment">		BufferedWriter bw=new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));</span></span><br><span class="line"><span class="comment">		bw.write("图片上传成功!");</span></span><br><span class="line"><span class="comment">		bw.newLine();</span></span><br><span class="line"><span class="comment">		bw.flush();*/</span></span><br><span class="line">		</span><br><span class="line">		PrintWriter pw=<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">		pw.println(<span class="string">"图片上传成功!"</span>);</span><br><span class="line">		<span class="comment">//println 这个方法当构造函数传入true时,不用手动刷新</span></span><br><span class="line">		<span class="comment">//pw.flush();</span></span><br><span class="line">		</span><br><span class="line">		serverSocket.close();</span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">		socket.close();</span><br><span class="line">		<span class="comment">//pw.close();</span></span><br><span class="line">		pw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-多线程并发传上传文件"><a href="#2-多线程并发传上传文件" class="headerlink" title="2 多线程并发传上传文件"></a>2 多线程并发传上传文件</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImgServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				Socket socket=serverSocket.accept();</span><br><span class="line">				<span class="keyword">new</span> Thread(<span class="keyword">new</span> ImgThread(socket)).start();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">ImgThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">ImgThread</span><span class="params">(Socket socket)</span></span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.socket=socket;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">public</span> Socket socket;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				</span><br><span class="line">				String sendIp=socket.getInetAddress().getHostAddress();</span><br><span class="line">				OutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="string">"C:\\service\\"</span>+sendIp+<span class="string">"_"</span>+<span class="keyword">new</span> Random().nextInt()+<span class="string">".jpg"</span>);</span><br><span class="line">				</span><br><span class="line">				InputStream in=socket.getInputStream();</span><br><span class="line">				<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">				<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">				<span class="keyword">while</span>((len=in.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">					out.write(buff, <span class="number">0</span>, len);</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				PrintWriter pw=<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">				pw.println(<span class="string">"图片上传成功!"</span>);</span><br><span class="line">				</span><br><span class="line">				in.close();</span><br><span class="line">				out.close();</span><br><span class="line">				socket.close();</span><br><span class="line">				pw.close();</span><br><span class="line">			&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Socket socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>,<span class="number">8000</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//文件上传,读取图片字节</span></span><br><span class="line">			InputStream in=<span class="keyword">new</span> FileInputStream(<span class="string">"c://xiaoji.jpg"</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//写流</span></span><br><span class="line">			OutputStream out=socket.getOutputStream();</span><br><span class="line">			<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span>((len=in.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">				out.write(buff, <span class="number">0</span>, len);</span><br><span class="line">			&#125;</span><br><span class="line">			socket.shutdownOutput();<span class="comment">//告诉服务器,文件上传完毕,主动停止输出流,类似于在流中加一个结束标志</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">		<span class="comment">//读流</span></span><br><span class="line">		BufferedReader brResult=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">		<span class="comment">//接受服务器返回的</span></span><br><span class="line">		System.out.println(brResult.readLine());</span><br><span class="line">		</span><br><span class="line">		socket.close();</span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">		brResult.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​            </p>
<h1 id="3-客户端-服务端"><a href="#3-客户端-服务端" class="headerlink" title="3 客户端-服务端"></a>3 客户端-服务端</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">其实浏览器就是一个标准的客户端,还有很多客户端</span><br><span class="line">它们无非就是一个基于网络应用的程序而已</span><br><span class="line"></span><br><span class="line">自定义服务端,使用浏览器客户端进行访问</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">9090</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">		Socket socket=serverSocket.accept();</span><br><span class="line">		Thread.sleep(<span class="number">10</span>);</span><br><span class="line">		PrintWriter pw=<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">		pw.println(<span class="string">"你好,客户端!"</span>);</span><br><span class="line">		socket.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">发现浏览器能解析数据  http:<span class="comment">//127.0.0.1:9090</span></span><br><span class="line"></span><br><span class="line">不止有着一个客户端,很多</span><br><span class="line">比如 telnet ip 端口号</span><br><span class="line">也可以</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">那浏览器给服务器发送了啥?</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">9090</span>);</span><br><span class="line">		Socket socket=serverSocket.accept();</span><br><span class="line">		</span><br><span class="line">		InputStream in=socket.getInputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=in.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(buff,<span class="number">0</span>,len));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		PrintWriter pw=<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">		pw.println(<span class="string">"你好,客户端!"</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">	socket.close();</span><br><span class="line">	serverSocket.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">GET / HTTP/<span class="number">1.1</span></span><br><span class="line">Accept: *<span class="comment">/*</span></span><br><span class="line"><span class="comment">Accept-Language: zh-cn</span></span><br><span class="line"><span class="comment">UA-CPU: x86</span></span><br><span class="line"><span class="comment">Accept-Encoding: gzip, deflate</span></span><br><span class="line"><span class="comment">User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.2; SV1; .NET CLR 1.1.4322)</span></span><br><span class="line"><span class="comment">Host: 127.0.0.1:9090</span></span><br><span class="line"><span class="comment">Connection: Keep-Alive </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">上面发送的信息,就是http请求头</span><br><span class="line">请求体和请求头之间有两个空行,这是一个标准</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">既然知道了浏览器发送给服务端的数据,那我们是不是也可以模拟一个浏览器呢?</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyIE</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Socket socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>,<span class="number">8080</span>);</span><br><span class="line">		</span><br><span class="line">		PrintWriter pw=<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">		pw.println(<span class="string">"GET / HTTP/1.1"</span>);</span><br><span class="line">		pw.println(<span class="string">"Accept: */*"</span>);</span><br><span class="line">		pw.println(<span class="string">"Accept-Language: zh-cn"</span>);</span><br><span class="line">		pw.println(<span class="string">"Host: 127.0.0.1:8080"</span>);</span><br><span class="line">		pw.println(<span class="string">"Connection: Keep-Alive"</span>);</span><br><span class="line">		pw.println(); <span class="comment">//两个空行</span></span><br><span class="line">		pw.println();</span><br><span class="line">		</span><br><span class="line">		InputStream in=socket.getInputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=in.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(buff,<span class="number">0</span>,len));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">然后启动一个现成的服务器,可以是任何一个,我这里用了一个叫tomcat的服务器,端口号是<span class="number">8080</span></span><br><span class="line"></span><br><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Server: Apache-Coyote/<span class="number">1.1</span></span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">ETag: W/<span class="string">"7446-1367206570000"</span></span><br><span class="line">Last-Modified: Mon, <span class="number">29</span> Apr <span class="number">2013</span> <span class="number">03</span>:<span class="number">36</span>:<span class="number">10</span> GMT</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Content-Length: <span class="number">7446</span></span><br><span class="line">Date: Mon, <span class="number">29</span> Jul <span class="number">2019</span> <span class="number">01</span>:<span class="number">56</span>:<span class="number">57</span> GMT</span><br><span class="line"></span><br><span class="line">服务器返回的数据,头部信息,就叫响应头</span><br><span class="line">相应头和相应体之间一个空行</span><br><span class="line"></span><br><span class="line"><span class="comment">//附:304代表从浏览器缓存中拿的数据</span></span><br><span class="line"><span class="comment">//	 200代表访问服务器成功,连接成功</span></span><br></pre></td></tr></table></figure>
<p>​        </p>
<h1 id="4-URL"><a href="#4-URL" class="headerlink" title="4 URL"></a>4 URL</h1><p>​        URL是一个类,在java.net包下的,代表的是统一资源定位符,是指互联网中”资源”的指针</p>
<p>​        </p>
<pre><code>public static void main(String[] args) throws Exception {
    URL url=new URL(&quot;http://127.0.0.1:8080/test/hello.html&quot;);
    System.out.println(&quot;&quot;+url.getProtocol());
    System.out.println(&quot;&quot;+url.getHost());
    System.out.println(&quot;&quot;+url.getPort());
    System.out.println(&quot;&quot;+url.getPath());
    System.out.println(&quot;&quot;+url.getFile());
    System.out.println(&quot;&quot;+url.getQuery());
}

http
127.0.0.1
8080
/test/hello.html  //资源文件所在的路径
/test/hello.html  //得到全路径
null   //得到url中的条件
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">	===openConnection();  方法很重要,是带着协议进行连接的</span><br><span class="line">	</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			URL url=<span class="keyword">new</span> URL(<span class="string">"http://127.0.0.1:8080/test/hello.html"</span>);</span><br><span class="line">			URLConnection conn=url.openConnection();</span><br><span class="line">			InputStream in=conn.getInputStream();</span><br><span class="line">			BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(in));</span><br><span class="line">			String line=<span class="keyword">null</span>;</span><br><span class="line">			Pattern p=Pattern.compile(<span class="string">"&lt;title&gt;.*?&lt;/title&gt;"</span>);</span><br><span class="line">			<span class="keyword">while</span>((line=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				Matcher m=p.matcher(line);</span><br><span class="line">				<span class="keyword">if</span>(m.find())&#123;</span><br><span class="line">					System.out.println(m.group());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">附:jsoup是款java的html解析器,主要用来对html解析</span><br><span class="line">   </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			URL url=<span class="keyword">new</span> URL(<span class="string">"http://127.0.0.1:8080/test/hello.html"</span>);</span><br><span class="line">			URLConnection conn=url.openConnection();</span><br><span class="line">			InputStream in=conn.getInputStream();</span><br><span class="line">			BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(in));</span><br><span class="line">			String line=<span class="keyword">null</span>;</span><br><span class="line">			StringBuilder sb=<span class="keyword">new</span> StringBuilder();</span><br><span class="line">			<span class="keyword">while</span>((line=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				sb.append(line);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			Document document=Jsoup.parse(sb.toString());</span><br><span class="line">			System.out.println(document.title());  <span class="comment">//得到标题</span></span><br><span class="line">			</span><br><span class="line">			Elements elements=document.select(<span class="string">"p"</span>);</span><br><span class="line">			Iterator&lt;Element&gt; it=elements.iterator();</span><br><span class="line">			<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">				System.out.println(it.next());</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			Elements links=document.select(<span class="string">"a[href]"</span>);</span><br><span class="line">			<span class="keyword">for</span>(Element link:links)&#123;</span><br><span class="line">				System.out.println(link.attr(<span class="string">"href"</span>));</span><br><span class="line">				System.out.println(link.text());</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			Elements imgs=document.select(<span class="string">"img"</span>);</span><br><span class="line">			<span class="keyword">for</span>(Element img:imgs)&#123;</span><br><span class="line">				System.out.println(img.attr(<span class="string">"src"</span>));</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5反射"><a href="#5反射" class="headerlink" title="5反射    "></a>5反射    </h1><h2 id="5-1-复习可变数组参数"><a href="#5-1-复习可变数组参数" class="headerlink" title="5_1 复习可变数组参数"></a>5_1 复习可变数组参数</h2><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">可以传实参,<span class="string">""</span></span><br><span class="line">也可以<span class="string">""</span>,<span class="string">""</span></span><br><span class="line">甚至可以</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String...array)</span></span>&#123;  <span class="comment">//String[] array</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-2-反射概述"><a href="#5-2-反射概述" class="headerlink" title="5_2 反射概述"></a>5_2 反射概述</h2><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">思考:</span><br><span class="line"><span class="number">1</span>) 能不能通过某种其他方式，把一个类里所有的方法都取到，然后调用一下，而不是通过类对象去调用</span><br><span class="line"><span class="number">2</span>) 能不能调用一个类的私有成员?或创建一个构造函数为私有的类的对象</span><br><span class="line">		</span><br><span class="line">JAVA反射机制是在运行状态中(注意不是编译的时候)，对于任意一个类,都能够知道这个类的所有属性和方法；</span><br><span class="line">对于任意一个对象，都能够调用它的任意一个方法；因为类加载时期的加载阶段，在堆区创建一个 java.lang.Class 对象</span><br><span class="line">这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。</span><br><span class="line">Java反射机制主要提供了以下功能： </span><br><span class="line">-- 在运行时判断任意一个对象所属的类；</span><br><span class="line">-- 在运行时构造任意一个类的对象；</span><br><span class="line">-- 在运行时判断任意一个类所具有的成员变量和方法；</span><br><span class="line">-- 在运行时调用任意一个对象的方法；</span><br><span class="line">-- 生成动态代理。</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">在jdk中,与反射相关的类,主要有以下几个</span><br><span class="line"></span><br><span class="line">Class 类  <span class="comment">//java.lang</span></span><br><span class="line">		</span><br><span class="line">			在java中，每个<span class="class"><span class="keyword">class</span>都有一个相应的<span class="title">Class</span>对象，</span></span><br><span class="line"><span class="class">			也就是说，当我们编写一个类，编译完成后，都会生成一个<span class="title">Class</span>对象</span></span><br><span class="line"><span class="class">			用来表示记录这个类的类型信息和结构等，</span></span><br><span class="line"><span class="class">			说白了<span class="title">Class</span>也是一个类，只不过是一个比较特殊的类。</span></span><br><span class="line"><span class="class">			特殊在哪里呢？特殊在这是一个在类加载过程中由虚拟机生成的，用来表示被加载类的类型信息的对象。</span></span><br><span class="line"><span class="class">			<span class="title">java</span>是面向对象编程的，<span class="title">java</span>中几乎所有的数据都是对象，</span></span><br><span class="line"><span class="class">			那么是对象，就必须知道自己到底是哪一种类型的对象。于是<span class="title">Class</span>类便顺势而生了。</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">以下是在这个包下的<span class="title">java</span>.<span class="title">lang</span>.<span class="title">reflect</span></span></span><br><span class="line"><span class="class"><span class="title">Constructor</span> //代表构造方法</span></span><br><span class="line"><span class="class"><span class="title">Method</span>  代表方法</span></span><br><span class="line"><span class="class"><span class="title">Field</span>   代表字段</span></span><br><span class="line"><span class="class"><span class="title">Array</span>   代表数组</span></span><br></pre></td></tr></table></figure>
<p>​        </p>
<h2 id="5-3-Class-类的说明"><a href="#5-3-Class-类的说明" class="headerlink" title="5_3 Class 类的说明"></a>5_3 Class 类的说明</h2><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Class类对象的创建几种方式</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>)Class clazz=Dog.class;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Class clazz=Dog.class;</span><br><span class="line">			Dog dog=(Dog)clazz.newInstance();  <span class="comment">//默认调用了无参构造器</span></span><br><span class="line">			dog.shout();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span></span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"汪汪"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>)</span><br><span class="line">	Dog g=<span class="keyword">new</span> Dog();</span><br><span class="line">	Class clazz=g.getClass();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>) 通过 Class clazz=Class.forName(<span class="string">"包名.类名"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class clazz=Class.forName(<span class="string">"com.Dog"</span>);</span><br><span class="line">		Dog d=(Dog)clazz.newInstance();</span><br><span class="line">		d.shout();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"汪汪"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-4-反射中的其他的类的说明"><a href="#5-4-反射中的其他的类的说明" class="headerlink" title="5_4 反射中的其他的类的说明"></a>5_4 反射中的其他的类的说明</h2><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">Constructor <span class="comment">//代表构造方法</span></span><br><span class="line">  代表类中的构造函数	 Class 类提供了以下四个方法</span><br><span class="line">	<span class="keyword">public</span> Constructor&lt;?&gt;[] getConstructors()      <span class="comment">//返回类中所有的public构造器，默认构造器的下标为0</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Constructor&lt;T&gt; <span class="title">getConstructor</span><span class="params">(Class&lt;?&gt;... parameterTypes)</span>   <span class="comment">//返回指定public构造器，参数为构造器参数类型</span></span></span><br><span class="line"><span class="function">	<span class="keyword">public</span> Constructor&lt;?&gt;[] <span class="title">getDeclaredConstructors</span><span class="params">()</span>  <span class="comment">//返回类中所有的构造器，包括私有的</span></span></span><br><span class="line"><span class="function">	<span class="keyword">public</span> Constructor&lt;T&gt; <span class="title">getDeclaredConstructor</span><span class="params">(Class&lt;?&gt;... parameterTypes)</span> <span class="comment">//返回任意指定</span></span></span><br><span class="line"><span class="function">	</span></span><br><span class="line"><span class="function">	<span class="comment">//例子</span></span></span><br><span class="line"><span class="function">	<span class="keyword">public</span> class MyIE </span>&#123;</span><br><span class="line"></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				Class clazz=Dog.class;</span><br><span class="line">				Constructor c=clazz.getConstructor(String.class,<span class="keyword">int</span>.class);</span><br><span class="line">				System.out.println(c);</span><br><span class="line">				</span><br><span class="line">				Dog d=(Dog)c.newInstance(<span class="string">"Tom"</span>,<span class="number">20</span>);</span><br><span class="line">				d.speak();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">			String name;</span><br><span class="line">			<span class="keyword">int</span> age;</span><br><span class="line">			<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"汪............"</span>);</span><br><span class="line">				System.out.println(<span class="string">"我的名字叫:"</span>+name+<span class="string">",我的名年龄:"</span>+age);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.name=name;</span><br><span class="line">				<span class="keyword">this</span>.age=age;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"我是一个参数构造器"</span>+name);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span></span>&#123;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 访问私有构造器</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyIE</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class clazz=Dog.class;</span><br><span class="line">		Constructor c=clazz.getDeclaredConstructor();</span><br><span class="line">		c.setAccessible(<span class="keyword">true</span>);  <span class="comment">//取消权限检查,让私有成员也可以被访问到</span></span><br><span class="line">		System.out.println(c);</span><br><span class="line">		</span><br><span class="line">		Dog d=(Dog)c.newInstance();</span><br><span class="line">		d.speak();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"汪............"</span>);</span><br><span class="line">		System.out.println(<span class="string">"我的名字叫:"</span>+name+<span class="string">",我的名年龄:"</span>+age);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name=name;</span><br><span class="line">		<span class="keyword">this</span>.age=age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"我是一个参数构造器"</span>+name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Dog</span><span class="params">()</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Method  代表方法</span><br><span class="line">		</span><br><span class="line">	Class 类提供了以下四个方法</span><br><span class="line"> 		<span class="keyword">public</span> Method[] getMethods()    <span class="comment">//获取所有的共有方法,包扩继承的</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> Method <span class="title">getMethod</span><span class="params">(String name,Class&lt;?&gt;... parameterTypes)</span> <span class="comment">// 获取指定公有方法 参数1：方法名 参数2：参数类型  </span></span></span><br><span class="line"><span class="function">		<span class="keyword">public</span> Method[] <span class="title">getDeclaredMethods</span><span class="params">()</span>  <span class="comment">//获取所有的方法(包扩私有的),除了继承来的</span></span></span><br><span class="line"><span class="function">		<span class="keyword">public</span> Method <span class="title">getDeclaredMethod</span><span class="params">(String name,Class&lt;?&gt;... parameterTypes)</span> <span class="comment">//获取任意指定方法,除继承来的</span></span></span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 </span></span><br><span class="line">			<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyIE</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">					Class clazz=Dog.class;</span><br><span class="line">					Method m=clazz.getDeclaredMethod(<span class="string">"speak"</span>);</span><br><span class="line">					m.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">					</span><br><span class="line">					Constructor c=clazz.getDeclaredConstructor();</span><br><span class="line">					c.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">					Dog d=(Dog)c.newInstance();</span><br><span class="line">					</span><br><span class="line">					m.invoke(d);			</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">				String name;</span><br><span class="line">				<span class="keyword">int</span> age;</span><br><span class="line">				<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">					System.out.println(<span class="string">"汪............"</span>);</span><br><span class="line">					System.out.println(<span class="string">"我的名字叫:"</span>+name+<span class="string">",我的名年龄:"</span>+age);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">					<span class="keyword">this</span>.name=name;</span><br><span class="line">					<span class="keyword">this</span>.age=age;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">					System.out.println(<span class="string">"我是一个参数构造器"</span>+name);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="function"><span class="keyword">private</span> <span class="title">Dog</span><span class="params">()</span></span>&#123;</span><br><span class="line">					</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Class clazz=Dog.class;</span><br><span class="line">		Method m=clazz.getDeclaredMethod(<span class="string">"speak"</span>,String.class,<span class="keyword">int</span>.class);</span><br><span class="line">		m.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">		</span><br><span class="line">		Constructor c=clazz.getDeclaredConstructor();</span><br><span class="line">		c.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">		Dog d=(Dog)c.newInstance();</span><br><span class="line">		</span><br><span class="line">		m.invoke(d,<span class="string">"Tom"</span>,<span class="number">20</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//例子 拿到所有继承过来的</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Class clazz=Dog.class;</span><br><span class="line">	Method[] ms=clazz.getMethods();</span><br><span class="line">	<span class="keyword">for</span>(Method m:ms)&#123;</span><br><span class="line">		System.out.println(m.getName());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Field   代表字段</span><br><span class="line">	  <span class="function"><span class="keyword">public</span> Field <span class="title">getDeclaredField</span><span class="params">(String name)</span>  <span class="comment">// 获取任意指定名字的成员</span></span></span><br><span class="line"><span class="function">	  <span class="keyword">public</span> Field[] <span class="title">getDeclaredFields</span><span class="params">()</span>          <span class="comment">// 获取所有的成员变量,除了继承来的</span></span></span><br><span class="line"><span class="function">	  <span class="keyword">public</span> Field <span class="title">getField</span><span class="params">(String name)</span>          <span class="comment">// 获取任意public成员变量,包含继承来的</span></span></span><br><span class="line"><span class="function">	  <span class="keyword">public</span> Field[] <span class="title">getFields</span><span class="params">()</span>                  <span class="comment">// 获取所有的public成员变量</span></span></span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">	  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Class clazz=Dog.class;</span><br><span class="line">			Field field=clazz.getField(<span class="string">"home"</span>);</span><br><span class="line">			<span class="comment">//System.out.println(field.getName());</span></span><br><span class="line">			Object obj=field.get(<span class="keyword">new</span> Dog());</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">			</span><br><span class="line">			Field f=clazz.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line">			f.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">			Object obj1=f.get(<span class="keyword">new</span> Dog());</span><br><span class="line">			System.out.println(obj1);</span><br><span class="line">			</span><br><span class="line">			Field[] fArray=clazz.getDeclaredFields();</span><br><span class="line">			<span class="keyword">for</span>(Field ff:fArray)&#123;</span><br><span class="line">				ff.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">				System.out.println(ff.get(<span class="keyword">new</span> Dog()));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> String name=<span class="string">"Tom"</span>;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> age=<span class="number">35</span>;</span><br><span class="line">		<span class="keyword">public</span> String home=<span class="string">"Tom家"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">Array   代表数组</span><br></pre></td></tr></table></figure></p>
<h2 id="5-5-反射应用"><a href="#5-5-反射应用" class="headerlink" title="5_5 反射应用"></a>5_5 反射应用</h2><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 比较两个同类对象的所有字段,不同的,把它输出出来</span></span><br><span class="line">Student stu1=<span class="keyword">new</span> Student(<span class="string">"张三"</span>,<span class="number">20</span>,<span class="string">"男"</span>);</span><br><span class="line">Student stu2=<span class="keyword">new</span> Student(<span class="string">"李四"</span>,<span class="number">21</span>,<span class="string">"男"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Student stu1=<span class="keyword">new</span> Student(<span class="string">"张三"</span>,<span class="number">20</span>,<span class="string">"男"</span>);</span><br><span class="line">			Student stu2=<span class="keyword">new</span> Student(<span class="string">"李四"</span>,<span class="number">21</span>,<span class="string">"男"</span>);</span><br><span class="line">			Map&lt;String,String&gt; map=compare(stu1,stu2);</span><br><span class="line">			<span class="keyword">for</span>(Map.Entry&lt;String,String&gt; item:map.entrySet())&#123;</span><br><span class="line">				System.out.println(item.getKey()+<span class="string">":"</span>+item.getValue());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String,String&gt; <span class="title">compare</span><span class="params">(Student stu1,Student stu2)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">			Map&lt;String,String&gt; map=<span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">			Class clazz=Student.class;</span><br><span class="line">			Field[] fieldArray=clazz.getDeclaredFields();</span><br><span class="line">			<span class="keyword">for</span>(Field f:fieldArray)&#123;</span><br><span class="line">				f.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">				Object obj1=f.get(stu1);</span><br><span class="line">				Object obj2=f.get(stu2);</span><br><span class="line">				<span class="keyword">if</span>(!(obj1.equals(obj2)))&#123;</span><br><span class="line">					map.put(f.getName(), <span class="string">"stu1的值是="</span>+obj1+<span class="string">"---&gt;stu2的值是="</span>+obj2);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> map;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> String name;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">		<span class="keyword">private</span> String sex;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, String sex)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.name = name;</span><br><span class="line">			<span class="keyword">this</span>.age = age;</span><br><span class="line">			<span class="keyword">this</span>.sex = sex;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例二</span></span><br><span class="line">不是用反射</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doServer01</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"这是业务1的方法"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doServer02</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"这是业务2的方法"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	<span class="comment">//当使用业务1时,需要</span></span><br><span class="line">	<span class="keyword">new</span> Server01().doServer01();</span><br><span class="line">	<span class="comment">//当使用业务2时,需要改写代码</span></span><br><span class="line">	<span class="keyword">new</span> Server02().doServer02();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>//使用反射
创建一个文件
class=com.Server02
method=doServer02

public static void main(String[] args) throws Exception {
    InputStream in=new FileInputStream(&quot;1.txt&quot;);
    Properties p=new Properties();
    p.load(in);

    String className=(String) p.get(&quot;class&quot;);
    String methodName=(String) p.get(&quot;method&quot;);

    Class clazz=Class.forName(className);
    Method m=clazz.getMethod(methodName);
    Constructor c=clazz.getConstructor();
    Object obj=c.newInstance();
    m.invoke(obj);
}

当使用业务1或者业务2时,只需要把文件中内容改掉,非常方便,而且安全,健壮
</code></pre><h2 id="5-6-动态代理"><a href="#5-6-动态代理" class="headerlink" title="5_6 动态代理"></a>5_6 动态代理</h2><p>​<br>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">静态代理</span><br><span class="line"></span><br><span class="line"><span class="comment">//需求:创建衣服</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			NikeMakeCloth nike=<span class="keyword">new</span> NikeMakeCloth();</span><br><span class="line">			MakeClothProxyFactory proxy=<span class="keyword">new</span> MakeClothProxyFactory(nike);</span><br><span class="line">			proxy.makeCloth();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//制造衣服的规则</span></span><br><span class="line">	<span class="class"><span class="keyword">interface</span> <span class="title">MakeCloth</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeCloth</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//nike 品牌</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">NikeMakeCloth</span> <span class="keyword">implements</span> <span class="title">MakeCloth</span></span>&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeCloth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"Nike工厂生产了一批衣服"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">MakeClothProxyFactory</span> <span class="keyword">implements</span> <span class="title">MakeCloth</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> MakeCloth mc;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">MakeClothProxyFactory</span><span class="params">(MakeCloth mc)</span></span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.mc=mc;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeCloth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"收取一定代理费用"</span>);</span><br><span class="line">			mc.makeCloth();</span><br><span class="line">			System.out.println(<span class="string">"偷摸的偷工减料"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<pre><code>将来如果出现  &quot;制造鞋子&quot; 需要编写这样的代理类,来代理鞋子
长期以往,代理类会越来越多,就会造成类的急剧膨胀,不好

//动态代理:一般有两种方式实现
//一种是使用jdk来实现动态代理
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		NikeMakeCloth nike=<span class="keyword">new</span> NikeMakeCloth();</span><br><span class="line">		MyProxy proxy=<span class="keyword">new</span> MyProxy();</span><br><span class="line">		MakeCloth c=(MakeCloth)proxy.binding(nike);</span><br><span class="line">		c.makeCloth();</span><br><span class="line">		</span><br><span class="line">		AdidasMakeShoes ad=<span class="keyword">new</span> AdidasMakeShoes();</span><br><span class="line">		MakeShoes s=(MakeShoes)proxy.binding(ad);</span><br><span class="line">		s.makeShoes();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//制造衣服的规则</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MakeCloth</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeCloth</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MakeShoes</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeShoes</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//nike 品牌  真实对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NikeMakeCloth</span> <span class="keyword">implements</span> <span class="title">MakeCloth</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeCloth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Nike工厂生产了一批衣服"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdidasMakeShoes</span> <span class="keyword">implements</span> <span class="title">MakeShoes</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">makeShoes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"Adidas制造鞋子"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProxy</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> Object obj;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">binding</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.obj=obj;</span><br><span class="line">		<span class="comment">//返回的代理类,可以理解真实对象的子类</span></span><br><span class="line">		<span class="keyword">return</span> Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj.getClass().getInterfaces(), <span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//当代理对象发起对真实对象的方法调用时,就会转化成调用invoke方法</span></span><br><span class="line">	<span class="comment">//proxy代表代理对象, method代表当前方法,args代表方法中的参数</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"代理类收取一定的费用100元"</span>);</span><br><span class="line">		Object result=method.invoke(obj, args);  <span class="comment">//result是真正方法返回值,如果为void,则为null;</span></span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>1.泛型类型擦除,创建一个String泛型list集合，然后通过反射存入其他类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">	list.add(<span class="string">"begin"</span>);</span><br><span class="line">	</span><br><span class="line">	Class clazz=Class.forName(<span class="string">"java.util.ArrayList"</span>);</span><br><span class="line">	Method m=clazz.getMethod(<span class="string">"add"</span>, Object.class);</span><br><span class="line">	m.invoke(list,<span class="number">20</span>);</span><br><span class="line">	<span class="keyword">for</span>(Object obj:list)&#123;</span><br><span class="line">		System.out.println(obj);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十九天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十九天/" class="post-title-link" itemprop="url">java的UDP编程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:32:51" itemprop="dateCreated datePublished" datetime="2019-08-02T19:32:51+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:39" itemprop="dateModified" datetime="2019-08-04T12:46:39+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-字符编码"><a href="#1-字符编码" class="headerlink" title="1.字符编码"></a>1.字符编码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">===ASCII</span><br><span class="line">		单字节   <span class="number">00000000</span>    <span class="number">01111111</span></span><br><span class="line">		</span><br><span class="line">   美国(国家)信息交换标准(代)码</span><br><span class="line">  计算机中只有数字,一切都是用数字表示,屏幕上显示的一个一个的字符也不例外</span><br><span class="line">  一个字节可表示的数字为<span class="number">0</span>-<span class="number">255</span>,足以显示键盘上的所有的字符 例如. a 为<span class="number">97</span> b为 <span class="number">98</span></span><br><span class="line">  这种数字与字符对应的编码规则,称为 ASCII  码,</span><br><span class="line">  使用<span class="number">7</span> 位二进制数（此时还剩下一个最高位）用来表示所有的大写和小写字母，数字<span class="number">0</span> 到<span class="number">9</span>、标点符号， </span><br><span class="line">  以及在美式英语中使用的特殊控制字符。</span><br><span class="line">  ASC11 码的最高bit位都是<span class="number">0</span>,标志位</span><br><span class="line">  也就是说,ASC11码的值都在<span class="number">0</span>-<span class="number">127</span>之间</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">===GB2312和GBK</span><br><span class="line">两个字节   <span class="number">00000000</span> <span class="number">00000000</span></span><br><span class="line">中国大陆将每个中文字符都用<span class="number">2</span>个字节表示,中文字符每个字节最高bit位都是<span class="number">1</span></span><br><span class="line">这种编码格式称为 (gb2312) 国标码 虽然GB2312包含了绝大部分的常用简体汉字，但是由于中文的复杂性</span><br><span class="line">   在此gb2312基础上,又增了一些,比如繁体字 ,称为GBK</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">===ANSI</span><br><span class="line">为了扩充ASCII编码，以用于显示本国的语言，不同的国家和地区制定了不同的标准，由此产生了 GB2312, BIG5, JIS </span><br><span class="line">   等各自的编码标准。这些使用 <span class="number">2</span> 个字节来代表一个字符的各种汉字延伸编码方式，称为 ANSI 编码，</span><br><span class="line">   又称为<span class="string">"MBCS（Muilti-Bytes Charecter Set，多字节字符集）"</span>。在简体中文系统下，ANSI 编码代表 GB2312 编码，</span><br><span class="line">   在日文操作系统下，ANSI 编码代表 JIS 编码，所以在中文 windows下要转码成gb2312,gbk</span><br><span class="line">   只需要把文本保存为ANSI 编码即可。 </span><br><span class="line">   不同 ANSI 编码之间互不兼容</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">===本地字符集</span><br><span class="line">在中国大陆使用的计算机系统上, GBK和GB2312就被称为该系统的本地字符集</span><br><span class="line">   <span class="string">"中国 "</span> 的中字,在中国大陆的编码是<span class="number">16</span>进制的D6D0,在台湾是 A4A4 台湾的编码称为BIG5 大五码</span><br><span class="line">	 在一个国家的本地化系统中出现的一个字符,通过电子邮件传到另外一个国家的本地化系统中,</span><br><span class="line">	 看到的就不是那个原始字符了,而是另外一个国家的字符或乱码</span><br></pre></td></tr></table></figure>
<p>​<br>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">===Unicode编码</span><br><span class="line">	<span class="number">2</span>个字节</span><br><span class="line"></span><br><span class="line">ISO 组织将全世界的符号进行了统一,称之为Unicode编码</span><br><span class="line"> 中这个符号,在全世界都是<span class="number">16</span>进制的 <span class="number">4e2</span>d</span><br><span class="line">   如果所有的计算机都使用Unicode编码,则<span class="string">"中"</span>这个字,在全世界上的计算机上都能显示为<span class="string">"中"</span></span><br><span class="line">   Unicode 编码的字符占用   两个字节  大小</span><br><span class="line"></span><br><span class="line">   unicode 一统天下的局面还没有形成,在相当长时间内,本地化字符编码将与Unicode编码共存</span><br><span class="line">   java中系统编码的字符使用的都是Unicode编码用来管理内部变量等信息的 </span><br><span class="line">   java在通过Unicode保证跨平台的特性前提下,也支持本地平台字符集</span><br><span class="line"></span><br><span class="line">   <span class="number">35535</span></span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">===ISO-<span class="number">8859</span>-<span class="number">1</span>编码</span><br><span class="line">	(单字节)</span><br><span class="line">	是单字节编码，向下兼容ASCII，其编码范围是<span class="number">0x00</span>-<span class="number">0xFF</span>，<span class="number">0x00</span>-<span class="number">0x7F</span>之间完全和ASCII一致，<span class="number">0x80</span>-<span class="number">0x9F</span>之间是控制字符，</span><br><span class="line">	<span class="number">0xA0</span>-<span class="number">0xFF</span>之间是文字符号。</span><br><span class="line">	收录的字符除ASCII收录的字符外，还包括西欧语言、希腊语、泰语、阿拉伯语、希伯来语对应的文字符号。</span><br><span class="line">	欧元符号出现的比较晚，没有被收录在ISO-<span class="number">8859</span>-<span class="number">1</span>当中。</span><br><span class="line"></span><br><span class="line">	因为ISO-<span class="number">8859</span>-<span class="number">1</span>编码范围使用了单字节内的所有空间，</span><br><span class="line">	在支持ISO-<span class="number">8859</span>-<span class="number">1</span>的系统中传输和存储其他任何编码的字节流都不会被抛弃。（也就是无损）</span><br><span class="line">	换言之，把其他任何编码的字节流当作ISO-<span class="number">8859</span>-<span class="number">1</span>编码看待都没有问题。</span><br><span class="line">	这是个很重要的特性，MySQL数据库默认编码是Latin1就是利用了这个特性。</span><br><span class="line">	ASCII编码是一个<span class="number">7</span>位的容器，ISO-<span class="number">8859</span>-<span class="number">1</span>编码是一个<span class="number">8</span>位的容器。</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Latin1 就是 ISO-8859-1</span></span><br></pre></td></tr></table></figure></p>
<p>​<br>​<br>    ===UTF-8</p>
<pre><code> UTF-8（8-bit Unicode Transformation Format）是一种针对Unicode的可变长度字符编码，又称万国码。
由Ken Thompson于1992年创建。现在已经标准化为RFC 3629。
UTF-8用一至四个字节为每个字符编码

互联网的普及，强烈要求出现一种统一的编码方式。
UTF-8就是在互联网上使用最广的一种unicode的实现方式。
其他实现方式还包括UTF-16和UTF-32，不过在互联网上基本不用。

===UTF-8和unicode编码之间的关系
    互联网的普及，强烈要求出现一种统一的编码方式。
UTF-8就是在互联网上使用最广的一种Unicode的实现方式。
其他实现方式还包括UTF-16（字符用两个字节或四个字节表示）和UTF-32（字符用四个字节表示），
不过在互联网上基本不用。重复一遍，这里的关系是，UTF-8是Unicode的实现方式之一。

）UTF-8字节说明
    -- 0001-007f  (一个字节) 
        0xxxxxx 
    -- 0080 到  07ff之间的字符, （两个字节）
        110xxxxx  10xxxxxx (11个有效bit位) 
        实际上只有11个有效位,其余都是标志位

    -- 0800 到 ffff 之间的字符,（三个字节）
        1110xxxx  10xxxxxx 10xxxxxx  (16有效比特位)

    --0001 0000 到 0010 FFFF 之间的字符,（四个字节）
        11110xxx 10xxxxxx 10xxxxxx 10xxxxxx  （21有效比特位

    通过上图,可以看到.软件很容易根据UTF-8 编码中那些固定不变的bit值,
    来确定一个字符占用的是一个字节,还是两个字节,还是三个字节，还是四个字节

    附:utf-8+bom编码比utf-8编码最前方多出三个字节  0XEF 0XBB 0XBF

===UTF-8的优点
     很多的使用UTF-8编码唯一的好处是，国外的用户如果使用Windows XP英文版，
     浏览UTF-8编码的任何网页，无论是中文、还是日文、韩文、阿拉伯文，都可以正常显示，
     UTF-8是世界通用的语言编码。
     UTF8 是(UNICODE八位交换格式）的简称，UNICODE是国际标准。
     UNICODE编码的文件中可以同时对几乎所有地球上已知的文字字符进行书写和表示，
     在中国大陆简体中文版非常常用的GB2312/GB18030/GBK系列标准是我国的国家标准，
     但只能对中文和多数西方文字进行编码。
     为了网站的通用性起见，用UTF-8编码是更好的选择。

===联通,联想和联

      联通  C1AA  CDA8

      联  11000001 10101010
      通  11001101 10101000

      而电脑默认使用ANSI保存也就是gbk/gb2312

      所以电脑在翻译过来时,因为符合utf-8标准,所以认为是utf-8编的码,所以就会乱码
</code></pre><p>​<br>​<br>​<br>​<br>    ===用程序查看字符的编码</p>
<pre><code>查看中文字符的GB2312/GBK 编码
查看中文字符的UTF-8 码
查看中文字符的 Unicode 码

public static void main(String[] args) throws Exception {
    //查看Unicode
    String str=&quot;中国&quot;;
    for(int i=0;i&lt;str.length();i++){
        int unicode=str.charAt(i);
        System.out.println(unicode);
        System.out.println(Integer.toHexString(unicode));
    }

    //查看GB2312
    byte[] bArray=&quot;中国&quot;.getBytes(&quot;gb2312&quot;);
    for(byte b:bArray){
        System.out.println(b);
        System.out.println(Integer.toHexString(b));
    }

    //查看UTF-8
    byte[] utf_Array=&quot;中国&quot;.getBytes(&quot;utf-8&quot;);
    for(byte b:utf_Array){
        System.out.println(b);
        System.out.println(Integer.toHexString(b));
    }
}
</code></pre><h1 id="2-网络编程的基础知识"><a href="#2-网络编程的基础知识" class="headerlink" title="2 网络编程的基础知识"></a>2 网络编程的基础知识</h1><p>​        2.1  网络协议<br>                规定了计算机之间连接的机械,电器等特性,及计算机间的相互寻址规则,和<br>                以数据发送冲突的解决办法,分段传输与解决大数据包的传输方式等等<br>                —机械特性,比如网线和网卡<br>                —电器特性,比如电平3伏为1,一3为0<br>                //比如:网线头线的颜色,以及位置都是规定好的,这就是协议<br>                . HTTP1.1(Hypertext Transfer Protocol Vertion 1.1)超文本传输协议-版本1.1<br>                . ARP(Address Resolution Protocol)地址解析协议<br>                . SNMP(Simple Network Management Protocol)网络管理协议<br>                . CMIP(Common Management Information Protocol)通用管理信息协议<br>                . DHCP(Dynamic Host Configuration Protocol)动态主机配置协议<br>                . FTP(File Transfer Protocol)文件传输协议<br>                . IPv6(Internet Protocol Version 6)Internet协议-版本6<br>                . IPX/SPX(Internetwork Packet Exchange/Sequential PacketExchange)互连网包交换/顺序包交换<br>                . POP3(Post Office Protocol Version 3)邮局协议-版本3<br>                . PPP(Point to Point Protocol)点对点协议<br>                . SMTP(Simple Mail Transfer Protocol)简单邮件传送协议<br>                . TELNET Protocol虚拟终端协议<br>                . UDP(User Datagram Protocol)用户数据报协议<br>                . TCP（Transmission Control Protocol 传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。<br>                . https 超文本传输安全协议    是以安全为目标的http通道，简单来说就是http安全版<br>                                            HTTPS=HTTP+SSL/TLS  //SSL/TLS 安全套接层</p>
<p>​                                            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">		“计算机网络体系结构”将这些网络协议进行了系统的归纳；TCP/IP就是这些协议的集合</span><br><span class="line">		</span><br><span class="line"><span class="number">2.2</span>  tcp /ip</span><br><span class="line">		网络协议有多种 ，TCP /IP 只是一族</span><br><span class="line">		大多数网络程序,都是以这个协议为基础的</span><br><span class="line">		TCP/IP协议族中包括上百个互为关联的协议</span><br><span class="line">		几个常用协议如下：</span><br><span class="line">		<span class="number">1</span>、Telnet（Remote Login）：提供远程登录功能，一台计算机用户可以登录到远程的另一台计算机上，如同在远程主机上直接操作一样。</span><br><span class="line">		<span class="number">2</span>、FTP（File Transfer Protocol）：远程文件传输协议，允许用户将远程主机上的文件拷贝到自己的计算机上。</span><br><span class="line">		<span class="number">3</span>、SMTP（Simple Mail transfer Protocol）：简单邮件传输协议，用于传输电子邮件。</span><br><span class="line">		<span class="number">4</span>、NFS（Network File Server）：网络文件服务器，可使多台计算机透明地访问彼此的目录。</span><br><span class="line">		<span class="number">5</span>、UDP（User Datagram Protocol）：用户数据报协议，它和TCP一样位于传输层，和IP协议配合使用，在传输数据时省去包头，</span><br><span class="line">		   但它不能提供数据包的重传，所以适合传输较短的文件。</span><br><span class="line"><span class="number">2.3</span>  IP地址</span><br><span class="line">		</span><br><span class="line">		每个internet上的 主机和路由器都由一个ip地址表示,它包扩网络号和主机号,所有ip地址, 都是<span class="number">32</span>位的,按国际标准,</span><br><span class="line">		分为a b c d e 五类</span><br><span class="line">		</span><br><span class="line">		  a   <span class="number">0</span>+<span class="number">7</span>位网络号 +主机号  <span class="number">1.0</span>.0.0 到  <span class="number">127.255</span>.255.255 之间</span><br><span class="line">		  b   <span class="number">10</span>+<span class="number">14</span>位网络号 +主机号 <span class="number">127.0</span>.0.0 到<span class="number">191.255</span>.255.255之间</span><br><span class="line">		  c   <span class="number">110</span>+<span class="number">21</span>位网络号 +主机号 <span class="number">192.0</span>.0.0 到 <span class="number">223.255</span>.255.255</span><br><span class="line">		  d   <span class="number">1110</span>+多点播送地址    <span class="number">224.0</span>.0.0 到 <span class="number">239.255</span>.255.255</span><br><span class="line">		  e   <span class="number">11110</span>+留做将来使用 <span class="number">240.0</span>.0.0+ <span class="number">247.255</span>.255.255</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">====本地回路地址  <span class="number">127.0</span>.0.9</span><br><span class="line">	计算机中正确安装TCP/IP协议后,计算机中都会有一个称做本地回路的地址 发往 <span class="number">127.0</span>.0.1 的数据不经过网卡传递,</span><br><span class="line">	而是直接被本地计算机中Tcp/ip协议栈中的几个上层协议接收,是一个用于本地计算机上使用的特殊地址,使用Ping</span><br><span class="line">	就可以检查TCP/IP协议是否正确安装,	它没有和网卡绑定,	</span><br><span class="line">	网卡没有正确连接或是没有网线的情况下,仍可使用该地址</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.4</span>  Port(端口号)</span><br><span class="line">		</span><br><span class="line">		因为一个计算机上同时可运行多个网络程序,而IP地址只能保证把数据送到某个计算机上,</span><br><span class="line">		但不能保证把数据交给计算机上的每个程序,因此每个发送的网络数据包的头部,</span><br><span class="line">		都包含有一个称为端口号的整数 即Port, 是一个占用两个字节的整数,用于表示这个数据包该交由哪个应用程序</span><br><span class="line">		来处理,与数据包中的端口号相对应,必须为计算机上的网络程序也指定一个端口号,告诉网络程序应该接收哪个端口号的程序</span><br><span class="line">		一台计算机上不能有两个使用同一端口号的程序</span><br><span class="line">		</span><br><span class="line">		当计算机接收到一个网络程序发送的数据包后,驱动程序会根据数据包中指定的端口号,知道该交给哪个应用程序</span><br><span class="line">		</span><br><span class="line">		网络通迅,确切的说,不是两台计算机之间在收发数据,而是两个网络程序之间在收发数据</span><br><span class="line">		</span><br><span class="line">		<span class="number">0</span>-<span class="number">65535</span> 范围的</span><br><span class="line">		<span class="number">0</span>-<span class="number">1023</span> 被称为有名端口</span><br><span class="line">		</span><br><span class="line">		查看端口使用情况</span><br><span class="line">		netstat -noa</span><br></pre></td></tr></table></figure>
<h1 id="3-UDP-Tcp"><a href="#3-UDP-Tcp" class="headerlink" title="3 UDP/Tcp"></a>3 UDP/Tcp</h1><p>​        </p>
<pre><code>---TCP 传输控制协议,是面向连接的通信协议,提供两台计算机之间的可靠和无差错的数据传输
         数据源和目标之间或建立一个虚拟的连接,建立后,计算机之间就会把数据,当作双向字节流进行交换
---UDP 用户数据报协议,是无连接的通信协议,不保证数据的可靠传输,
           能够向若干个目标发送和接收数据,数据包会有丢失的时候

        每一帧包含以下内容
            协议类型  源IP    目标IP    源端口    目标端口   帧序号  帧数据
</code></pre><h1 id="4-OSI参考模型"><a href="#4-OSI参考模型" class="headerlink" title="4 OSI参考模型"></a>4 OSI参考模型</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">概念：ISO提出了作为通信协议设计指标的OSI参考模型，将协议分为七层，使得原来复杂的网络协议更加简单化</span><br><span class="line"></span><br><span class="line">定义：在七层模型中，每个分层都接受由它下一层所提供的特定服务，</span><br><span class="line">	  并且负责为自己的上一层提供特定的服务，上下层之间进行交互所遵循的约定叫做“接口”，</span><br><span class="line">	  同一层之间的交互所遵循的约定叫做“协议”</span><br><span class="line">  OSI参考模型之七层网络模型</span><br><span class="line">层数 名字	主要功能						对应的典型设备										传输单位</span><br><span class="line"><span class="number">7</span>	应用层	提供应用程序间通信				计算机：应用程序，如FTP、SMTP、HTTP等				程序级数据</span><br><span class="line"><span class="number">6</span>	表示层	处理数据格式、数据加密等		计算机：编码方式，如图像编解码、URL字段传输编码等	程序级数据</span><br><span class="line"><span class="number">5</span>	会话层	建立、维护和管理会话			计算机：建立会话，如session认证、断点续传			程序级数据</span><br><span class="line"><span class="number">4</span>	传输层	为端到端连接提供传输服务		计算机：进程和端口	tcp和udp就在这层次				数据段（segment）</span><br><span class="line"><span class="number">3</span>	网络层	将数据传输到目标地址，主要责任：寻址和路由选择 网络：路由器、防火墙、多层交换机 ip协议在这					数据包（packet）</span><br><span class="line"><span class="number">2</span>	数据链路层	物理地址寻址、数据的成帧、流量控制、数据的检错、重发等	网络：网卡、网桥、交换机							帧（frame）</span><br><span class="line"><span class="number">1</span>	物理层	比特流传输						网络：中继器、集线器、网线等					比特（bit）</span><br><span class="line"></span><br><span class="line"> 一般这样考</span><br><span class="line">  在OSI七层模型中，网络层的功能有（B）</span><br><span class="line">	A、确保数据的传输正确无误</span><br><span class="line">	B、确定数据包如何转发与路由</span><br><span class="line">	C、在信道上传送比特流</span><br><span class="line">	D、纠错与流控</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">上面是理想情况,下面是实际情况 <span class="number">4</span>层模型 还有<span class="number">5</span>层模式</span><br><span class="line"> 第四层，应用层　</span><br><span class="line"> 第三层，传输层</span><br><span class="line"> 第二层，网间层</span><br><span class="line"> 第一层，网络接口层</span><br></pre></td></tr></table></figure>
<h1 id="5-套接字简介"><a href="#5-套接字简介" class="headerlink" title="5 套接字简介"></a>5 套接字简介</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">应用层通过传输层进行数据通信时，TCP和UDP会遇到同时为多个应用程序提供并发服务的问题。</span><br><span class="line">多个TCP连接或多个应用程序可能需要 通过同一个TCP协议端口传输数据。</span><br><span class="line">为了区别不同的应用程序和连接，许多计算机操作系统为应用程序与TCP／IP协议交互提供了称为</span><br><span class="line">套接字（Socket）的接口，区分不同应用程序间的网络通信和连接。</span><br><span class="line">应用层就可以和传输 层通过套接字接口，区分来自不同应用程序或网络连接的通信，实现数据传输的并发服务。</span><br><span class="line"></span><br><span class="line">说白了讲:套接字就是网络通信和应用程序交互的接口,提供了一种通信机制</span><br><span class="line"></span><br><span class="line">java中关于网络通信的包都在 java.net 包下</span><br><span class="line"></span><br><span class="line">UDP通信    DatagramSocket</span><br><span class="line"></span><br><span class="line">TCP通信    Socket 客户端</span><br><span class="line">		ServletSocket 服务端</span><br></pre></td></tr></table></figure>
<h1 id="6-UDP-网络程序"><a href="#6-UDP-网络程序" class="headerlink" title="6 UDP 网络程序"></a>6 UDP 网络程序</h1><pre><code>6.1 InetAddress 类  代表互联网协议,就是ip地址

      public static void main(String[] args) throws Exception {
            InetAddress localHost=InetAddress.getLocalHost();
            System.out.println(localHost.getHostAddress());  //100.100.255.211
            System.out.println(localHost.getHostName());  //admin-1c32882f6

            InetAddress otherHost=InetAddress.getByName(&quot;100.100.255.89&quot;);
            System.out.println(otherHost.getHostAddress());  //100.100.255.89
            System.out.println(otherHost.getHostName());     //JYZKQ3DK9YCN4D3

            InetAddress[] baiduHost=InetAddress.getAllByName(&quot;www.baidu.com&quot;);
            for(InetAddress net:baiduHost){
                System.out.println(net.getHostAddress());  
                System.out.println(net.getHostName()); 
                //www.baidu.com/111.13.100.92
                //www.baidu.com/111.13.100.91
            }
        }
</code></pre><p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6.2</span> UDP发送和接收</span><br><span class="line">		</span><br><span class="line">	  <span class="comment">//例一</span></span><br><span class="line">	  发送端</span><br><span class="line">	  <span class="number">1</span>) 建立套接字 DatagramSocket</span><br><span class="line">	  <span class="number">2</span>) 准备数据</span><br><span class="line">	  <span class="number">3</span>) 调用套接字服务,进行发送</span><br><span class="line">	  <span class="number">4</span>) 关闭资源</span><br><span class="line">	  </span><br><span class="line">			<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">					<span class="comment">//1) 建立套接字 DatagramSocket</span></span><br><span class="line">					DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket();<span class="comment">//可以指定发送端的端口号,在这里,指定没有多大意义</span></span><br><span class="line">					</span><br><span class="line">					<span class="comment">//2) 准备发送数据</span></span><br><span class="line">					String str=<span class="string">"你好,这是我发送过去的数据!"</span>;</span><br><span class="line">					<span class="keyword">byte</span>[] buff=str.getBytes();</span><br><span class="line">					DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length, InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">9000</span>);</span><br><span class="line">					</span><br><span class="line">					scoket.send(packet);  <span class="comment">//数据发送</span></span><br><span class="line">					</span><br><span class="line">					scoket.close();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		接收端</span><br><span class="line">		<span class="number">1</span>) 建立套接字 DatagramSocket</span><br><span class="line">		<span class="number">2</span>) 准备DatagramPacket用来接受数据</span><br><span class="line">		<span class="number">3</span>) 调用套接字的方法进行接受</span><br><span class="line">		<span class="number">4</span>) 从包裹中得到想要的数据</span><br><span class="line">		<span class="number">5</span>) 关闭资源</span><br><span class="line">		</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="comment">//1) DatagramSocket</span></span><br><span class="line">			DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket(<span class="number">9000</span>);<span class="comment">//对于接受者,不要忘记指定端口号</span></span><br><span class="line">			<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];<span class="comment">//如果对方超过1024,显然是接受不到的,但是这是代表每次发送的帧数大小,尽量不要大</span></span><br><span class="line">			DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length);</span><br><span class="line">			</span><br><span class="line">			scoket.receive(packet);  <span class="comment">//接受数据  阻塞方法</span></span><br><span class="line">			</span><br><span class="line">			<span class="keyword">int</span> sendPort=packet.getPort();</span><br><span class="line">			String sendIp=packet.getAddress().getHostAddress();</span><br><span class="line">			String sendMsg=<span class="keyword">new</span> String(packet.getData(), <span class="number">0</span>, packet.getLength());<span class="comment">//这个地方应该接受包裹里的数据,和包裹的大小,如果接受byte数据的数据,可能会有空白</span></span><br><span class="line">			</span><br><span class="line">			System.out.println(sendIp+<span class="string">":"</span>+sendPort+<span class="string">"--&gt;"</span>+sendMsg);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//关闭资源</span></span><br><span class="line">			scoket.close();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	  java.net.BindException: <span class="function">Address <span class="title">already</span><span class="params">(早已)</span> in use: Cannot <span class="title">bind</span> <span class="params">(绑定)</span></span></span><br><span class="line"><span class="function">	  端口重复运行</span></span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 循环的发送和接受</span></span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sender</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket();</span><br><span class="line">			</span><br><span class="line">			BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">			String msg=<span class="string">""</span>;</span><br><span class="line">			<span class="keyword">while</span>((msg=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">byte</span>[] buff=msg.getBytes();</span><br><span class="line">				DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length, InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">6000</span>);</span><br><span class="line">				scoket.send(packet);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Receiver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket(<span class="number">6000</span>);</span><br><span class="line">		System.out.println(<span class="string">"接收端启动了"</span>);</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length);</span><br><span class="line">			scoket.receive(packet);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">int</span> sendPort=packet.getPort();</span><br><span class="line">			String sendIp=packet.getAddress().getHostAddress();</span><br><span class="line">			String msg=<span class="keyword">new</span> String(packet.getData(), <span class="number">0</span>, packet.getLength());</span><br><span class="line">			System.out.println(sendIp+<span class="string">":"</span>+sendPort+<span class="string">" :说-&gt;"</span>+msg);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">		  </span><br><span class="line">把ip改成.<span class="number">255</span>段内的</span><br><span class="line">比如<span class="number">100.100</span>.255.255</span><br><span class="line">所有当前局域网内,都可以被接受到,这是广播地址</span><br></pre></td></tr></table></figure></p>
<h1 id="7-多线程聊天室程序"><a href="#7-多线程聊天室程序" class="headerlink" title="7 多线程聊天室程序"></a>7 多线程聊天室程序</h1><h1 id="8-域名解析"><a href="#8-域名解析" class="headerlink" title="8 域名解析"></a>8 域名解析</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">域名解析是把域名指向网站空间IP，让人们通过注册的域名可以方便地访问到网站一种服务。</span><br><span class="line">IP地址是网络上标识站点的数字地址，为了方便记忆，采用域名来代替IP地址标识站点地址。</span><br><span class="line">域名解析就是域名到IP地址的转换过程。域名的解析工作由DNS服务器完成。</span><br><span class="line">域名解析也叫域名指向、服务器设置、域名配置以及反向IP登记等等。说得简单点就是将好记的域名解析成IP，</span><br><span class="line">域名解析需要由专门的域名解析服务器(DNS)来完成。</span><br><span class="line">是把域名解析到一个IP地址，然后在此IP地址的主机上将一个子目录与域名绑定。</span><br><span class="line">一个域名对应一个IP地址，一个IP地址可以对应多个域名；所以多个域名可以同时被解析到一个IP地址。</span><br><span class="line"></span><br><span class="line">就要进行解析，首先在域名注册商那里通过专门的DNS服务器解析到一个WEB服务器的一个固定IP上：<span class="number">211.214</span>.1.***，</span><br><span class="line">然后，通过WEB服务器来接收这个域名，把***.com这个域名映射到这台服务器上。那么，</span><br><span class="line">输入***.com这个域名就可以实现访问网站内容了.即实现了域名解析的全过程；</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hosts文件是Windows系统中一个负责IP地址与域名快递解析的文件，以ASCLL格式保存。计算机在键入域名（比如www.baidu.com）的时候，</span><br><span class="line">首先会去看看hosts文件汇总有没有关于此域名IP地址的记录。如果有，就直接登陆该网站；如果没有再查询DNS服务器</span><br><span class="line">，在Windows <span class="number">2000</span>/XP系统中位于C:\Windows\System32\Drivers\Etc目录中。</span><br><span class="line">该文件其实是一个纯文本的文件，用普通的文本编辑软件如记事本等都能打开。 用记事本打开hosts文件，首先看见了微软对这个文件的说明。</span><br><span class="line">这个文件是根据TCP/IP <span class="keyword">for</span> Windows 的标准来工作的，它的作用是包含IP地址和Host name?主机名?的映射关系，是一个映射IP地址和Host name?主机名?的规定，</span><br><span class="line">规定要求每段只能包括一个映射关系，IP地址要放在每段的最前面，空格后再写上映射的Host name?主机名?。 </span><br><span class="line">现在有很多网站不经过用户同意就将各种各样的插件安装到你的计算机中，有些说不定就是木马或病毒。</span><br><span class="line">对于这些网站我们可以利用Hosts把该网站的域名映射到错误的IP或自己计算机的IP，这样就不用访问了。</span><br><span class="line">比如不想访问http:<span class="comment">//www.163.com，</span></span><br><span class="line">那我们在Hosts写上以下内容： <span class="number">127.0</span>.0.1 http:<span class="comment">//www.baidu.com/或者实际ip即可</span></span><br><span class="line">这样计算机解析域名就解析到本机或错误的IP，达到了屏蔽的目的。</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当进行访问网站时,首先会访问自己本地的Hosts文件</span><br><span class="line">然后寻找有没有,如果没有就去域名服务器寻找,一定有</span><br><span class="line">最后发送返回的实际ip地址</span><br></pre></td></tr></table></figure></p>
<p>​<br>​    </p>
<p>​<br>​    </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十八天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十八天/" class="post-title-link" itemprop="url">java设计模式、内部类</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:30:15" itemprop="dateCreated datePublished" datetime="2019-08-02T19:30:15+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:18" itemprop="dateModified" datetime="2019-08-04T12:46:18+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-单例模式"><a href="#1-单例模式" class="headerlink" title="1 单例模式"></a>1 单例模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">设计模式分为三种类型，共<span class="number">23</span>种：</span><br><span class="line"></span><br><span class="line">创建型模式：单例模式、抽象工厂模式、建造者模式、工厂模式、原型模式。</span><br><span class="line">结构型模式：适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式。</span><br><span class="line">行为型模式：模版方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式、</span><br><span class="line">			状态模式、策略模式、职责链模式(责任链模式)、访问者模式。</span><br><span class="line">	</span><br><span class="line">单例模式确保一个类只有一个实例，自行提供这个实例并向整个系统提供这个实例。</span><br><span class="line">		特点：</span><br><span class="line">		   <span class="number">1</span>，一个类只能有一个实例</span><br><span class="line">		   <span class="number">2</span>，自己创建这个实例</span><br><span class="line">		   <span class="number">3</span>，整个系统都要使用这个实例</span><br><span class="line">		   </span><br><span class="line">	<span class="comment">//单例模式  饿汉式</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">static</span> Person p=<span class="keyword">new</span> Person();</span><br><span class="line">			<span class="function"><span class="keyword">private</span> <span class="title">Person</span><span class="params">()</span></span>&#123;  <span class="comment">//构造方法私有化</span></span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Person <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">				<span class="keyword">return</span> p;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="comment">//懒汉式</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">static</span> Person p=<span class="keyword">null</span>;</span><br><span class="line">		<span class="function"><span class="keyword">private</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Person <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(p==<span class="keyword">null</span>)&#123;</span><br><span class="line">				p=<span class="keyword">new</span> Person();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-工厂模式"><a href="#2-工厂模式" class="headerlink" title="2 工厂模式"></a>2 工厂模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Dog d=DogFactory.getDog();</span><br><span class="line">		System.out.println(d.getName());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DogFactory</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Dog <span class="title">getDog</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Dog d=<span class="keyword">new</span> Dog();</span><br><span class="line">		d.setName(<span class="string">"某某厂家生产的狗"</span>);</span><br><span class="line">		<span class="keyword">return</span> d;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-适配器模式"><a href="#3-适配器模式" class="headerlink" title="3 适配器模式"></a>3 适配器模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">用一个创建的类A去实现一个接口,把方法全部实现,</span><br><span class="line">这时候我们在使用这个接口中部分方法,就不需要实现接口了,</span><br><span class="line">就可以继承A,然后重写自己想用的方法</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dadoudou</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">AnimalAdapter</span> <span class="keyword">implements</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dadoudou</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">AnimalAdapter</span></span>&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-代理模式"><a href="#4-代理模式" class="headerlink" title="4 代理模式"></a>4 代理模式</h1><p>​            </p>
<pre><code>指由一个代理主题来操作真实主题，真实主题执行具体的业务操作，而代理主题负责其他相关业务的处理。
比如生活中的代理网络，和真实网络

public class Test01{
        public static void main(String[] args) throws Exception{
            Proxy p=new Proxy(new Real());
            p.browse();
        }
    }
    interface NetWork{  //定义网络标准
        public void browse();    //能进行浏览合法网页
    }
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Real</span> <span class="keyword">implements</span> <span class="title">NetWork</span></span>&#123;  <span class="comment">//真实上网公司  运营商</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"正在使用本公司的流量进行上网!已经收取了一定费用"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Proxy</span>  <span class="keyword">implements</span> <span class="title">NetWork</span></span>&#123;  <span class="comment">//Proxy 就是代理类</span></span><br><span class="line">	<span class="keyword">private</span> NetWork n;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">(NetWork n)</span></span>&#123;  <span class="comment">//传入真实代理商,进行代理</span></span><br><span class="line">		<span class="keyword">this</span>.n=n;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"本公司各种业务,都给你办一遍,获取你个人信息,卖钱"</span>); <span class="comment">//做本公司业务</span></span><br><span class="line">		n.browse();  <span class="comment">//调用真实运营商方法</span></span><br><span class="line">		System.out.println(<span class="string">"开始上网监控流量使用"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​        </p>
<h1 id="5-建造者模式"><a href="#5-建造者模式" class="headerlink" title="5 建造者模式"></a>5 建造者模式</h1><p>​            </p>
<pre><code>建造者模式将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。

建造者模式通常包括下面几个角色：
1、Product：要创建的复杂对象。
2、Builder：给出一个抽象接口，以规范产品对象的各个组成成分的建造。
3、ConcreteBuilder：实现Builder接口，针对不同的商业逻辑，具体化复杂对象的各部分的创建。 在建造过程完成后，提供产品的实例。
4、Director：调用具体建造者来创建复杂对象的各个部分，只负责保证对象各部分完整创建或按某种顺序创建。
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">				建造者 j=<span class="keyword">new</span> 建造者();</span><br><span class="line">				机器人 p=j.create机器人(<span class="keyword">new</span> 弱智机器人());</span><br><span class="line">				System.out.println(p.getFoot());</span><br><span class="line">				System.out.println(p.getHead());</span><br><span class="line">				System.out.println(p.getBody());</span><br><span class="line">				System.out.println(p.getHand());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//Product</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> 机器人</span>&#123;</span><br><span class="line">			<span class="keyword">private</span> String head;</span><br><span class="line">			<span class="keyword">private</span> String body;</span><br><span class="line">			<span class="keyword">private</span> String hand;</span><br><span class="line">			<span class="keyword">private</span> String foot;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getHead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> head;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHead</span><span class="params">(String head)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.head = head;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getBody</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> body;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBody</span><span class="params">(String body)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.body = body;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getHand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> hand;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHand</span><span class="params">(String hand)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.hand = hand;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getFoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> foot;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFoot</span><span class="params">(String foot)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.foot = foot;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//Builder</span></span><br><span class="line">		<span class="class"><span class="keyword">interface</span> <span class="title">Build</span>机器人</span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHead</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildBody</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHand</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildFoot</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="keyword">public</span> 机器人 create机器人();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//ConcreteBuilder</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> 弱智机器人 <span class="keyword">implements</span> <span class="title">Build</span>机器人</span>&#123;</span><br><span class="line">			机器人 r;</span><br><span class="line">			<span class="keyword">public</span> 弱智机器人()&#123;</span><br><span class="line">				r=<span class="keyword">new</span> 机器人();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildBody</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setBody(<span class="string">"体弱多病"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildFoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setFoot(<span class="string">"瘸子"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setHand(<span class="string">"独臂"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setHead(<span class="string">"被门夹过"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> 机器人 create机器人() &#123;</span><br><span class="line">				<span class="keyword">return</span> r;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//Director</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> 建造者</span>&#123;</span><br><span class="line">			<span class="keyword">public</span> 机器人 create机器人(Build机器人 p)&#123;</span><br><span class="line">				p.buildFoot();</span><br><span class="line">				p.buildHead();</span><br><span class="line">				p.buildBody();</span><br><span class="line">				p.buildHand();</span><br><span class="line">				<span class="keyword">return</span> p.create机器人();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	建造者模式：是将一个复杂的对象的构建与它的表示分离，</span><br><span class="line">	使得同样的构建过程可以创建不同的表示。</span><br><span class="line">	比如：</span><br><span class="line">	去肯德基，汉堡、可乐、薯条、炸鸡等是不变的，而其组合是经常变化的，生成出所谓的<span class="string">"套餐"</span>。</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">				清明节套餐 q=<span class="keyword">new</span> 清明节套餐();</span><br><span class="line">				KFC套餐 tc=q.create清明节(<span class="keyword">new</span> KFC口味());</span><br><span class="line">				System.out.println(tc.get可乐());</span><br><span class="line">				System.out.println(tc.get汉堡());</span><br><span class="line">				System.out.println(tc.get薯条());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">KFC</span>套餐</span>&#123;</span><br><span class="line">			<span class="keyword">private</span> String 汉堡;</span><br><span class="line">			<span class="keyword">private</span> String 可乐;</span><br><span class="line">			<span class="keyword">private</span> String 薯条;</span><br><span class="line">			<span class="keyword">private</span> String 炸鸡;</span><br><span class="line">			<span class="keyword">public</span> String get汉堡() &#123;</span><br><span class="line">				<span class="keyword">return</span> 汉堡;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set汉堡(String 汉堡) &#123;</span><br><span class="line">				<span class="keyword">this</span>.汉堡 = 汉堡;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String get可乐() &#123;</span><br><span class="line">				<span class="keyword">return</span> 可乐;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set可乐(String 可乐) &#123;</span><br><span class="line">				<span class="keyword">this</span>.可乐 = 可乐;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String get薯条() &#123;</span><br><span class="line">				<span class="keyword">return</span> 薯条;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set薯条(String 薯条) &#123;</span><br><span class="line">				<span class="keyword">this</span>.薯条 = 薯条;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String get炸鸡() &#123;</span><br><span class="line">				<span class="keyword">return</span> 炸鸡;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set炸鸡(String 炸鸡) &#123;</span><br><span class="line">				<span class="keyword">this</span>.炸鸡 = 炸鸡;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">interface</span> <span class="title">BuildKFC</span>套餐</span>&#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build汉堡();</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build可乐();</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build薯条();</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build炸鸡();</span><br><span class="line">			<span class="keyword">public</span> KFC套餐 createKFC();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">KFC</span>口味 <span class="keyword">implements</span> <span class="title">BuildKFC</span>套餐</span>&#123;</span><br><span class="line">			KFC套餐 tc;</span><br><span class="line">			<span class="keyword">public</span> KFC口味()&#123;</span><br><span class="line">				tc=<span class="keyword">new</span> KFC套餐();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build可乐() &#123;</span><br><span class="line">				tc.set可乐(<span class="string">"很苦"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build汉堡() &#123;</span><br><span class="line">				tc.set汉堡(<span class="string">"很肥"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build炸鸡() &#123;</span><br><span class="line">				tc.set炸鸡(<span class="string">"很油"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build薯条() &#123;</span><br><span class="line">				tc.set薯条(<span class="string">"很硬"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> KFC套餐 createKFC() &#123;</span><br><span class="line">				<span class="keyword">return</span> tc;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> 清明节套餐</span>&#123;</span><br><span class="line">			<span class="keyword">public</span> KFC套餐 create清明节(BuildKFC套餐 tc)&#123;</span><br><span class="line">				tc.build可乐();</span><br><span class="line">				tc.build薯条();</span><br><span class="line">				tc.build汉堡();</span><br><span class="line">				<span class="keyword">return</span> tc.createKFC();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">				</span><br><span class="line">实现了将<span class="string">"具体食品"</span>如何创作 与他的<span class="string">"套餐表现"</span> 分离</span><br></pre></td></tr></table></figure>
<h1 id="6-门面模式"><a href="#6-门面模式" class="headerlink" title="6 门面模式"></a>6 门面模式</h1><p>​        </p>
<pre><code>什么是门面模式
    门面模式要求 个子系统的外部与其内部的通信必须通过一个统一的门面(Facade)对象进行。
    门面模式提供一个高层次的接口，使得子系统更易于使用。
    就如同医院的接待员一样，门面模式的门面类将客户端与子系统的内部复杂性分隔开，
    使得客户端只需要与门面对象打交道，而不需要与子系统内部的很多对象打交道。

医院的例子
    用一个例子进行说明，如果把医院作为一个系统，按照部门职能，
    这个系统可以划分为挂号、门诊、划价、化验、收费、取药等。
    看病的病人要与这些部门打交道，不是一件容易的事情。
    首先病人必须先挂号，然后门诊。
    如果医生要求化验，病人必须首先划价，然后缴款，才能到化验部门做化验。化验后，再回到门诊室。
    解决这种不便的方法便是引进门面模式。
    可以设置一个接待员的位置，由接待员负责代为挂号、划价、缴费、取药等。这个接待员就是门面模式的体现，
    病人只接触接待员，由接待员负责与医院的各个部门打交道。

class 部门1{
    public void 挂号(){
        System.out.println(&quot;进行排队挂号......&quot;);
    }
}
class 部门2{
    public void 门诊(){
        System.out.println(&quot;进行排队门诊......&quot;);
    }
}
class 部门3{
    public void 划价(){
        System.out.println(&quot;进行排队划价......&quot;);
    }
}
class 部门4{
    public void 化验(){
        System.out.println(&quot;进行排队化验......&quot;);
    }
}
class 门面{
    public 部门1 b1;
    public 部门2 b2;
    public 部门3 b3;
    public 门面(){
        b1=new 部门1();
        b2=new 部门2();
        b3=new 部门3();
    }
    public void 门面方法(){
        b1.挂号();
        b2.门诊();
        b3.划价();
    }
}
public class Test01{
    public static void main(String[] args) throws Exception{
        门面 m=new 门面();
        m.门面方法();
        部门4 b4=new 部门4();
        b4.部门4();
    }
}
</code></pre><h1 id="7-桥接模式"><a href="#7-桥接模式" class="headerlink" title="7 桥接模式"></a>7 桥接模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">需求：我们假设有一座桥，桥左边为A，桥右边为B，A有A1，A2，A3等，表示桥左边的三个不同地方，</span><br><span class="line">  B有B1，B2，B3等，表示桥右边的三个不同地方，</span><br><span class="line">  假设我们要从桥左侧A出发到桥的右侧B，我们可以有多重方案，</span><br><span class="line">  A1到B1，A1到B2，A1到B3，A2到B1...等等</span><br><span class="line">  </span><br><span class="line"> 桥接口</span><br><span class="line"> <span class="class"><span class="keyword">interface</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B();</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> 目的地 B1 B2 B3</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">B1</span> <span class="keyword">implements</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B()&#123;</span><br><span class="line">		 System.out.println(<span class="string">"我要去B1"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">B2</span> <span class="keyword">implements</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B()&#123;</span><br><span class="line">		 System.out.println(<span class="string">"我要去B2"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">B3</span> <span class="keyword">implements</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B()&#123;</span><br><span class="line">		 System.out.println(<span class="string">"我要去B3"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//抽象来源地 A</span></span><br><span class="line"> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 Qiao qiao;</span><br><span class="line">	 <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> 来源地 A1 A2 A3</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">A1</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>&#123;</span><br><span class="line">		  System.out.println(<span class="string">"我来自A1"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">A2</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>&#123;</span><br><span class="line">		  System.out.println(<span class="string">"我来自A2"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">A3</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>&#123;</span><br><span class="line">		  System.out.println(<span class="string">"我来自A3"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		 A a=<span class="keyword">new</span> A2();</span><br><span class="line">		 a.qiao=<span class="keyword">new</span> B3();</span><br><span class="line">		 a.fromA();</span><br><span class="line">		 a.qiao.目的地B();</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> 上面的就是桥接模式</span><br><span class="line"> 桥接（Bridge）是用于把抽象化与实现化解耦，使得二者可以独立变化。</span><br><span class="line"> 这种类型的设计模式属于结构型模式，它通过提供抽象化和实现化之间的桥接结构，来实现二者的解耦。</span><br><span class="line"> </span><br><span class="line"> 理解:此处的抽象化和实现化分别指向实例中 A B 双方,</span><br><span class="line">	  此时A和B发生了解耦关系</span><br><span class="line">	  </span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">B1</span></span>&#123;</span><br><span class="line">		  <span class="keyword">void</span> 目的地B1()&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我要去B1"</span>);</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">B2</span></span>&#123;</span><br><span class="line">		  <span class="keyword">void</span> 目的地B2()&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我要去B2"</span>);</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  </span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A1_B1</span> <span class="keyword">extends</span> <span class="title">B1</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA1</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A1"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B1();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A1_B2</span> <span class="keyword">extends</span> <span class="title">B2</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA1</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A1"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B2();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A2_B1</span> <span class="keyword">extends</span> <span class="title">B1</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA2</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A2"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B1();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  </span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A2_B2</span> <span class="keyword">extends</span> <span class="title">B2</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA2</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A2"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B2();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  </span><br><span class="line">使传统模式开发,会让事物之间耦合度很高,解耦性不好,并且会产生类的急剧膨胀,也不好</span><br><span class="line">使用桥接模式,会让两个独立开,耦合度变低,互不影响,中间使用桥梁进行沟通</span><br></pre></td></tr></table></figure>
<h1 id="8-内部类"><a href="#8-内部类" class="headerlink" title="8 内部类"></a>8 内部类</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">在一个类体或方法体内部定义的类,可以用<span class="keyword">public</span> <span class="keyword">private</span> <span class="keyword">protected</span> <span class="keyword">default</span> 修饰符修饰</span><br><span class="line">可以在内部类中,访问外部类的属性,哪怕是私有的都行</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Person p=<span class="keyword">new</span> Person();</span><br><span class="line">		p.展示宠物();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	String home;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"喵.........我的主人名字:"</span>+name);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">void</span> 展示宠物()&#123;</span><br><span class="line">		Cat c=<span class="keyword">new</span> Cat();</span><br><span class="line">		c.speak();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name=<span class="string">"大雄"</span>;</span><br><span class="line">	String home=<span class="string">"云谷"</span>;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span>&#123;</span><br><span class="line">		String nickName=<span class="string">"tom"</span>;</span><br><span class="line">		String home=<span class="string">"猫窝"</span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"喵........."</span>);</span><br><span class="line">			System.out.println(<span class="string">"我的昵称:"</span>+<span class="keyword">this</span>.nickName);</span><br><span class="line">			System.out.println(<span class="string">"我的主人名:"</span>+name);  <span class="comment">//不要加this</span></span><br><span class="line">			System.out.println(<span class="string">"我的家:"</span>+home);   <span class="comment">//this.home和home</span></span><br><span class="line">			System.out.println(<span class="string">"我主人的家:"</span>+Person.<span class="keyword">this</span>.home);   <span class="comment">//外部类的home</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">void</span> 展示宠物()&#123;</span><br><span class="line">		Cat c=<span class="keyword">new</span> Cat();</span><br><span class="line">		c.speak();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以用内部类去定义对象</span></span><br><span class="line">Person p=<span class="keyword">new</span> Person();</span><br><span class="line">Person.Cat c=p.new Cat();  <span class="comment">//外部类.内部类 对象名=new 外部类().new 内部类();</span></span><br><span class="line">c.speak();</span><br><span class="line"></span><br><span class="line">重点：</span><br><span class="line">		内部类可以声明为静态的</span><br><span class="line">		静态的内部类,不能访问外部类中非静态成员</span><br><span class="line">		静态的内部类中,可以有静态成员</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> 也可以在方法内部创建内部类</span><br><span class="line"> 在方法的内部类中,要访问方法中的局部变量,这个变量必须是<span class="keyword">final</span>的</span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		计算面积(<span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">void</span> 计算面积(<span class="keyword">final</span> <span class="keyword">int</span> r)&#123;  <span class="comment">//必须是final类型的</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">Calc</span></span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">void</span> <span class="title">jisuan</span><span class="params">()</span></span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"计算结果:"</span>+<span class="number">3.14</span>*r*r);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		Calc c=<span class="keyword">new</span> Calc();</span><br><span class="line">		c.jisuan();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​                            </p>
<ul>
<li>​        </li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十七天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十七天/" class="post-title-link" itemprop="url">java的File类</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:27:07" itemprop="dateCreated datePublished" datetime="2019-08-02T19:27:07+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:00" itemprop="dateModified" datetime="2019-08-04T12:46:00+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-File-类概述"><a href="#1-File-类概述" class="headerlink" title="1 File 类概述"></a>1 File 类概述</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">流只是操作数据的，而</span><br><span class="line">File类是IO包中,唯一代表磁盘文件本身的类</span><br><span class="line">用来将文件或文件夹封装成对象</span><br><span class="line">方便对文件及文件夹的属性信息进行操作</span><br><span class="line">File对象经常做为参数传给流的构造函数</span><br><span class="line">File类不能访问文件内容,即不能从文件中读数据,也不能写入数据,它只能对文件本身的属性进行操作</span><br><span class="line"></span><br><span class="line"><span class="comment">//几种常见的操作</span></span><br><span class="line">	<span class="comment">//创建文件 boolean createNewFile();  返回的是boolean型</span></span><br><span class="line">	<span class="comment">//创建文件 createTempFile()</span></span><br><span class="line">	<span class="comment">//创建目录 mkdir()  ,  mkdirs() </span></span><br><span class="line">	<span class="comment">//删除 boolean delete()</span></span><br><span class="line">	<span class="comment">//删除 void deleteOnExit() //执行之后，File并没有直接删除，而是在虚拟机正常运行结束后才会删除。</span></span><br><span class="line">	<span class="comment">//判断方法</span></span><br><span class="line">	<span class="comment">//-- exists() 判断存不存在</span></span><br><span class="line">	<span class="comment">//-- isDirectory()  判断是不是目录</span></span><br><span class="line">	<span class="comment">//-- isFile()  判断是不是文件</span></span><br><span class="line">	<span class="comment">//-- isHidden() 判断是不是隐藏</span></span><br><span class="line">	<span class="comment">//-- canRead() 判断是否可读</span></span><br><span class="line">	<span class="comment">//-- canWrite() 判断是否可写</span></span><br><span class="line">	<span class="comment">//--renameTo(File dest) 剪切并且重命名</span></span><br><span class="line">			</span><br><span class="line">				要求:参数中的对象File dest不存在,调用者必须存在</span><br><span class="line">					</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">			<span class="comment">/*File f1=new File("c://a.txt");</span></span><br><span class="line"><span class="comment">			File f2=new File("c://parent","b.txt");  //如果parent不存在,则会抛出异常</span></span><br><span class="line"><span class="comment">			File f3=new File("3.txt");</span></span><br><span class="line"><span class="comment">			File f4=new File("c://");</span></span><br><span class="line"><span class="comment">			File f5=new File(f4,"5.txt");</span></span><br><span class="line"><span class="comment">			System.out.println(f1.createNewFile());</span></span><br><span class="line"><span class="comment">			System.out.println(f2.createNewFile());</span></span><br><span class="line"><span class="comment">			System.out.println(f3.createNewFile());</span></span><br><span class="line"><span class="comment">			//System.out.println(f4.createNewFile());</span></span><br><span class="line"><span class="comment">			System.out.println(f5.createNewFile());*/</span></span><br><span class="line">			<span class="comment">//File tempFile=f1.createTempFile("temp", ".java");</span></span><br><span class="line">			<span class="comment">//System.out.println(tempFile.getAbsolutePath()); //C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\temp2141738120370824938.java</span></span><br><span class="line">			<span class="comment">//f1.createTempFile("temp", ".java", new File("c://temp"));//会在temp文件夹中生成临时文件</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">/*File f6=new File("c://456");</span></span><br><span class="line"><span class="comment">			System.out.println(f6.mkdirs()); //创建多层目录</span></span><br><span class="line"><span class="comment">			System.out.println(f6.mkdir());  //创建单层目录</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			File f7=new File("c://456");</span></span><br><span class="line"><span class="comment">			System.out.println(f7.delete()); //删除目录</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			File f8=new File("c://123");</span></span><br><span class="line"><span class="comment">			System.out.println(f8.delete()); //对于非空文件夹,是删除不掉的</span></span><br><span class="line"><span class="comment">	*/</span>		</span><br><span class="line">			<span class="comment">//-- exists() 判断存不存在</span></span><br><span class="line">			<span class="comment">//-- isDirectory()  判断是不是目录</span></span><br><span class="line">			<span class="comment">//-- isFile()  判断是不是文件</span></span><br><span class="line">			<span class="comment">//-- isHidden() 判断是不是隐藏</span></span><br><span class="line">			<span class="comment">//-- canRead() 判断是否可读</span></span><br><span class="line">			<span class="comment">//-- canWrite() 判断是否可写</span></span><br><span class="line">			<span class="comment">/*System.out.println(f8.exists());</span></span><br><span class="line"><span class="comment">			System.out.println(f8.isDirectory());</span></span><br><span class="line"><span class="comment">			System.out.println(f8.isHidden());*/</span></span><br><span class="line">			</span><br><span class="line">		<span class="comment">/*	File f9=new File("c:"+File.separator+"123"+File.separator+"aa.txt"); //File.separator 是磁盘分割符,在不同系统中,自动识别所认识的</span></span><br><span class="line"><span class="comment">			System.out.println(f9.canRead());</span></span><br><span class="line"><span class="comment">			System.out.println(f9.canWrite());</span></span><br><span class="line"><span class="comment">			System.out.println(f9.delete());*/</span></span><br><span class="line">			File file=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">			file.mkdir();</span><br><span class="line">			File file1=<span class="keyword">new</span> File(<span class="string">"c://aaa//aa.txt"</span>);</span><br><span class="line">			file1.createNewFile();</span><br><span class="line">			File file2=<span class="keyword">new</span> File(<span class="string">"c://file2.txt"</span>);</span><br><span class="line">			System.out.println(file1.renameTo(file2)); <span class="comment">//会把aaa文件夹中的aa.txt剪切到file2对象下,也就是C盘并且叫做file2.txt</span></span><br><span class="line">				&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-File类的常用获取方法"><a href="#2-File类的常用获取方法" class="headerlink" title="2 File类的常用获取方法"></a>2 File类的常用获取方法</h1><p>​                </p>
<pre><code>//获取文件信息
//String getName()  返回文件或目录的名称。
//String getParent()  返回父目录路径字符串,没有返回null
//public File getParentFile() 返回父目录路径file对象,没有返回null
//String getPath()  返回路径字符串含文件名
//String getAbsolutePath() 返回绝对路径字符串。
//File getAbsoluteFile()  返回绝对路径名形式。
//long length() 返回文件长度,以字节为单位
//static File[] listRoots() 列出可用的文件系统根 在windows下即列出C D E等盘符
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">	File f1=<span class="keyword">new</span> File(<span class="string">"c://a.txt"</span>);</span><br><span class="line">	System.out.println(f1.getName());  <span class="comment">//a.txt</span></span><br><span class="line">	System.out.println(f1.getParent());  <span class="comment">//c:\</span></span><br><span class="line">	System.out.println(f1.getPath());  <span class="comment">//c:\a.txt</span></span><br><span class="line">	System.out.println(f1.getAbsolutePath());  <span class="comment">//c:\a.txt</span></span><br><span class="line">	System.out.println(f1.length());  <span class="comment">//4489</span></span><br><span class="line">	</span><br><span class="line">	File[] fileArray=File.listRoots();</span><br><span class="line">	<span class="keyword">for</span>(File file:fileArray)&#123;</span><br><span class="line">		System.out.println(file);  <span class="comment">//A C D</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 如何得到一个文件夹下所有的文件名,或所有的文件对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">	File f1=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">	String[] strArray=f1.list();</span><br><span class="line">	<span class="keyword">for</span>(String strName:strArray)&#123;</span><br><span class="line">		System.out.println(strName);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	File[] fileArray=f1.listFiles();</span><br><span class="line">	<span class="keyword">for</span>(File f:fileArray)&#123;</span><br><span class="line">		System.out.println(f.getName());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 文件过滤</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		File f1=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">		String[] strArray=f1.list();</span><br><span class="line">		<span class="keyword">for</span>(String strName:strArray)&#123;</span><br><span class="line">			<span class="keyword">if</span>(strName.endsWith(<span class="string">".java"</span>))&#123;</span><br><span class="line">				System.out.println(strName);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//或者</span></span><br><span class="line">		String[] strArray1=f1.list(<span class="keyword">new</span> FilenameFilter()&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> name.endsWith(<span class="string">".java"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="keyword">for</span>(String name:strArray1)&#123;</span><br><span class="line">			System.out.println(name);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-递归查看目录"><a href="#3-递归查看目录" class="headerlink" title="3 递归查看目录"></a>3 递归查看目录</h1><p>​                </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需求:把一个文件下的所有文件名字进行输出</span></span><br><span class="line"></span><br><span class="line">首先得到所有文件</span><br><span class="line">判断 那些是文件,那些是文件夹</span><br><span class="line"></span><br><span class="line">如果是文件夹</span><br><span class="line">首先得到所有文件</span><br><span class="line">判断 那些是文件,那些是文件夹</span><br><span class="line"></span><br><span class="line">如果是文件夹</span><br><span class="line">首先得到所有文件</span><br><span class="line">判断 那些是文件,那些是文件夹</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		test(<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(File f)</span></span>&#123;</span><br><span class="line">		File[] fileArray=f.listFiles();</span><br><span class="line">		<span class="keyword">for</span>(File file:fileArray)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">				test(file);  <span class="comment">//递归进行刚才的逻辑</span></span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				System.out.println(file.getName());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-大文件切割和合并"><a href="#4-大文件切割和合并" class="headerlink" title="4 大文件切割和合并"></a>4 大文件切割和合并</h1><p>​<br>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		File srcFile=<span class="keyword">new</span> File(<span class="string">"c://huluobo.JPG"</span>);</span><br><span class="line">		File tempFile=<span class="keyword">new</span> File(<span class="string">"c://temp"</span>);</span><br><span class="line">		<span class="comment">//cutFile(srcFile,tempFile);</span></span><br><span class="line">		</span><br><span class="line">		File dirFile=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">		String fileName=srcFile.getName();</span><br><span class="line">		unionFile(dirFile,tempFile,fileName);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//切割</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">cutFile</span><span class="params">(File srcFile,File tempFile)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!tempFile.exists())&#123;</span><br><span class="line">			tempFile.mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		InputStream in=<span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">		OutputStream out=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">100</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=in.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> num=count++;</span><br><span class="line">			out=<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(tempFile, num+<span class="string">".temp"</span>));</span><br><span class="line">			out.write(b, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">		in.close();</span><br><span class="line">		System.out.println(<span class="string">"切割完成....."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//合并</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">unionFile</span><span class="params">(File dirFile,File tempFile,String fileName)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!dirFile.exists())&#123;</span><br><span class="line">			dirFile.mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		File[] files=tempFile.listFiles();</span><br><span class="line">		List&lt;FileInputStream&gt; list=<span class="keyword">new</span> ArrayList&lt;FileInputStream&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;files.length;i++)&#123;</span><br><span class="line">			File f=<span class="keyword">new</span> File(tempFile,i+<span class="string">".temp"</span>);</span><br><span class="line">			list.add(<span class="keyword">new</span> FileInputStream(f));</span><br><span class="line">			<span class="comment">//最后把临时文件就可以删除了</span></span><br><span class="line">			f.deleteOnExit();  <span class="comment">//最后没有被占用,在删除,使用deleteOnExit,使用delete失败,可能是因为被占用</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		Enumeration&lt;FileInputStream&gt; eum=Collections.enumeration(list);</span><br><span class="line">		<span class="comment">//合并流</span></span><br><span class="line">		SequenceInputStream sis=<span class="keyword">new</span> SequenceInputStream(eum);<span class="comment">//构造函数需要的就是枚举类型</span></span><br><span class="line">		</span><br><span class="line">		OutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(dirFile, fileName));</span><br><span class="line">		<span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">100</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=sis.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			out.write(b, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">		sis.close();</span><br><span class="line">		System.out.println(<span class="string">"合并成功!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-Properties-类详解"><a href="#5-Properties-类详解" class="headerlink" title="5 Properties 类详解"></a>5 Properties 类详解</h1><p>​           1) 是HashTable的子类<br>           2) 增加了把键和值存到流中,或从流中读出来的功能<br>           3) store()方法,可以把键和值存到流中(键和值必须是String类型)<br>           4) 可以从流中载入信息  load()</p>
<pre><code>config.properties
     #cy
     #Tue Jul 23 11:46:44 CST 2019
     port=8081
     password=admin123
     note=this is note
     userName=adminqwe
     newKey=123\u4E2D\u6587

public static void main(String[] args) throws Exception{
     Properties settings=new Properties();
     InputStream in=new FileInputStream(&quot;src/config.properties&quot;);
     settings.load(in);

     //取东西
     System.out.println(settings.getProperty(&quot;port&quot;));
     Set&lt;String&gt; keySet=settings.stringPropertyNames();
     for(String str:keySet){
         System.out.print(str+&quot;--&gt;&quot;);
         System.out.println(settings.getProperty(str));
     }

     //存
     settings.setProperty(&quot;userName&quot;, &quot;adminqwe&quot;);
     settings.setProperty(&quot;newKey&quot;, &quot;123中文&quot;); //中文在properties文件中是会进行unicode编码  \u都是这个编码
     settings.store(new FileOutputStream(&quot;src/config.properties&quot;), &quot;cy&quot;); //最后一个参数是一个注释内容,通常都写 作者是谁,修改了什么
 }
</code></pre><p>​<br>​            </p>
<h1 id="6-java-中的序列化"><a href="#6-java-中的序列化" class="headerlink" title="6 java 中的序列化"></a>6 java 中的序列化</h1><p>​            </p>
<pre><code>        List&lt;String&gt; nameList=new ArrayList&lt;String&gt;();
        List&lt;UserInfo&gt; nameList=new ArrayList&lt;UserInfo&gt;();

    有的时候我们想要把一个Java对象变成字节流的形式传出去，
    有的时候我们想要从一个字节流中恢复一个Java对象。
    又或者把一个Java对象写入到硬盘或者传输到网路上面的其它计算机，
    这时候就需要用到Java的序列化

    当两个进程在进行远程通信时，彼此可以发送各种类型的数据。无论是何种类型的数据，都会以二进制序列的形式传送。
    发送方需要把这个Java对象转换为字节序列，才能在网络上传送；接收方则需要把字节序列再恢复为Java对象。

    把Java对象转换为字节序列的过程称为对象的序列化。
    把字节序列恢复为Java对象的过程称为对象的反序列化。

    对象的序列化主要有两种用途：

    1） 把对象的字节序列永久地保存到硬盘上，通常存放在一个文件中；
    2） 在网络上传送对象的字节序列。（比如：两个不同系统甚至是分布式模块之间的调用）

只有实现了Serializable和Externalizable接口的类的对象才能被序列化。Externalizable接口继承自Serializable接口，
实现Externalizable接口的类完全由自身来控制序列化的行为，而仅实现Serializable接口的类可以采用默认的序列化方式 。

String类已经提前实现了序列化,实现了implements java.io.Serializable

//为什么需要序列化？
    我们知道，当两个进程进行远程通信时，可以相互发送各种类型的数据，包括文本、图片、音频、视频等， 
    而这些数据都会以二进制序列的形式在网络上传送。那么当两个Java进程进行通信时，
    能否实现进程间的对象传送呢？答案是可以的。如何做到呢？
    这就需要Java序列化与反序列化了。换句话说，
    一方面，发送方需要把这个Java对象转换为字节序列，然后在网络上传送；
    另一方面，接收方需要从字节序列中恢复出Java对象。
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">			<span class="comment">//序列化过程, 将一个对象变成字节序类,在网络上传输</span></span><br><span class="line">			<span class="comment">/*UserInfo u1=new UserInfo(1, "张三", "男");</span></span><br><span class="line"><span class="comment">			UserInfo u2=new UserInfo(2, "李四", "女");</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			OutputStream out=new FileOutputStream("c://my.obj");</span></span><br><span class="line"><span class="comment">			ObjectOutputStream oopt=new ObjectOutputStream(out);</span></span><br><span class="line"><span class="comment">			oopt.writeObject(u1);</span></span><br><span class="line"><span class="comment">			oopt.writeObject(u2);</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			oopt.close();*/</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">//反序列化过程, 将一个字节序类变成对象</span></span><br><span class="line">			InputStream in=<span class="keyword">new</span> FileInputStream(<span class="string">"c://my.obj"</span>);</span><br><span class="line">			ObjectInputStream oips=<span class="keyword">new</span> ObjectInputStream(in);</span><br><span class="line">			UserInfo newU1=(UserInfo) oips.readObject();</span><br><span class="line">			UserInfo newU2=(UserInfo) oips.readObject();</span><br><span class="line">			System.out.println(newU1);</span><br><span class="line">			System.out.println(newU2);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">		<span class="keyword">private</span> String userName;</span><br><span class="line">		<span class="keyword">private</span> String sex;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">UserInfo</span><span class="params">(<span class="keyword">int</span> id, String userName, String sex)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.id = id;</span><br><span class="line">			<span class="keyword">this</span>.userName = userName;</span><br><span class="line">			<span class="keyword">this</span>.sex = sex;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="string">"UserInfo [id="</span> + id + <span class="string">", sex="</span> + sex + <span class="string">", userName="</span> + userName</span><br><span class="line">					+ <span class="string">"]"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="7-serialVersionUID"><a href="#7-serialVersionUID" class="headerlink" title="7 serialVersionUID"></a>7 serialVersionUID</h1><pre><code>  public class Test01 {

        public static void main(String[] args) throws Exception{
            //序列化过程, 将一个对象变成字节序类,在网络上传输
            /*UserInfo u1=new UserInfo(1, &quot;张三&quot;, &quot;男&quot;);
            UserInfo u2=new UserInfo(2, &quot;李四&quot;, &quot;女&quot;);

            OutputStream out=new FileOutputStream(&quot;c://my.obj&quot;);
            ObjectOutputStream oopt=new ObjectOutputStream(out);
            oopt.writeObject(u1);
            oopt.writeObject(u2);

            oopt.close();*/

            //反序列化过程, 将一个字节序类变成对象
            InputStream in=new FileInputStream(&quot;c://my.obj&quot;);
            ObjectInputStream oips=new ObjectInputStream(in);
            UserInfo newU1=(UserInfo) oips.readObject();
            UserInfo newU2=(UserInfo) oips.readObject();
            System.out.println(newU1);
            System.out.println(newU2);
        }
    }
    class UserInfo implements Serializable{
        private int id;
        private String userName;
        private String sex;
        private String phone;
        public UserInfo(int id, String userName, String sex,String phone) {
            this.id = id;
            this.userName = userName;
            this.sex = sex;
            this.phone=phone;
        }
        @Override
        public String toString() {
            return &quot;UserInfo [id=&quot; + id + &quot;, phone=&quot; + phone + &quot;, sex=&quot; + sex
                    + &quot;, userName=&quot; + userName + &quot;]&quot;;
        }
    }

可能对象在没有phone属性时,进行了序列化,但是因为业务的原因,不得不升级,增加了一个属性phone,
然后进行反序列化,出现异常

序列化ID的作用：
    其实，这个序列化ID起着关键的作用，它决定着是否能够成功反序列化！
    简单来说，java的序列化机制是通过在运行时判断类的serialVersionUID来验证版本一致性的。
    在进行反序列化时，JVM会把传来的字节流中的serialVersionUID与本地实体类中的serialVersionUID进行比较，
    如果相同则认为是一致的，便可以进行反序列化，否则就会报序列化版本不一致的异常。
    序列化时为了保持版本的兼容性，即在版本升级时反序列化仍保持对象的唯一性。 
    有两种生成方式： 一个是默认的1L，比如：private static final longserialVersionUID = 1L; 
    一个是根据类名、接口名、成员方法及属性等来生成一个64位的哈希字段，
    比如： private static final long serialVersionUID = xxxxL; 

序列化ID如何产生：
    当我们一个实体类中没有显示的定义一个名为“serialVersionUID”、类型为long的变量时，
    Java序列化机制会根据编译时的class自动生成一个serialVersionUID作为序列化版本比较，
    这种情况下，只有同一次编译生成的class才会生成相同的serialVersionUID。
    譬如，当我们编写一个类时，随着时间的推移，我们因为需求改动，
    需要在本地类中添加其他的字段，这个时候再反序列化时便会出现serialVersionUID不一致，
    导致反序列化失败。那么如何解决呢？便是在本地类中添加一个“serialVersionUID”变量，
    值保持不变，便可以进行序列化和反序列化。
</code></pre><p>​        </p>
<pre><code>强烈建议在一个可序列化类中显示的定义serialVersionUID，为它赋予明确的值。显式地定义serialVersionUID有两种用途：
1） 在某些场合，希望类的不同版本对序列化兼容，因此需要确保类的不同版本具有相同的serialVersionUID；
2） 在某些场合，不希望类的不同版本对序列化兼容，因此需要确保类的不同版本具有不同的serialVersionUID

把上面的程序改成存在序列化id
public class Test01 {

        public static void main(String[] args) throws Exception{
            //序列化过程, 将一个对象变成字节序类,在网络上传输
            /*UserInfo u1=new UserInfo(1, &quot;张三&quot;, &quot;男&quot;);
            UserInfo u2=new UserInfo(2, &quot;李四&quot;, &quot;女&quot;);

            OutputStream out=new FileOutputStream(&quot;c://my.obj&quot;);
            ObjectOutputStream oopt=new ObjectOutputStream(out);
            oopt.writeObject(u1);
            oopt.writeObject(u2);

            oopt.close();*/

            //反序列化过程, 将一个字节序类变成对象
            InputStream in=new FileInputStream(&quot;c://my.obj&quot;);
            ObjectInputStream oips=new ObjectInputStream(in);
            UserInfo newU1=(UserInfo) oips.readObject();
            UserInfo newU2=(UserInfo) oips.readObject();
            System.out.println(newU1);
            System.out.println(newU2);
        }
    }
    class UserInfo implements Serializable{
        private static final long serialVersionUID = 1L; 
        private int id;
        private String userName;
        private String sex;
        private String phone;
        public UserInfo(int id, String userName, String sex,String phone) {
            this.id = id;
            this.userName = userName;
            this.sex = sex;
            this.phone=phone;
        }
        @Override
        public String toString() {
            return &quot;UserInfo [id=&quot; + id + &quot;, phone=&quot; + phone + &quot;, sex=&quot; + sex
                    + &quot;, userName=&quot; + userName + &quot;]&quot;;
        }
    }
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br></pre></td><td class="code"><pre><span class="line">==========================常见面试题=============================================</span><br><span class="line"><span class="number">1</span>.java中有几种类型的流？JDK为每种类型的流提供了一些抽象类以供继承，请说出他们分别是哪些类？</span><br><span class="line">	字节输入流：InputStream,字节输出流：OutputStream</span><br><span class="line">	字符输入流：Reader，字符输出流：Writer</span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>.什么是java序列化，如何实现java序列化？</span><br><span class="line">	Java对象的序列化指将一个java对象写入IO流中，与此对应的是，对象的反序列化则从IO流中恢复该java对象。</span><br><span class="line">	如果要让某个对象支持序列化机制，则必须让它的类是可序列化的，为了让某个类是可序列化的，该类必须实现Serializable接口或Externalizable接口</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.解释一下java.io.Serializable接口（面试常考）</span><br><span class="line">  类通过实现 java.io.Serializable 接口以启用其序列化功能。未实现此接口的类将无法使其任何状态序列化或反序列化。	</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 读写原始数据，一般采用什么流？（ AC）</span><br><span class="line">   A InputStream</span><br><span class="line">   B DataInputStream  <span class="comment">//读取基本数据类型  数据输出流</span></span><br><span class="line">   C OutputStream</span><br><span class="line">   D BufferedInputStream  </span><br><span class="line"></span><br><span class="line">   <span class="comment">//DataInputStream  DataOutputStream</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. 为了提高读写性能，可以采用什么流？CDF</span><br><span class="line">   A InputStream</span><br><span class="line">   B DataInputStream</span><br><span class="line">   C BufferedReader</span><br><span class="line">   D BufferedInputStream</span><br><span class="line">   E OutputStream</span><br><span class="line">   F BufferedOutputStream</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 对各种基本数据类型和String类型的读写，采用什么流？（AD ）</span><br><span class="line">   A DataInputStream</span><br><span class="line">   B BufferedReader</span><br><span class="line">   C PrintWriter</span><br><span class="line">   D DataOutputStream</span><br><span class="line">   E ObjectInputStream</span><br><span class="line">   F ObjectOutputStream</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. 能指定字符编码的I/O流类型是：（BH）</span><br><span class="line">   A Reader</span><br><span class="line">   B InputStreamReader</span><br><span class="line">   C BufferedReader</span><br><span class="line">   D Writer</span><br><span class="line">   E PrintWriter</span><br><span class="line">   F ObjectInputStream</span><br><span class="line">   G ObjectOutputStream</span><br><span class="line">   H OutputStreamWriter</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. File类型中定义了什么方法来判断一个文件是否存在？（d）</span><br><span class="line">   A createNewFile</span><br><span class="line">   B renameTo</span><br><span class="line">   C delete</span><br><span class="line">   D exists</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>. File类型中定义了什么方法来创建一级目录？（D ）</span><br><span class="line">   A createNewFile</span><br><span class="line">   B exists</span><br><span class="line">   C mkdirs</span><br><span class="line">   D mkdir</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>. 对文本文件操作用什么I/O流？（ABD ）</span><br><span class="line">   A FileReader</span><br><span class="line">   B FileInputStream   </span><br><span class="line">   C RandomAccessFile     <span class="comment">//也是在io包下,但是并不是继承四个抽象,而是继承Object</span></span><br><span class="line">   D FileWriter</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">.可用于获得文件或目录的路径名的是（　A）</span><br><span class="line">   A.File                      B.RandomAccessFile</span><br><span class="line">   C.FileInputStream  D.BufferedReader </span><br><span class="line"><span class="number">2</span>.下面语句的功能是(A  )。</span><br><span class="line">	RandomAccessFile  raf2 = <span class="keyword">new</span> RandomAccessFile(<span class="string">"1.txt"</span>,<span class="string">"rw"</span> ); </span><br><span class="line">A.打开当前目录下的文件<span class="number">1</span>.txt，既可以向文件写数据，也可以从文件读数据。                </span><br><span class="line">B.打开当前目录下的文件<span class="number">1</span>.txt，但只能向文件写入数据，不能从文件读取数据。</span><br><span class="line">C.打开当前目录下的文件<span class="number">1</span>.txt，但不能向文件写入数据，只能从文件读取数据。</span><br><span class="line">D.以上说法都不对。</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 关于BufferedReader类的readLine()方法，以下说法不正确的是（ B ）。</span><br><span class="line">   A.方法readLine()每次读取一行数据。                  </span><br><span class="line">   B.方法readLine()每次读取一个字节。</span><br><span class="line">   C.该方法可能抛出IOException异常，调用该方法时通常应将它放到<span class="keyword">try</span>块中，并通过<span class="keyword">catch</span>块处理异常。</span><br><span class="line">   D.如果读到流的末尾，该方法返回的结果为<span class="keyword">null</span>。</span><br><span class="line"></span><br><span class="line">４.用于关闭流的方法是（C ）</span><br><span class="line">A. read( )    B.flush( )    C. close( )    D.write( )</span><br><span class="line">５.下列哪一个<span class="keyword">import</span>命令可以使我们在程序中创建输入/输出流对象（ C）</span><br><span class="line">A.<span class="keyword">import</span> java.sql.*;			</span><br><span class="line">B.<span class="keyword">import</span> java.util.*;</span><br><span class="line">C.<span class="keyword">import</span> java.io.*;			</span><br><span class="line">D.<span class="keyword">import</span> java.net.*;</span><br><span class="line"></span><br><span class="line">６.字符流与字节流的区别在于（　D　）</span><br><span class="line">A．前者带有缓冲，后者没有</span><br><span class="line">B．前者是块读写，后者是字节读写</span><br><span class="line">C. 二者没有区别，可以互换使用</span><br><span class="line">D. 每次读写的字节数不同</span><br><span class="line">７.随机文件访问是由（　C　）类实现的。</span><br><span class="line">A.File      </span><br><span class="line">B.BufferedInputStream</span><br><span class="line">C.RandomAccessFile  </span><br><span class="line">D.FileWriter</span><br><span class="line"></span><br><span class="line">８.下列流中哪个不属于字节流　　（　 B 　）</span><br><span class="line">A．FileInputStream</span><br><span class="line">B．BufferedInputStream</span><br><span class="line">C. FilterInputStream	</span><br><span class="line">D. InputStreamReader</span><br><span class="line">９.在Java的类库中，包含实现输入/输出操作的包是( B     )</span><br><span class="line">A.java.util	　　　　　　B.java.io</span><br><span class="line">C.java.applet	</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. FilterOutputStream是BufferedOutputStream、DataOutputStream及PrintStream的父类，以下哪个类可能是FilterOutputStream构造函数的参数类型？</span><br><span class="line">   (A )</span><br><span class="line">   .OutputStream	      B.File	</span><br><span class="line">   .InputStream	      D.BufferedOutputStream </span><br><span class="line">   <span class="number">11</span>.下列哪一个<span class="keyword">import</span>命令可以使我们在程序中创建输入/输出流对象（ C）</span><br><span class="line">   .<span class="keyword">import</span> java.sql.*;	B.<span class="keyword">import</span> java.util.*;</span><br><span class="line">   .<span class="keyword">import</span> java.io.*;	D.<span class="keyword">import</span> java.net.*;</span><br><span class="line"></span><br><span class="line"><span class="number">12</span>.如果需要从文件中读取数据，则可以在程序中创建哪一个类的对象（ A）</span><br><span class="line">A.FileInputStream                 B.FileOutputStream </span><br><span class="line">C.DataOutputStream 		D.FileWriter</span><br><span class="line"><span class="number">13</span>.下面的程序段创建了BufferedReader类的对象in，以便读取本机c盘my文件夹下的文件<span class="number">1</span>.txt。File构造函数中正确的路径和文件名的表示是(C  )。</span><br><span class="line">File f = <span class="keyword">new</span> File(填代码处);</span><br><span class="line">file =<span class="keyword">new</span> FileReader(f);</span><br><span class="line">in=<span class="keyword">new</span> BufferedReader(file);</span><br><span class="line">A. <span class="string">"./1.txt"</span>                   B. <span class="string">"../my/1.txt"</span>    </span><br><span class="line">C.<span class="string">"c:\\my\\1.txt"</span>          D. <span class="string">"c:\ my\1.txt"</span> </span><br><span class="line"></span><br><span class="line"><span class="number">14</span>.下面的程序创建了一个文件输出流对象，用来向文件test.txt中输出数据，假设程序当前目录下不存在文件test.txt，编译下面的程序Test.java后</span><br><span class="line">将该程序运行<span class="number">3</span>次，则文件test.txt 的内容是(D  )。</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			String s=<span class="string">"ABCDE"</span>;</span><br><span class="line">			<span class="keyword">byte</span> b[]=s.getBytes();</span><br><span class="line">			FileOutputStream file=<span class="keyword">new</span> FileOutputStream(<span class="string">"test.txt"</span>,<span class="keyword">true</span>);</span><br><span class="line">			file.write(b);            </span><br><span class="line">			file.close();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">			System.out.println(e.toString());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">A.ABCABC   B.ABCDE     C.Test    D.ABCDE ABCDE ABCDE </span><br><span class="line"></span><br><span class="line"><span class="number">15</span>.下面的程序段的功能是( D )。</span><br><span class="line">File file1=<span class="keyword">new</span> File(<span class="string">"d:\\xxx\\yyy\\zzz"</span>);</span><br><span class="line">file1.mkdirs();</span><br><span class="line">A.在当前目录下生成子目录：\xxx\yyy\zzz     </span><br><span class="line">B.生成目录： e:\xxx\yyy\zzz</span><br><span class="line">C.在当前目录下生成文件xxx.yyy.zzz        </span><br><span class="line">D.以上说法都不对 </span><br><span class="line"></span><br><span class="line"><span class="number">16</span>.编译和运行下面的应用程序，并在命令行界面输入<span class="number">12345</span>，则回车后屏幕输出的结果是(  C ).</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        BufferedReader buf=<span class="keyword">new</span> BufferedReader(</span><br><span class="line">                    <span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        String  str=buf.readLine();</span><br><span class="line">        <span class="keyword">int</span>     x=Integer.parseInt(str);</span><br><span class="line">        System.out.println(x/<span class="number">100</span>);         </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line">A. <span class="number">45</span>       B.5       C.123       D. <span class="number">12345</span></span><br><span class="line"></span><br><span class="line"><span class="number">17</span>.下列不是java的输入输出流的是（A  ）</span><br><span class="line">   A. 文本流</span><br><span class="line">   B. 字节流</span><br><span class="line">   C. 字符流</span><br><span class="line">   D. 文件流</span><br><span class="line"></span><br><span class="line"><span class="number">18</span>.获取一个不包含路径的文件名的方法为（A  	）</span><br><span class="line">   A. <span class="function">String <span class="title">getName</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">   B. String <span class="title">getPath</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">   C. String <span class="title">getAbslutePath</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">   D. String <span class="title">getParent</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">19．下列属于文件输入输出类的是（ A）</span></span><br><span class="line"><span class="function">   A. FileInputStream和FileOutputStream</span></span><br><span class="line"><span class="function">   B. BufferInputStream和BufferOutputStream</span></span><br><span class="line"><span class="function">   C. PipedInputStream和PipedOutputStream</span></span><br><span class="line"><span class="function">   D. 以上都是</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">20.下列不属于FileInputStream输入流的read（）成员函数的是（D ）</span></span><br><span class="line"><span class="function">   A. <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>;</span><br><span class="line">   B. <span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span> b[])</span></span>;</span><br><span class="line">   C. <span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span> b[],<span class="keyword">int</span> offset,<span class="keyword">int</span> len)</span></span>;</span><br><span class="line">   D. <span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> line)</span></span>;</span><br><span class="line"><span class="number">21</span>．当处理的数据量很多，或向文件写很多次小数据，一般使用（C ）流</span><br><span class="line">   A. DataOutput</span><br><span class="line">   B. FileOutput</span><br><span class="line">   C. BufferedOutput</span><br><span class="line">   D.PipedOutput</span><br><span class="line"></span><br><span class="line"><span class="number">22</span>.当要将一文本文件当作一个数据库访问，读完一个纪录后，跳到另一个纪录，它们在文件的不同地方时，一般使用（B ）类访问。</span><br><span class="line">   A. FileOutputStream</span><br><span class="line">   B. RandomAccessFile</span><br><span class="line">   C. PipedOutputStream</span><br><span class="line">   D. BufferedOutputStream</span><br><span class="line"><span class="number">23</span>.在JAVA中，要创建一个新目录，要使用（A ）类的实例。</span><br><span class="line">  A.File</span><br><span class="line">  B.FileOutputStrean</span><br><span class="line">  C.PrintWriter</span><br><span class="line">  D.Dir</span><br><span class="line"></span><br><span class="line"><span class="number">24</span>.在JAVA中，要判断D盘下是否存在文件abc.txt,应该使用以下（ C  ）判断语句。</span><br><span class="line">A. <span class="keyword">if</span>(<span class="keyword">new</span> File(“d:abc.txt”) .exists() = =<span class="number">1</span>) </span><br><span class="line">B.<span class="keyword">if</span>(File.exists(“d:abc.txt”) = =<span class="number">1</span>) </span><br><span class="line">C. <span class="keyword">if</span>(<span class="keyword">new</span> File(“d:/abc.txt”) .exists( ) ) </span><br><span class="line">D. <span class="keyword">if</span>(File.exists(“d:/abc.txt)) </span><br><span class="line"></span><br><span class="line"><span class="number">25</span>.给定一个java程序的main方法的代码片段如下：假如d 目录下不存在abc.txt文件，现运行该程序，下面的结果正确的是（   D ）。</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">     PrintWriter   out=<span class="keyword">new</span>  PrintWriter(<span class="keyword">new</span> FileOutputStream(“d:/abc.txt”)) ;</span><br><span class="line">     String  name=”chen”;</span><br><span class="line">     out.print(name) ;</span><br><span class="line">     out.close( ) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(Execption  e) &#123;</span><br><span class="line">      System.out.println(“文件没有发现！“) ；</span><br><span class="line">&#125;</span><br><span class="line">A.将在控制台上打印：“文件没有发现！”</span><br><span class="line">B.正常运行，但没有生成文件abc.txt</span><br><span class="line">C.运行后生成abc.txt ,但该文件中无内容</span><br><span class="line">D.运行后生成abc.txt,该文件内容为：chen</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 在java中，以下代码（A）正确地创建了一个InputStreamReader类型的对象。</span><br><span class="line">   A.new InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"1.dat"</span>)) ;</span><br><span class="line">   B.new InputStreamReader(<span class="keyword">new</span> FileReader(<span class="string">"1.dat"</span>)) ;</span><br><span class="line">   C.new InputStreamReader(<span class="keyword">new</span> BufferedReader(<span class="string">"1.dat"</span>)) ;</span><br><span class="line">   D.new InputStreamReader(<span class="string">"1.dat"</span>) ;</span><br><span class="line">   <span class="number">27</span>.下列选项中属于过滤流FilterInputStream的子类的是（A ）。</span><br><span class="line">   A.DataInputStream</span><br><span class="line">   B.DataOutputStream</span><br><span class="line">   C.PrintStream</span><br><span class="line">   D.BufferedOutputStream</span><br><span class="line"></span><br><span class="line"><span class="number">28</span>.在JAVA中，( D ) 类提供定位本地文件系统，对文件或目录及其属性进行基本操作   </span><br><span class="line"> A. Filelnputstream     B. FileReader     C. Filewriter     D.File </span><br><span class="line">二、填空题</span><br><span class="line"><span class="number">1</span>.FileInputStream是字节流；BufferedWriter是字符流；ObjectOutputStream是 __对象输出______流     。   </span><br><span class="line"><span class="number">2</span>.java的输入输出流包括___字节流____、字符流、文件流、对象流以及多线程之间通信的管道。</span><br><span class="line"><span class="number">3</span>.java中的非字符输出流都是____OutputStream____抽象类的子类。</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. java中的字符输入流都是抽象类___ Reader_____的子类，字符输出流都是抽象类___ Writer_____的子类。</span><br><span class="line"><span class="number">2</span>. DataOutputStream数据流向文件里写数据的方法为___Write()_______.</span><br><span class="line"><span class="number">3</span>. 文件类___ File ____是java.io中的一个重要的非流类,里面封装了对文件系统进行操作的功能.</span><br><span class="line"><span class="number">4</span>. 文件操作中经常需要的是随机访问, java中的_  RandomAccessFile______类提供了随机访问文件的功能.</span><br><span class="line">   <span class="number">8</span>.判断File对象所表示的文件是否可写的方法是（ canReader  ），判断File对象所表示的文件是否可读的方法是（canWriter  ）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">选择题：</span><br><span class="line"><span class="number">1</span>。下面程序段执行完毕后，cont的值是（ C ）</span><br><span class="line">String strings[ ]=&#123;<span class="string">"string"</span>,<span class="string">"starting"</span>,<span class="string">"strong"</span>,<span class="string">"street"</span>,<span class="string">"soft"</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> cont=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strings.length;i++)</span><br><span class="line">   <span class="keyword">if</span>(strings[i].endsWith(<span class="string">"ng"</span>))</span><br><span class="line">       cont++;</span><br><span class="line">A. <span class="number">1</span>      B. <span class="number">2</span>     C.3      D.4</span><br><span class="line"><span class="number">2</span>.定义字符串：String str=“abcdefg”；则str.indexOf（‘d’）的结果是（  C）</span><br><span class="line">A）<span class="string">'d'</span>          B) <span class="keyword">true</span>        C)  <span class="number">3</span>          D) <span class="number">4</span></span><br><span class="line"><span class="number">3</span>。定义变量b：<span class="keyword">boolean</span> b=<span class="keyword">true</span>；则String.valueOf（b）的类型是（  B ）</span><br><span class="line">A）<span class="keyword">boolean</span>          B) String        C)  <span class="keyword">false</span>          D)  <span class="keyword">int</span></span><br><span class="line"><span class="number">4</span>。下面程序段输出的结果是（A  ）</span><br><span class="line">  StringBuffer buf1;</span><br><span class="line">  String str=”北京<span class="number">2008</span>”;</span><br><span class="line">buf1=<span class="keyword">new</span> StringBuffer(str);</span><br><span class="line">System.out.println(buf1.charAt(<span class="number">2</span>));</span><br><span class="line">A. <span class="number">2</span>      B. 京     C0     D.<span class="keyword">null</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 下面程序段输出的结果是（D  ）</span><br><span class="line"></span><br><span class="line">A) ABCDEF     B)  ABFDE    C) ABCDE    D)  ABCD</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二 填空题。</span><br><span class="line"><span class="number">1</span>定义数组：<span class="keyword">char</span> charArray[]=&#123;‘a’,’b’,’c’,’d’,’e’,’f’&#125;;则String.valueOf(charArray,<span class="number">2</span>,<span class="number">3</span>)的 结果是___cde________           。</span><br><span class="line"><span class="number">2</span>．下面语句序列输出结果是________pro______           。</span><br><span class="line"> String s=<span class="keyword">new</span> String(“java program!”);</span><br><span class="line">System.out.println(s.substring(<span class="number">5</span>,<span class="number">8</span>));</span><br><span class="line"><span class="number">3</span>.下面语句输出结果是____________1234abcdef5___                     。</span><br><span class="line"><span class="keyword">char</span> charArray[]=&#123;‘a’,’b’,’c’,’d’,’e’,’f’&#125;;</span><br><span class="line">StringBuffer buf1;</span><br><span class="line">String str=”<span class="number">12345</span>”;</span><br><span class="line">buf1=<span class="keyword">new</span> StringBuffer(str);</span><br><span class="line">buf1.insert(<span class="number">4</span>,charArray);</span><br><span class="line">System.out.println(buf1.toString());</span><br><span class="line"><span class="number">4</span>.如有以下赋值语句：x=<span class="keyword">new</span> StringBuffer().append(“a”).append(<span class="number">4</span>). append(“c”).toString;  x的类型是____String_______  ；它的值是_____a4c_____。</span><br><span class="line"><span class="number">5</span>．下面程序的功能是统计以“st”开头的字符串有多少个，完成下面程序填空。</span><br><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Class1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  String strings[]=&#123;“string”,”starting”,”strong”,”street”,”soft”&#125;;</span><br><span class="line">  <span class="keyword">int</span> cont=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt; strings.length ;i++)&#123;</span><br><span class="line">		</span><br><span class="line">  &#125;</span><br><span class="line">   System.out.println(cont);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十六天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十六天/" class="post-title-link" itemprop="url">java的IO流</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:25:08" itemprop="dateCreated datePublished" datetime="2019-08-02T19:25:08+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:45:43" itemprop="dateModified" datetime="2019-08-04T12:45:43+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-IO流的概述"><a href="#1-IO流的概述" class="headerlink" title="1 IO流的概述"></a>1 IO流的概述</h1><p>​        </p>
<pre><code>---什么是IO   (Input  Output)  输入输出
---什么是流:流是一组有顺序,有起点,有终点的字节集合,是对数据传输的抽象描述,它的特征是进行数据传输,比如文件流,网络流
---与文件的区别:文件是数据的静态存储方式,而流是数据在传输过程中的一种形态

其实io流就是以流的形式进行输入和输出

java对数据的操作都是以流的方式进行的
java对流操作的对象都在IO包下

流按照数据类型分为两种
          ---输入流
--字节流
          ---输出流

          ---输入流 
--字符流
          ---输出流

两者的区别就是读写的时候一个是按字节读写，一个是按字符。

在java中io流,共分为四个抽象类

          ---输入流  InputStream
--字节流
          ---输出流  OutputStream

          ---输入流  Reader
--字符流
          ---输出流  Writer

其他所有的IO操作的类都是由它们派生出去的
凡事属于字节流的, 都是以InputStream或者OutputStream为结尾的,比如 FileInputStream,FileOutputStream
凡事属于字符流的, 都是以Reader或者Writer为结尾的,比如:FileReader FileWriter
</code></pre><h1 id="2-字符流-输出流"><a href="#2-字符流-输出流" class="headerlink" title="2 字符流 输出流"></a>2 字符流 输出流</h1><p>​        </p>
<pre><code>字符流:是以字符为单位进行处理的io流,本质其实都是基于字节流进行读取的,然后去查询码表执行字符

 字符流的结构(只以输出流为例)
 Writer  
        --BufferedWriter  //缓冲流
        --CharArrayWriter
        --FileWriter
        --OutputStreamWriter  //转换流
        --FilterWriter  //过滤流
        --PipedWriter  //管道流
        --StringWriter

    public class Test02{
        public static void main(String[] args) throws Exception {
            writeFile();
            writeFileTrue();
        }
        public static void writeFile() throws Exception{
            Writer wr=new FileWriter(&quot;c:\\1.txt&quot;); //创建一个输出流对象
            wr.write(&quot;这是一行文本&quot;);  
            wr.write(&quot;\r\n&quot;);
            wr.write(&quot;这个第二行文本&quot;); //注意,每一次都会清空文件中的内容
            //wr.flush();  //刷新缓冲区,写入磁盘,缓冲区的目的,是为了加快操作速度
            wr.close();  //使用完这种系统资源,一定要关闭,隐含刷新缓冲区

        }
        public static void writeFileTrue() throws Exception{
            Writer wr=new FileWriter(&quot;c:\\1.txt&quot;, true); //追加方式
            wr.write(&quot;\r\n&quot;);
            wr.write(&quot;这是追加的方式&quot;);
            wr.flush();
            wr.close();
        }
    }

    //标准的io处理异常
    public static void main(String[] args) {
        List&lt;String&gt; nameList=new ArrayList&lt;String&gt;();
        nameList.add(&quot;张三&quot;);
        nameList.add(&quot;李四&quot;);
        nameList.add(&quot;王五&quot;);
        nameList.add(&quot;麻子&quot;);
        Writer wr=null;
        try {
            wr=new FileWriter(&quot;1.txt&quot;);
            for(String name:nameList){
                wr.write(name);
                wr.write(&quot;\r\n&quot;);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }finally{
            if(wr!=null){
                try {
                    wr.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }
</code></pre><h1 id="3-字符流-输入流"><a href="#3-字符流-输入流" class="headerlink" title="3 字符流 输入流"></a>3 字符流 输入流</h1><p>​            </p>
<pre><code>Reader   --FileReader()

三个方法
int read()  读取单字符  //返回值int代表这个字符的编码值,如果读到末尾,返回-1
int read(char[] buff)  //将字符读入到数组中,如果读到末尾,返回-1,返回值代表读了多少个字符
int read(char[] cbuf, int off, int len)  //将字符读入数组的某一部分。可以控制取文本中的多少个字符
</code></pre><p>​<br>            //例子 一个字符一个字符的去读<br>            public static void main(String[] args) {<br>                Reader r=null;<br>                try {<br>                    r=new FileReader(“1.txt”);<br>                    int ch=0;<br>                    while((ch=r.read())!=-1){<br>                        System.out.println((char)ch);<br>                    }<br>                } catch (Exception e) {<br>                    e.printStackTrace();<br>                }finally{<br>                    if(r!=null){<br>                        try {<br>                            r.close();<br>                        } catch (IOException e) {<br>                            e.printStackTrace();<br>                        }<br>                    }<br>                }<br>            }</p>
<pre><code>    //例子
    public static void main(String[] args) {
        Reader r=null;
        try {
            r=new FileReader(&quot;1.txt&quot;);
            char[] cbuf=new char[1024];
            int len=0;  //len 代表每次读取多少个有效字符长度
            while((len=r.read(cbuf))!=-1){  //把读取的内容会放入数组中
                System.out.println(new String(cbuf, 0, len));
            }
        } catch (Exception e) {
            e.printStackTrace();
        }finally{
            if(r!=null){
                try {
                    r.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }

    //例子
    r=new FileReader(&quot;1.txt&quot;);
    char[] cbuf=new char[1024];
    int len=0;
    len=r.read(cbuf, 0, 1);  //最后的参数代表字符的长度
    System.out.println(len);
    System.out.println(new String(cbuf, 0, len)); //取的是一个字符

//例子 写一个复制,用int read(char[] buff)方式
    public static void main(String[] args) {
            Writer wr=null;
            Reader r=null;
            try {
                wr=new FileWriter(&quot;2.txt&quot;);
                r=new FileReader(&quot;1.txt&quot;);
                char[] cbuf=new char[1024];
                int len=0;
                while((len=r.read(cbuf))!=-1){
                    wr.write(cbuf, 0, len);
                }
            } catch (IOException e) {
                e.printStackTrace();
            }finally{
                if(wr!=null){
                    try {
                        wr.close();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
                if(r!=null){
                    try {
                        r.close();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            }

        }
</code></pre><p>​<br>            public static void main(String[] args) {<br>                Writer wr=null;<br>                Reader r=null;<br>                try {<br>                    wr=new FileWriter(“2.txt”);<br>                    r=new FileReader(“1.txt”);<br>                    int len=0;<br>                    while((len=r.read())!=-1){<br>                        wr.write(len);//或者wr.write((char)len);<br>                    }<br>                } catch (IOException e) {<br>                    e.printStackTrace();<br>                }finally{<br>                    if(wr!=null){<br>                        try {<br>                            wr.close();<br>                        } catch (IOException e) {<br>                            e.printStackTrace();<br>                        }<br>                    }<br>                    if(r!=null){<br>                        try {<br>                            r.close();<br>                        } catch (IOException e) {<br>                            e.printStackTrace();<br>                        }<br>                    }<br>                }</p>
<pre><code>}
</code></pre><p>​            </p>
<h1 id="4-缓冲流和装饰模式"><a href="#4-缓冲流和装饰模式" class="headerlink" title="4 缓冲流和装饰模式"></a>4 缓冲流和装饰模式</h1><pre><code>//传统模式
interface A{
    public void a1();
    public void a2();
    public void a3();
    .......100
}
class B 实现  A{
    public void a1{

    }
    public void a2{

    }
    public void a3
        System.out.println(&quot;........&quot;);
    }
}

//适配器模式
interface A{
    public void a1();
    public void a2();
    public void a3();
    .......100
}
class Temp 实现 A{
    public void a1{

    }
    public void a2{

    }
    public void a3(){

    }
}

class B extends Temp{
    public void a3(){
        System.out.println(&quot;........&quot;);
    }
}
//将来所有类都可以继承Temp,就可以选择性的完成某些方法
</code></pre><p>​<br>            //装饰模式  包装模式<br>            装饰设计模式：动态将职责附加到对象上，<br>            若要扩展功能，装饰者提供了比继承更具弹性的代替方案<br>            当要对已有的对象进行功能增强时，可以定义类，将已有对象传入，<br>            基于已有对象的功能，并提供加强功能。那么自定义的该类就称为装饰类。<br>            装饰类通常会通过构造方法接收被装饰的对象，并基于被装饰的对象的功能，提供更强的功能<br>            public class Test01 {</p>
<pre><code>            public static void main(String[] args) {
                Japan j=new Japan();
                增强Japan qj=new 增强Japan(j);
                qj.speak();
            }

        }
        class Japan{
            void speak(){
                System.out.println(&quot;我地,小日本的干活&quot;);
            }
        }
        class 增强Japan{
            private Japan j;
            public 增强Japan(Japan j){
                this.j=j;
            }
            void speak(){
                System.out.println(&quot;我是好人&quot;);
                j.speak();
                System.out.println(&quot;晃荡脑袋一下&quot;);
                System.out.println(&quot;摇摇手&quot;);
            }
        }

/*缓冲流是一个包装类，也就是用包装模式设计的，
缓冲流的出现提高了对数据读写的效率

其中分为字符缓冲流和字节缓冲流
BufferedReader, BufferedWriter
用来对流进行包装
在流的基础上对流的功能进行了增强*/ 

 BufferedReader : 从字符输入流中读取文本，缓冲各个字符，从而实现字符、数组和行的高效读取
        构造函数有两个:
        ---- BufferedReader(Reader in)         
        ---- BufferedReader(Reader in, int sz) 创建一个使用默认大小输入缓冲区的缓冲字符输入流。

 BufferedWriter    ：将文本写入字符输出流，缓冲各个字符，从而提供单个字符、数组和字符串的高效写入。
        构造函数有两个:
        ---- BufferedWriter(Writer out)  创建一个使用默认大小输出缓冲区的缓冲字符输出流。 
        ---- BufferedWriter(Writer out, int sz) 创建一个使用给定大小输出缓冲区的新缓冲字符输出流。

//BufferedWriter
FileWriter w=new FileWriter(&quot;2.txt&quot;);
BufferedWriter bw=new BufferedWriter(w);
bw.write(&quot;这是一行内容&quot;);
bw.newLine();
bw.write(&quot;这是一行内容&quot;);
bw.flush();  //不要忘记刷新
bw.close();  //关闭包装类,被包装的也相当于关闭了

//BufferedReader
    public static void main(String[] args) throws Exception {
        List&lt;String&gt; nameList=test();
        for(String name:nameList){
            System.out.println(name);
        }
    }
    public static List&lt;String&gt; test() throws Exception{
        List&lt;String&gt; nameList=new ArrayList&lt;String&gt;();
        FileReader r=new FileReader(&quot;1.txt&quot;);
        BufferedReader br=new BufferedReader(r);
        String str=&quot;&quot;;
        while((str=br.readLine())!=null){
            nameList.add(str);
        }
        br.close();
        return nameList;
    }
</code></pre><p>​            </p>
<h1 id="5-字节流概述"><a href="#5-字节流概述" class="headerlink" title="5 字节流概述"></a>5 字节流概述</h1><p>​            </p>
<pre><code>   字节流：InputStream和OutputStream是java中可以按照最小字节单位读取的流，
           即每次读写一个字节。

   字节流与字符流之间的区别：
       1.读写单位不同：字节流是以字节（8位2进制）为单位，字符流是以字符为单位，
                       根据码表映射字符，一次可能读多个字节。
       2.处理对象不同：字节流能处理所有类型的数据（如图片、avi等），而字符流只能处理字符类型的数据。
       3.一次读入或读出是8位二进制。
       4.字符流：一次读入或读出是16位或者更多二进制。

       结论：只要是纯文本数据优先使用字符流，除此之外都使用字节流。

 ----所有字节输入流类都是抽象类InputStream的子类
       int read() 从源中读取一个字节的数据，返回字节值
       int read(byte b[])从源中试图读取b.length个字节到b中，返回实际读取的字节数。
       int read(byte[] b, int off, int len)  从此输入流中将最多 len 个字节的数据读入一个 byte 数组中。
       void close()关闭输入流

----所有字节输出流类都是抽象类OutputStream的子类
       void write(int n) 向输出流写入单个字节。
       void write(byte b[])向输出流写入一个字节数组
       void write(byte[] b,  int off,  int len)
       void flush()把缓冲区中内容输出并清空缓冲区（刷新）
       void close()关闭输出流

   //例子
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;c://xiaoji.jpg&quot;);
       OutputStream out=new FileOutputStream(&quot;c://newxiaoji.gif&quot;);
       int b=0;
       while((b=in.read())!=-1){
           out.write(b);
       }
       out.close();
       in.close();
   }
   //也可以操作字符文件
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;1.txt&quot;);
       OutputStream out=new FileOutputStream(&quot;2.txt&quot;);
       out.write(&quot;我是捣乱的&quot;.getBytes(&quot;utf-8&quot;)); //按照什么方式进行转码
       int b=0;
       while((b=in.read())!=-1){
           out.write(b);
       }
       out.close();
       in.close();
   }

   //使用 read(byte b[])
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;c://huluobo.JPG&quot;);
       OutputStream out=new FileOutputStream(&quot;c://hlb.gif&quot;);
       int b=0;
       byte[] bbuf=new byte[1024];
       while((b=in.read(bbuf))!=-1){  //一勺一勺去读,速度快
           out.write(bbuf, 0, b);
       }
       out.close();
       in.close();
   }

   //使用avaliable()进行
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;c://huluobo.JPG&quot;);
       //System.out.println(in.available());  //会得到文件的字节数,适合用与小文件,大文件会很慢
       OutputStream out=new FileOutputStream(&quot;c://hlb.gif&quot;);
       byte[] bbuf=new byte[in.available()];
       out.write(bbuf);
       out.close();
       in.close();
   }

   //图片的复制 ,使用标准的异常处理
   public static void main(String[] args){
       InputStream in=null;
       OutputStream out=null;
       try {
           in=new FileInputStream(&quot;c://xiaoji.jpg&quot;);
           out=new FileOutputStream(&quot;c://xiaoji11.jpg&quot;);
           byte[] buf=new byte[1024];
           int len=0;
           while((len=in.read(buf))!=-1){
               out.write(buf, 0, len);
           }
       } catch (Exception e) {
           e.printStackTrace();
       }finally{
           if(in!=null){
               try {
                   in.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
           if(out!=null){
               try {
                   out.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
       }
   }

   前面,字符流有包装流
   BufferedReader  BufferedWriter
   字节流,也有包装流
   BufferedInputStream BufferedOutputStream

   public static void main(String[] args){
       long start=System.currentTimeMillis();
       InputStream in=null;
       OutputStream out=null;
       BufferedInputStream bis=null;
       BufferedOutputStream bos=null;
       try {
           in=new FileInputStream(&quot;c://当幸福来敲门.MP4&quot;);
           out=new FileOutputStream(&quot;c://dxflqm.wmv&quot;);
           bis=new BufferedInputStream(in);
           bos=new BufferedOutputStream(out);
           byte[] buf=new byte[1024];
           int len=0;
           while((len=bis.read(buf))!=-1){
               bos.write(buf, 0, len);
           }
       } catch (Exception e) {
           e.printStackTrace();
       }finally{
           if(bos!=null){
               try {
                   bos.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
           if(bis!=null){
               try {
                   bis.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
           long end=System.currentTimeMillis();
           System.out.println(end-start);  //63984
       }
   }
</code></pre><h1 id="6-转换流"><a href="#6-转换流" class="headerlink" title="6 转换流"></a>6 转换流</h1><p>​        </p>
<pre><code>InputStreamReader
        public class InputStreamReader extends Reader

         它有四个构造函数:
            InputStreamReader(InputStream in) 
            InputStreamReader(InputStream in, Charset cs) //读取字节并按照指定类型变成字符
            InputStreamReader(InputStream in, CharsetDecoder dec)  //CharsetDecoder 解码器（实质还是指定字符集
            InputStreamReader(InputStream in, String charsetName) 

OutputStreamWriter
        public class OutputStreamWriter extends Writer

          它有四个构造函数:
            OutputStreamWriter(OutputStream out) //创建使用默认字符编码的 OutputStreamWriter。 
            OutputStreamWriter(OutputStream out, Charset cs) // 创建使用给定字符集的 OutputStreamWriter。 
            OutputStreamWriter(OutputStream out, CharsetDecoder dec) // 创建使用给定字符集编码器的 OutputStreamWriter。 
            OutputStreamWriter(OutputStream out, String charsetName) // 创建使用指定字符集名称的 OutputStreamWriter。  

        //例子
        public static void main(String[] args) throws Exception{
            InputStream in=new FileInputStream(&quot;1.txt&quot;);  //使用这种方式,不要试图操作二进制文件,如图片等,会损坏文件
            InputStreamReader isr=new InputStreamReader(in);
            BufferedReader br=new BufferedReader(isr);
            String str=&quot;&quot;;
            while((str=br.readLine())!=null){
                System.out.println(str);
            }
            br.close();
        }

        //例子 从键盘录入一些数据,把数据变成大写的输出出来
        public static void main(String[] args) throws Exception{
            BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
            String str=&quot;&quot;;
            while((str=br.readLine())!=null){
                System.out.println(str.toUpperCase());
            }
            br.close();
        }

        public class Test01 {
                public static void main(String[] args) throws Exception{
                    Scan s=new Scan(System.in);
                    System.out.println(s.readLine());
                    s.close();
                }

            }
            class Scan{
                private InputStream in;
                public BufferedReader br;
                public Scan(InputStream in){
                    this.in=in;
                }
                public String readLine() throws Exception{
                    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
                    return br.readLine();
                }
                public void close(){
                    if(br!=null){
                        try {
                            br.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                }
            }
</code></pre><p>​        </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">44</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
