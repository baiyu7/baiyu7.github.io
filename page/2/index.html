<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="生活不止眼前的苟且，还有诗和远方。">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="生活不止眼前的苟且，还有诗和远方。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="生活不止眼前的苟且，还有诗和远方。">





  
  
  <link rel="canonical" href="http://yoursite.com/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>生活不止眼前的苟且，还有诗和远方。</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">生活不止眼前的苟且，还有诗和远方。</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十九天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十九天/" class="post-title-link" itemprop="url">java的UDP编程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:32:51" itemprop="dateCreated datePublished" datetime="2019-08-02T19:32:51+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:39" itemprop="dateModified" datetime="2019-08-04T12:46:39+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-字符编码"><a href="#1-字符编码" class="headerlink" title="1.字符编码"></a>1.字符编码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">===ASCII</span><br><span class="line">		单字节   <span class="number">00000000</span>    <span class="number">01111111</span></span><br><span class="line">		</span><br><span class="line">   美国(国家)信息交换标准(代)码</span><br><span class="line">  计算机中只有数字,一切都是用数字表示,屏幕上显示的一个一个的字符也不例外</span><br><span class="line">  一个字节可表示的数字为<span class="number">0</span>-<span class="number">255</span>,足以显示键盘上的所有的字符 例如. a 为<span class="number">97</span> b为 <span class="number">98</span></span><br><span class="line">  这种数字与字符对应的编码规则,称为 ASCII  码,</span><br><span class="line">  使用<span class="number">7</span> 位二进制数（此时还剩下一个最高位）用来表示所有的大写和小写字母，数字<span class="number">0</span> 到<span class="number">9</span>、标点符号， </span><br><span class="line">  以及在美式英语中使用的特殊控制字符。</span><br><span class="line">  ASC11 码的最高bit位都是<span class="number">0</span>,标志位</span><br><span class="line">  也就是说,ASC11码的值都在<span class="number">0</span>-<span class="number">127</span>之间</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">===GB2312和GBK</span><br><span class="line">两个字节   <span class="number">00000000</span> <span class="number">00000000</span></span><br><span class="line">中国大陆将每个中文字符都用<span class="number">2</span>个字节表示,中文字符每个字节最高bit位都是<span class="number">1</span></span><br><span class="line">这种编码格式称为 (gb2312) 国标码 虽然GB2312包含了绝大部分的常用简体汉字，但是由于中文的复杂性</span><br><span class="line">   在此gb2312基础上,又增了一些,比如繁体字 ,称为GBK</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">===ANSI</span><br><span class="line">为了扩充ASCII编码，以用于显示本国的语言，不同的国家和地区制定了不同的标准，由此产生了 GB2312, BIG5, JIS </span><br><span class="line">   等各自的编码标准。这些使用 <span class="number">2</span> 个字节来代表一个字符的各种汉字延伸编码方式，称为 ANSI 编码，</span><br><span class="line">   又称为<span class="string">"MBCS（Muilti-Bytes Charecter Set，多字节字符集）"</span>。在简体中文系统下，ANSI 编码代表 GB2312 编码，</span><br><span class="line">   在日文操作系统下，ANSI 编码代表 JIS 编码，所以在中文 windows下要转码成gb2312,gbk</span><br><span class="line">   只需要把文本保存为ANSI 编码即可。 </span><br><span class="line">   不同 ANSI 编码之间互不兼容</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">===本地字符集</span><br><span class="line">在中国大陆使用的计算机系统上, GBK和GB2312就被称为该系统的本地字符集</span><br><span class="line">   <span class="string">"中国 "</span> 的中字,在中国大陆的编码是<span class="number">16</span>进制的D6D0,在台湾是 A4A4 台湾的编码称为BIG5 大五码</span><br><span class="line">	 在一个国家的本地化系统中出现的一个字符,通过电子邮件传到另外一个国家的本地化系统中,</span><br><span class="line">	 看到的就不是那个原始字符了,而是另外一个国家的字符或乱码</span><br></pre></td></tr></table></figure>
<p>​<br>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">===Unicode编码</span><br><span class="line">	<span class="number">2</span>个字节</span><br><span class="line"></span><br><span class="line">ISO 组织将全世界的符号进行了统一,称之为Unicode编码</span><br><span class="line"> 中这个符号,在全世界都是<span class="number">16</span>进制的 <span class="number">4e2</span>d</span><br><span class="line">   如果所有的计算机都使用Unicode编码,则<span class="string">"中"</span>这个字,在全世界上的计算机上都能显示为<span class="string">"中"</span></span><br><span class="line">   Unicode 编码的字符占用   两个字节  大小</span><br><span class="line"></span><br><span class="line">   unicode 一统天下的局面还没有形成,在相当长时间内,本地化字符编码将与Unicode编码共存</span><br><span class="line">   java中系统编码的字符使用的都是Unicode编码用来管理内部变量等信息的 </span><br><span class="line">   java在通过Unicode保证跨平台的特性前提下,也支持本地平台字符集</span><br><span class="line"></span><br><span class="line">   <span class="number">35535</span></span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">===ISO-<span class="number">8859</span>-<span class="number">1</span>编码</span><br><span class="line">	(单字节)</span><br><span class="line">	是单字节编码，向下兼容ASCII，其编码范围是<span class="number">0x00</span>-<span class="number">0xFF</span>，<span class="number">0x00</span>-<span class="number">0x7F</span>之间完全和ASCII一致，<span class="number">0x80</span>-<span class="number">0x9F</span>之间是控制字符，</span><br><span class="line">	<span class="number">0xA0</span>-<span class="number">0xFF</span>之间是文字符号。</span><br><span class="line">	收录的字符除ASCII收录的字符外，还包括西欧语言、希腊语、泰语、阿拉伯语、希伯来语对应的文字符号。</span><br><span class="line">	欧元符号出现的比较晚，没有被收录在ISO-<span class="number">8859</span>-<span class="number">1</span>当中。</span><br><span class="line"></span><br><span class="line">	因为ISO-<span class="number">8859</span>-<span class="number">1</span>编码范围使用了单字节内的所有空间，</span><br><span class="line">	在支持ISO-<span class="number">8859</span>-<span class="number">1</span>的系统中传输和存储其他任何编码的字节流都不会被抛弃。（也就是无损）</span><br><span class="line">	换言之，把其他任何编码的字节流当作ISO-<span class="number">8859</span>-<span class="number">1</span>编码看待都没有问题。</span><br><span class="line">	这是个很重要的特性，MySQL数据库默认编码是Latin1就是利用了这个特性。</span><br><span class="line">	ASCII编码是一个<span class="number">7</span>位的容器，ISO-<span class="number">8859</span>-<span class="number">1</span>编码是一个<span class="number">8</span>位的容器。</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Latin1 就是 ISO-8859-1</span></span><br></pre></td></tr></table></figure></p>
<p>​<br>​<br>    ===UTF-8</p>
<pre><code> UTF-8（8-bit Unicode Transformation Format）是一种针对Unicode的可变长度字符编码，又称万国码。
由Ken Thompson于1992年创建。现在已经标准化为RFC 3629。
UTF-8用一至四个字节为每个字符编码

互联网的普及，强烈要求出现一种统一的编码方式。
UTF-8就是在互联网上使用最广的一种unicode的实现方式。
其他实现方式还包括UTF-16和UTF-32，不过在互联网上基本不用。

===UTF-8和unicode编码之间的关系
    互联网的普及，强烈要求出现一种统一的编码方式。
UTF-8就是在互联网上使用最广的一种Unicode的实现方式。
其他实现方式还包括UTF-16（字符用两个字节或四个字节表示）和UTF-32（字符用四个字节表示），
不过在互联网上基本不用。重复一遍，这里的关系是，UTF-8是Unicode的实现方式之一。

）UTF-8字节说明
    -- 0001-007f  (一个字节) 
        0xxxxxx 
    -- 0080 到  07ff之间的字符, （两个字节）
        110xxxxx  10xxxxxx (11个有效bit位) 
        实际上只有11个有效位,其余都是标志位

    -- 0800 到 ffff 之间的字符,（三个字节）
        1110xxxx  10xxxxxx 10xxxxxx  (16有效比特位)

    --0001 0000 到 0010 FFFF 之间的字符,（四个字节）
        11110xxx 10xxxxxx 10xxxxxx 10xxxxxx  （21有效比特位

    通过上图,可以看到.软件很容易根据UTF-8 编码中那些固定不变的bit值,
    来确定一个字符占用的是一个字节,还是两个字节,还是三个字节，还是四个字节

    附:utf-8+bom编码比utf-8编码最前方多出三个字节  0XEF 0XBB 0XBF

===UTF-8的优点
     很多的使用UTF-8编码唯一的好处是，国外的用户如果使用Windows XP英文版，
     浏览UTF-8编码的任何网页，无论是中文、还是日文、韩文、阿拉伯文，都可以正常显示，
     UTF-8是世界通用的语言编码。
     UTF8 是(UNICODE八位交换格式）的简称，UNICODE是国际标准。
     UNICODE编码的文件中可以同时对几乎所有地球上已知的文字字符进行书写和表示，
     在中国大陆简体中文版非常常用的GB2312/GB18030/GBK系列标准是我国的国家标准，
     但只能对中文和多数西方文字进行编码。
     为了网站的通用性起见，用UTF-8编码是更好的选择。

===联通,联想和联

      联通  C1AA  CDA8

      联  11000001 10101010
      通  11001101 10101000

      而电脑默认使用ANSI保存也就是gbk/gb2312

      所以电脑在翻译过来时,因为符合utf-8标准,所以认为是utf-8编的码,所以就会乱码
</code></pre><p>​<br>​<br>​<br>​<br>    ===用程序查看字符的编码</p>
<pre><code>查看中文字符的GB2312/GBK 编码
查看中文字符的UTF-8 码
查看中文字符的 Unicode 码

public static void main(String[] args) throws Exception {
    //查看Unicode
    String str=&quot;中国&quot;;
    for(int i=0;i&lt;str.length();i++){
        int unicode=str.charAt(i);
        System.out.println(unicode);
        System.out.println(Integer.toHexString(unicode));
    }

    //查看GB2312
    byte[] bArray=&quot;中国&quot;.getBytes(&quot;gb2312&quot;);
    for(byte b:bArray){
        System.out.println(b);
        System.out.println(Integer.toHexString(b));
    }

    //查看UTF-8
    byte[] utf_Array=&quot;中国&quot;.getBytes(&quot;utf-8&quot;);
    for(byte b:utf_Array){
        System.out.println(b);
        System.out.println(Integer.toHexString(b));
    }
}
</code></pre><h1 id="2-网络编程的基础知识"><a href="#2-网络编程的基础知识" class="headerlink" title="2 网络编程的基础知识"></a>2 网络编程的基础知识</h1><p>​        2.1  网络协议<br>                规定了计算机之间连接的机械,电器等特性,及计算机间的相互寻址规则,和<br>                以数据发送冲突的解决办法,分段传输与解决大数据包的传输方式等等<br>                —机械特性,比如网线和网卡<br>                —电器特性,比如电平3伏为1,一3为0<br>                //比如:网线头线的颜色,以及位置都是规定好的,这就是协议<br>                . HTTP1.1(Hypertext Transfer Protocol Vertion 1.1)超文本传输协议-版本1.1<br>                . ARP(Address Resolution Protocol)地址解析协议<br>                . SNMP(Simple Network Management Protocol)网络管理协议<br>                . CMIP(Common Management Information Protocol)通用管理信息协议<br>                . DHCP(Dynamic Host Configuration Protocol)动态主机配置协议<br>                . FTP(File Transfer Protocol)文件传输协议<br>                . IPv6(Internet Protocol Version 6)Internet协议-版本6<br>                . IPX/SPX(Internetwork Packet Exchange/Sequential PacketExchange)互连网包交换/顺序包交换<br>                . POP3(Post Office Protocol Version 3)邮局协议-版本3<br>                . PPP(Point to Point Protocol)点对点协议<br>                . SMTP(Simple Mail Transfer Protocol)简单邮件传送协议<br>                . TELNET Protocol虚拟终端协议<br>                . UDP(User Datagram Protocol)用户数据报协议<br>                . TCP（Transmission Control Protocol 传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。<br>                . https 超文本传输安全协议    是以安全为目标的http通道，简单来说就是http安全版<br>                                            HTTPS=HTTP+SSL/TLS  //SSL/TLS 安全套接层</p>
<p>​                                            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">		“计算机网络体系结构”将这些网络协议进行了系统的归纳；TCP/IP就是这些协议的集合</span><br><span class="line">		</span><br><span class="line"><span class="number">2.2</span>  tcp /ip</span><br><span class="line">		网络协议有多种 ，TCP /IP 只是一族</span><br><span class="line">		大多数网络程序,都是以这个协议为基础的</span><br><span class="line">		TCP/IP协议族中包括上百个互为关联的协议</span><br><span class="line">		几个常用协议如下：</span><br><span class="line">		<span class="number">1</span>、Telnet（Remote Login）：提供远程登录功能，一台计算机用户可以登录到远程的另一台计算机上，如同在远程主机上直接操作一样。</span><br><span class="line">		<span class="number">2</span>、FTP（File Transfer Protocol）：远程文件传输协议，允许用户将远程主机上的文件拷贝到自己的计算机上。</span><br><span class="line">		<span class="number">3</span>、SMTP（Simple Mail transfer Protocol）：简单邮件传输协议，用于传输电子邮件。</span><br><span class="line">		<span class="number">4</span>、NFS（Network File Server）：网络文件服务器，可使多台计算机透明地访问彼此的目录。</span><br><span class="line">		<span class="number">5</span>、UDP（User Datagram Protocol）：用户数据报协议，它和TCP一样位于传输层，和IP协议配合使用，在传输数据时省去包头，</span><br><span class="line">		   但它不能提供数据包的重传，所以适合传输较短的文件。</span><br><span class="line"><span class="number">2.3</span>  IP地址</span><br><span class="line">		</span><br><span class="line">		每个internet上的 主机和路由器都由一个ip地址表示,它包扩网络号和主机号,所有ip地址, 都是<span class="number">32</span>位的,按国际标准,</span><br><span class="line">		分为a b c d e 五类</span><br><span class="line">		</span><br><span class="line">		  a   <span class="number">0</span>+<span class="number">7</span>位网络号 +主机号  <span class="number">1.0</span>.0.0 到  <span class="number">127.255</span>.255.255 之间</span><br><span class="line">		  b   <span class="number">10</span>+<span class="number">14</span>位网络号 +主机号 <span class="number">127.0</span>.0.0 到<span class="number">191.255</span>.255.255之间</span><br><span class="line">		  c   <span class="number">110</span>+<span class="number">21</span>位网络号 +主机号 <span class="number">192.0</span>.0.0 到 <span class="number">223.255</span>.255.255</span><br><span class="line">		  d   <span class="number">1110</span>+多点播送地址    <span class="number">224.0</span>.0.0 到 <span class="number">239.255</span>.255.255</span><br><span class="line">		  e   <span class="number">11110</span>+留做将来使用 <span class="number">240.0</span>.0.0+ <span class="number">247.255</span>.255.255</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">====本地回路地址  <span class="number">127.0</span>.0.9</span><br><span class="line">	计算机中正确安装TCP/IP协议后,计算机中都会有一个称做本地回路的地址 发往 <span class="number">127.0</span>.0.1 的数据不经过网卡传递,</span><br><span class="line">	而是直接被本地计算机中Tcp/ip协议栈中的几个上层协议接收,是一个用于本地计算机上使用的特殊地址,使用Ping</span><br><span class="line">	就可以检查TCP/IP协议是否正确安装,	它没有和网卡绑定,	</span><br><span class="line">	网卡没有正确连接或是没有网线的情况下,仍可使用该地址</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.4</span>  Port(端口号)</span><br><span class="line">		</span><br><span class="line">		因为一个计算机上同时可运行多个网络程序,而IP地址只能保证把数据送到某个计算机上,</span><br><span class="line">		但不能保证把数据交给计算机上的每个程序,因此每个发送的网络数据包的头部,</span><br><span class="line">		都包含有一个称为端口号的整数 即Port, 是一个占用两个字节的整数,用于表示这个数据包该交由哪个应用程序</span><br><span class="line">		来处理,与数据包中的端口号相对应,必须为计算机上的网络程序也指定一个端口号,告诉网络程序应该接收哪个端口号的程序</span><br><span class="line">		一台计算机上不能有两个使用同一端口号的程序</span><br><span class="line">		</span><br><span class="line">		当计算机接收到一个网络程序发送的数据包后,驱动程序会根据数据包中指定的端口号,知道该交给哪个应用程序</span><br><span class="line">		</span><br><span class="line">		网络通迅,确切的说,不是两台计算机之间在收发数据,而是两个网络程序之间在收发数据</span><br><span class="line">		</span><br><span class="line">		<span class="number">0</span>-<span class="number">65535</span> 范围的</span><br><span class="line">		<span class="number">0</span>-<span class="number">1023</span> 被称为有名端口</span><br><span class="line">		</span><br><span class="line">		查看端口使用情况</span><br><span class="line">		netstat -noa</span><br></pre></td></tr></table></figure>
<h1 id="3-UDP-Tcp"><a href="#3-UDP-Tcp" class="headerlink" title="3 UDP/Tcp"></a>3 UDP/Tcp</h1><p>​        </p>
<pre><code>---TCP 传输控制协议,是面向连接的通信协议,提供两台计算机之间的可靠和无差错的数据传输
         数据源和目标之间或建立一个虚拟的连接,建立后,计算机之间就会把数据,当作双向字节流进行交换
---UDP 用户数据报协议,是无连接的通信协议,不保证数据的可靠传输,
           能够向若干个目标发送和接收数据,数据包会有丢失的时候

        每一帧包含以下内容
            协议类型  源IP    目标IP    源端口    目标端口   帧序号  帧数据
</code></pre><h1 id="4-OSI参考模型"><a href="#4-OSI参考模型" class="headerlink" title="4 OSI参考模型"></a>4 OSI参考模型</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">概念：ISO提出了作为通信协议设计指标的OSI参考模型，将协议分为七层，使得原来复杂的网络协议更加简单化</span><br><span class="line"></span><br><span class="line">定义：在七层模型中，每个分层都接受由它下一层所提供的特定服务，</span><br><span class="line">	  并且负责为自己的上一层提供特定的服务，上下层之间进行交互所遵循的约定叫做“接口”，</span><br><span class="line">	  同一层之间的交互所遵循的约定叫做“协议”</span><br><span class="line">  OSI参考模型之七层网络模型</span><br><span class="line">层数 名字	主要功能						对应的典型设备										传输单位</span><br><span class="line"><span class="number">7</span>	应用层	提供应用程序间通信				计算机：应用程序，如FTP、SMTP、HTTP等				程序级数据</span><br><span class="line"><span class="number">6</span>	表示层	处理数据格式、数据加密等		计算机：编码方式，如图像编解码、URL字段传输编码等	程序级数据</span><br><span class="line"><span class="number">5</span>	会话层	建立、维护和管理会话			计算机：建立会话，如session认证、断点续传			程序级数据</span><br><span class="line"><span class="number">4</span>	传输层	为端到端连接提供传输服务		计算机：进程和端口	tcp和udp就在这层次				数据段（segment）</span><br><span class="line"><span class="number">3</span>	网络层	将数据传输到目标地址，主要责任：寻址和路由选择 网络：路由器、防火墙、多层交换机 ip协议在这					数据包（packet）</span><br><span class="line"><span class="number">2</span>	数据链路层	物理地址寻址、数据的成帧、流量控制、数据的检错、重发等	网络：网卡、网桥、交换机							帧（frame）</span><br><span class="line"><span class="number">1</span>	物理层	比特流传输						网络：中继器、集线器、网线等					比特（bit）</span><br><span class="line"></span><br><span class="line"> 一般这样考</span><br><span class="line">  在OSI七层模型中，网络层的功能有（B）</span><br><span class="line">	A、确保数据的传输正确无误</span><br><span class="line">	B、确定数据包如何转发与路由</span><br><span class="line">	C、在信道上传送比特流</span><br><span class="line">	D、纠错与流控</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">上面是理想情况,下面是实际情况 <span class="number">4</span>层模型 还有<span class="number">5</span>层模式</span><br><span class="line"> 第四层，应用层　</span><br><span class="line"> 第三层，传输层</span><br><span class="line"> 第二层，网间层</span><br><span class="line"> 第一层，网络接口层</span><br></pre></td></tr></table></figure>
<h1 id="5-套接字简介"><a href="#5-套接字简介" class="headerlink" title="5 套接字简介"></a>5 套接字简介</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">应用层通过传输层进行数据通信时，TCP和UDP会遇到同时为多个应用程序提供并发服务的问题。</span><br><span class="line">多个TCP连接或多个应用程序可能需要 通过同一个TCP协议端口传输数据。</span><br><span class="line">为了区别不同的应用程序和连接，许多计算机操作系统为应用程序与TCP／IP协议交互提供了称为</span><br><span class="line">套接字（Socket）的接口，区分不同应用程序间的网络通信和连接。</span><br><span class="line">应用层就可以和传输 层通过套接字接口，区分来自不同应用程序或网络连接的通信，实现数据传输的并发服务。</span><br><span class="line"></span><br><span class="line">说白了讲:套接字就是网络通信和应用程序交互的接口,提供了一种通信机制</span><br><span class="line"></span><br><span class="line">java中关于网络通信的包都在 java.net 包下</span><br><span class="line"></span><br><span class="line">UDP通信    DatagramSocket</span><br><span class="line"></span><br><span class="line">TCP通信    Socket 客户端</span><br><span class="line">		ServletSocket 服务端</span><br></pre></td></tr></table></figure>
<h1 id="6-UDP-网络程序"><a href="#6-UDP-网络程序" class="headerlink" title="6 UDP 网络程序"></a>6 UDP 网络程序</h1><pre><code>6.1 InetAddress 类  代表互联网协议,就是ip地址

      public static void main(String[] args) throws Exception {
            InetAddress localHost=InetAddress.getLocalHost();
            System.out.println(localHost.getHostAddress());  //100.100.255.211
            System.out.println(localHost.getHostName());  //admin-1c32882f6

            InetAddress otherHost=InetAddress.getByName(&quot;100.100.255.89&quot;);
            System.out.println(otherHost.getHostAddress());  //100.100.255.89
            System.out.println(otherHost.getHostName());     //JYZKQ3DK9YCN4D3

            InetAddress[] baiduHost=InetAddress.getAllByName(&quot;www.baidu.com&quot;);
            for(InetAddress net:baiduHost){
                System.out.println(net.getHostAddress());  
                System.out.println(net.getHostName()); 
                //www.baidu.com/111.13.100.92
                //www.baidu.com/111.13.100.91
            }
        }
</code></pre><p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6.2</span> UDP发送和接收</span><br><span class="line">		</span><br><span class="line">	  <span class="comment">//例一</span></span><br><span class="line">	  发送端</span><br><span class="line">	  <span class="number">1</span>) 建立套接字 DatagramSocket</span><br><span class="line">	  <span class="number">2</span>) 准备数据</span><br><span class="line">	  <span class="number">3</span>) 调用套接字服务,进行发送</span><br><span class="line">	  <span class="number">4</span>) 关闭资源</span><br><span class="line">	  </span><br><span class="line">			<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">					<span class="comment">//1) 建立套接字 DatagramSocket</span></span><br><span class="line">					DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket();<span class="comment">//可以指定发送端的端口号,在这里,指定没有多大意义</span></span><br><span class="line">					</span><br><span class="line">					<span class="comment">//2) 准备发送数据</span></span><br><span class="line">					String str=<span class="string">"你好,这是我发送过去的数据!"</span>;</span><br><span class="line">					<span class="keyword">byte</span>[] buff=str.getBytes();</span><br><span class="line">					DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length, InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">9000</span>);</span><br><span class="line">					</span><br><span class="line">					scoket.send(packet);  <span class="comment">//数据发送</span></span><br><span class="line">					</span><br><span class="line">					scoket.close();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		接收端</span><br><span class="line">		<span class="number">1</span>) 建立套接字 DatagramSocket</span><br><span class="line">		<span class="number">2</span>) 准备DatagramPacket用来接受数据</span><br><span class="line">		<span class="number">3</span>) 调用套接字的方法进行接受</span><br><span class="line">		<span class="number">4</span>) 从包裹中得到想要的数据</span><br><span class="line">		<span class="number">5</span>) 关闭资源</span><br><span class="line">		</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="comment">//1) DatagramSocket</span></span><br><span class="line">			DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket(<span class="number">9000</span>);<span class="comment">//对于接受者,不要忘记指定端口号</span></span><br><span class="line">			<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];<span class="comment">//如果对方超过1024,显然是接受不到的,但是这是代表每次发送的帧数大小,尽量不要大</span></span><br><span class="line">			DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length);</span><br><span class="line">			</span><br><span class="line">			scoket.receive(packet);  <span class="comment">//接受数据  阻塞方法</span></span><br><span class="line">			</span><br><span class="line">			<span class="keyword">int</span> sendPort=packet.getPort();</span><br><span class="line">			String sendIp=packet.getAddress().getHostAddress();</span><br><span class="line">			String sendMsg=<span class="keyword">new</span> String(packet.getData(), <span class="number">0</span>, packet.getLength());<span class="comment">//这个地方应该接受包裹里的数据,和包裹的大小,如果接受byte数据的数据,可能会有空白</span></span><br><span class="line">			</span><br><span class="line">			System.out.println(sendIp+<span class="string">":"</span>+sendPort+<span class="string">"--&gt;"</span>+sendMsg);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//关闭资源</span></span><br><span class="line">			scoket.close();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	  java.net.BindException: <span class="function">Address <span class="title">already</span><span class="params">(早已)</span> in use: Cannot <span class="title">bind</span> <span class="params">(绑定)</span></span></span><br><span class="line"><span class="function">	  端口重复运行</span></span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 循环的发送和接受</span></span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sender</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket();</span><br><span class="line">			</span><br><span class="line">			BufferedReader br=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">			String msg=<span class="string">""</span>;</span><br><span class="line">			<span class="keyword">while</span>((msg=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">byte</span>[] buff=msg.getBytes();</span><br><span class="line">				DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length, InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">6000</span>);</span><br><span class="line">				scoket.send(packet);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Receiver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		DatagramSocket scoket=<span class="keyword">new</span> DatagramSocket(<span class="number">6000</span>);</span><br><span class="line">		System.out.println(<span class="string">"接收端启动了"</span>);</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			<span class="keyword">byte</span>[] buff=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(buff, buff.length);</span><br><span class="line">			scoket.receive(packet);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">int</span> sendPort=packet.getPort();</span><br><span class="line">			String sendIp=packet.getAddress().getHostAddress();</span><br><span class="line">			String msg=<span class="keyword">new</span> String(packet.getData(), <span class="number">0</span>, packet.getLength());</span><br><span class="line">			System.out.println(sendIp+<span class="string">":"</span>+sendPort+<span class="string">" :说-&gt;"</span>+msg);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">		  </span><br><span class="line">把ip改成.<span class="number">255</span>段内的</span><br><span class="line">比如<span class="number">100.100</span>.255.255</span><br><span class="line">所有当前局域网内,都可以被接受到,这是广播地址</span><br></pre></td></tr></table></figure></p>
<h1 id="7-多线程聊天室程序"><a href="#7-多线程聊天室程序" class="headerlink" title="7 多线程聊天室程序"></a>7 多线程聊天室程序</h1><h1 id="8-域名解析"><a href="#8-域名解析" class="headerlink" title="8 域名解析"></a>8 域名解析</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">域名解析是把域名指向网站空间IP，让人们通过注册的域名可以方便地访问到网站一种服务。</span><br><span class="line">IP地址是网络上标识站点的数字地址，为了方便记忆，采用域名来代替IP地址标识站点地址。</span><br><span class="line">域名解析就是域名到IP地址的转换过程。域名的解析工作由DNS服务器完成。</span><br><span class="line">域名解析也叫域名指向、服务器设置、域名配置以及反向IP登记等等。说得简单点就是将好记的域名解析成IP，</span><br><span class="line">域名解析需要由专门的域名解析服务器(DNS)来完成。</span><br><span class="line">是把域名解析到一个IP地址，然后在此IP地址的主机上将一个子目录与域名绑定。</span><br><span class="line">一个域名对应一个IP地址，一个IP地址可以对应多个域名；所以多个域名可以同时被解析到一个IP地址。</span><br><span class="line"></span><br><span class="line">就要进行解析，首先在域名注册商那里通过专门的DNS服务器解析到一个WEB服务器的一个固定IP上：<span class="number">211.214</span>.1.***，</span><br><span class="line">然后，通过WEB服务器来接收这个域名，把***.com这个域名映射到这台服务器上。那么，</span><br><span class="line">输入***.com这个域名就可以实现访问网站内容了.即实现了域名解析的全过程；</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hosts文件是Windows系统中一个负责IP地址与域名快递解析的文件，以ASCLL格式保存。计算机在键入域名（比如www.baidu.com）的时候，</span><br><span class="line">首先会去看看hosts文件汇总有没有关于此域名IP地址的记录。如果有，就直接登陆该网站；如果没有再查询DNS服务器</span><br><span class="line">，在Windows <span class="number">2000</span>/XP系统中位于C:\Windows\System32\Drivers\Etc目录中。</span><br><span class="line">该文件其实是一个纯文本的文件，用普通的文本编辑软件如记事本等都能打开。 用记事本打开hosts文件，首先看见了微软对这个文件的说明。</span><br><span class="line">这个文件是根据TCP/IP <span class="keyword">for</span> Windows 的标准来工作的，它的作用是包含IP地址和Host name?主机名?的映射关系，是一个映射IP地址和Host name?主机名?的规定，</span><br><span class="line">规定要求每段只能包括一个映射关系，IP地址要放在每段的最前面，空格后再写上映射的Host name?主机名?。 </span><br><span class="line">现在有很多网站不经过用户同意就将各种各样的插件安装到你的计算机中，有些说不定就是木马或病毒。</span><br><span class="line">对于这些网站我们可以利用Hosts把该网站的域名映射到错误的IP或自己计算机的IP，这样就不用访问了。</span><br><span class="line">比如不想访问http:<span class="comment">//www.163.com，</span></span><br><span class="line">那我们在Hosts写上以下内容： <span class="number">127.0</span>.0.1 http:<span class="comment">//www.baidu.com/或者实际ip即可</span></span><br><span class="line">这样计算机解析域名就解析到本机或错误的IP，达到了屏蔽的目的。</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当进行访问网站时,首先会访问自己本地的Hosts文件</span><br><span class="line">然后寻找有没有,如果没有就去域名服务器寻找,一定有</span><br><span class="line">最后发送返回的实际ip地址</span><br></pre></td></tr></table></figure></p>
<p>​<br>​    </p>
<p>​<br>​    </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十八天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十八天/" class="post-title-link" itemprop="url">java设计模式、内部类</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:30:15" itemprop="dateCreated datePublished" datetime="2019-08-02T19:30:15+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:18" itemprop="dateModified" datetime="2019-08-04T12:46:18+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-单例模式"><a href="#1-单例模式" class="headerlink" title="1 单例模式"></a>1 单例模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">设计模式分为三种类型，共<span class="number">23</span>种：</span><br><span class="line"></span><br><span class="line">创建型模式：单例模式、抽象工厂模式、建造者模式、工厂模式、原型模式。</span><br><span class="line">结构型模式：适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式。</span><br><span class="line">行为型模式：模版方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式、</span><br><span class="line">			状态模式、策略模式、职责链模式(责任链模式)、访问者模式。</span><br><span class="line">	</span><br><span class="line">单例模式确保一个类只有一个实例，自行提供这个实例并向整个系统提供这个实例。</span><br><span class="line">		特点：</span><br><span class="line">		   <span class="number">1</span>，一个类只能有一个实例</span><br><span class="line">		   <span class="number">2</span>，自己创建这个实例</span><br><span class="line">		   <span class="number">3</span>，整个系统都要使用这个实例</span><br><span class="line">		   </span><br><span class="line">	<span class="comment">//单例模式  饿汉式</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">static</span> Person p=<span class="keyword">new</span> Person();</span><br><span class="line">			<span class="function"><span class="keyword">private</span> <span class="title">Person</span><span class="params">()</span></span>&#123;  <span class="comment">//构造方法私有化</span></span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Person <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">				<span class="keyword">return</span> p;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="comment">//懒汉式</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">static</span> Person p=<span class="keyword">null</span>;</span><br><span class="line">		<span class="function"><span class="keyword">private</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Person <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(p==<span class="keyword">null</span>)&#123;</span><br><span class="line">				p=<span class="keyword">new</span> Person();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-工厂模式"><a href="#2-工厂模式" class="headerlink" title="2 工厂模式"></a>2 工厂模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Dog d=DogFactory.getDog();</span><br><span class="line">		System.out.println(d.getName());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DogFactory</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Dog <span class="title">getDog</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Dog d=<span class="keyword">new</span> Dog();</span><br><span class="line">		d.setName(<span class="string">"某某厂家生产的狗"</span>);</span><br><span class="line">		<span class="keyword">return</span> d;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-适配器模式"><a href="#3-适配器模式" class="headerlink" title="3 适配器模式"></a>3 适配器模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">用一个创建的类A去实现一个接口,把方法全部实现,</span><br><span class="line">这时候我们在使用这个接口中部分方法,就不需要实现接口了,</span><br><span class="line">就可以继承A,然后重写自己想用的方法</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dadoudou</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">AnimalAdapter</span> <span class="keyword">implements</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dadoudou</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">AnimalAdapter</span></span>&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-代理模式"><a href="#4-代理模式" class="headerlink" title="4 代理模式"></a>4 代理模式</h1><p>​            </p>
<pre><code>指由一个代理主题来操作真实主题，真实主题执行具体的业务操作，而代理主题负责其他相关业务的处理。
比如生活中的代理网络，和真实网络

public class Test01{
        public static void main(String[] args) throws Exception{
            Proxy p=new Proxy(new Real());
            p.browse();
        }
    }
    interface NetWork{  //定义网络标准
        public void browse();    //能进行浏览合法网页
    }
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Real</span> <span class="keyword">implements</span> <span class="title">NetWork</span></span>&#123;  <span class="comment">//真实上网公司  运营商</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"正在使用本公司的流量进行上网!已经收取了一定费用"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Proxy</span>  <span class="keyword">implements</span> <span class="title">NetWork</span></span>&#123;  <span class="comment">//Proxy 就是代理类</span></span><br><span class="line">	<span class="keyword">private</span> NetWork n;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">(NetWork n)</span></span>&#123;  <span class="comment">//传入真实代理商,进行代理</span></span><br><span class="line">		<span class="keyword">this</span>.n=n;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">browse</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"本公司各种业务,都给你办一遍,获取你个人信息,卖钱"</span>); <span class="comment">//做本公司业务</span></span><br><span class="line">		n.browse();  <span class="comment">//调用真实运营商方法</span></span><br><span class="line">		System.out.println(<span class="string">"开始上网监控流量使用"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​        </p>
<h1 id="5-建造者模式"><a href="#5-建造者模式" class="headerlink" title="5 建造者模式"></a>5 建造者模式</h1><p>​            </p>
<pre><code>建造者模式将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。

建造者模式通常包括下面几个角色：
1、Product：要创建的复杂对象。
2、Builder：给出一个抽象接口，以规范产品对象的各个组成成分的建造。
3、ConcreteBuilder：实现Builder接口，针对不同的商业逻辑，具体化复杂对象的各部分的创建。 在建造过程完成后，提供产品的实例。
4、Director：调用具体建造者来创建复杂对象的各个部分，只负责保证对象各部分完整创建或按某种顺序创建。
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">				建造者 j=<span class="keyword">new</span> 建造者();</span><br><span class="line">				机器人 p=j.create机器人(<span class="keyword">new</span> 弱智机器人());</span><br><span class="line">				System.out.println(p.getFoot());</span><br><span class="line">				System.out.println(p.getHead());</span><br><span class="line">				System.out.println(p.getBody());</span><br><span class="line">				System.out.println(p.getHand());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//Product</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> 机器人</span>&#123;</span><br><span class="line">			<span class="keyword">private</span> String head;</span><br><span class="line">			<span class="keyword">private</span> String body;</span><br><span class="line">			<span class="keyword">private</span> String hand;</span><br><span class="line">			<span class="keyword">private</span> String foot;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getHead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> head;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHead</span><span class="params">(String head)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.head = head;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getBody</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> body;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBody</span><span class="params">(String body)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.body = body;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getHand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> hand;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHand</span><span class="params">(String hand)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.hand = hand;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> String <span class="title">getFoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> foot;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFoot</span><span class="params">(String foot)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.foot = foot;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//Builder</span></span><br><span class="line">		<span class="class"><span class="keyword">interface</span> <span class="title">Build</span>机器人</span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHead</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildBody</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHand</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildFoot</span><span class="params">()</span></span>;</span><br><span class="line">			<span class="keyword">public</span> 机器人 create机器人();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//ConcreteBuilder</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> 弱智机器人 <span class="keyword">implements</span> <span class="title">Build</span>机器人</span>&#123;</span><br><span class="line">			机器人 r;</span><br><span class="line">			<span class="keyword">public</span> 弱智机器人()&#123;</span><br><span class="line">				r=<span class="keyword">new</span> 机器人();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildBody</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setBody(<span class="string">"体弱多病"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildFoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setFoot(<span class="string">"瘸子"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setHand(<span class="string">"独臂"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildHead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				r.setHead(<span class="string">"被门夹过"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> 机器人 create机器人() &#123;</span><br><span class="line">				<span class="keyword">return</span> r;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//Director</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> 建造者</span>&#123;</span><br><span class="line">			<span class="keyword">public</span> 机器人 create机器人(Build机器人 p)&#123;</span><br><span class="line">				p.buildFoot();</span><br><span class="line">				p.buildHead();</span><br><span class="line">				p.buildBody();</span><br><span class="line">				p.buildHand();</span><br><span class="line">				<span class="keyword">return</span> p.create机器人();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	建造者模式：是将一个复杂的对象的构建与它的表示分离，</span><br><span class="line">	使得同样的构建过程可以创建不同的表示。</span><br><span class="line">	比如：</span><br><span class="line">	去肯德基，汉堡、可乐、薯条、炸鸡等是不变的，而其组合是经常变化的，生成出所谓的<span class="string">"套餐"</span>。</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">				清明节套餐 q=<span class="keyword">new</span> 清明节套餐();</span><br><span class="line">				KFC套餐 tc=q.create清明节(<span class="keyword">new</span> KFC口味());</span><br><span class="line">				System.out.println(tc.get可乐());</span><br><span class="line">				System.out.println(tc.get汉堡());</span><br><span class="line">				System.out.println(tc.get薯条());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">KFC</span>套餐</span>&#123;</span><br><span class="line">			<span class="keyword">private</span> String 汉堡;</span><br><span class="line">			<span class="keyword">private</span> String 可乐;</span><br><span class="line">			<span class="keyword">private</span> String 薯条;</span><br><span class="line">			<span class="keyword">private</span> String 炸鸡;</span><br><span class="line">			<span class="keyword">public</span> String get汉堡() &#123;</span><br><span class="line">				<span class="keyword">return</span> 汉堡;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set汉堡(String 汉堡) &#123;</span><br><span class="line">				<span class="keyword">this</span>.汉堡 = 汉堡;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String get可乐() &#123;</span><br><span class="line">				<span class="keyword">return</span> 可乐;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set可乐(String 可乐) &#123;</span><br><span class="line">				<span class="keyword">this</span>.可乐 = 可乐;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String get薯条() &#123;</span><br><span class="line">				<span class="keyword">return</span> 薯条;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set薯条(String 薯条) &#123;</span><br><span class="line">				<span class="keyword">this</span>.薯条 = 薯条;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String get炸鸡() &#123;</span><br><span class="line">				<span class="keyword">return</span> 炸鸡;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> set炸鸡(String 炸鸡) &#123;</span><br><span class="line">				<span class="keyword">this</span>.炸鸡 = 炸鸡;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">interface</span> <span class="title">BuildKFC</span>套餐</span>&#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build汉堡();</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build可乐();</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build薯条();</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build炸鸡();</span><br><span class="line">			<span class="keyword">public</span> KFC套餐 createKFC();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">KFC</span>口味 <span class="keyword">implements</span> <span class="title">BuildKFC</span>套餐</span>&#123;</span><br><span class="line">			KFC套餐 tc;</span><br><span class="line">			<span class="keyword">public</span> KFC口味()&#123;</span><br><span class="line">				tc=<span class="keyword">new</span> KFC套餐();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build可乐() &#123;</span><br><span class="line">				tc.set可乐(<span class="string">"很苦"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build汉堡() &#123;</span><br><span class="line">				tc.set汉堡(<span class="string">"很肥"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build炸鸡() &#123;</span><br><span class="line">				tc.set炸鸡(<span class="string">"很油"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> build薯条() &#123;</span><br><span class="line">				tc.set薯条(<span class="string">"很硬"</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">public</span> KFC套餐 createKFC() &#123;</span><br><span class="line">				<span class="keyword">return</span> tc;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> 清明节套餐</span>&#123;</span><br><span class="line">			<span class="keyword">public</span> KFC套餐 create清明节(BuildKFC套餐 tc)&#123;</span><br><span class="line">				tc.build可乐();</span><br><span class="line">				tc.build薯条();</span><br><span class="line">				tc.build汉堡();</span><br><span class="line">				<span class="keyword">return</span> tc.createKFC();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">				</span><br><span class="line">实现了将<span class="string">"具体食品"</span>如何创作 与他的<span class="string">"套餐表现"</span> 分离</span><br></pre></td></tr></table></figure>
<h1 id="6-门面模式"><a href="#6-门面模式" class="headerlink" title="6 门面模式"></a>6 门面模式</h1><p>​        </p>
<pre><code>什么是门面模式
    门面模式要求 个子系统的外部与其内部的通信必须通过一个统一的门面(Facade)对象进行。
    门面模式提供一个高层次的接口，使得子系统更易于使用。
    就如同医院的接待员一样，门面模式的门面类将客户端与子系统的内部复杂性分隔开，
    使得客户端只需要与门面对象打交道，而不需要与子系统内部的很多对象打交道。

医院的例子
    用一个例子进行说明，如果把医院作为一个系统，按照部门职能，
    这个系统可以划分为挂号、门诊、划价、化验、收费、取药等。
    看病的病人要与这些部门打交道，不是一件容易的事情。
    首先病人必须先挂号，然后门诊。
    如果医生要求化验，病人必须首先划价，然后缴款，才能到化验部门做化验。化验后，再回到门诊室。
    解决这种不便的方法便是引进门面模式。
    可以设置一个接待员的位置，由接待员负责代为挂号、划价、缴费、取药等。这个接待员就是门面模式的体现，
    病人只接触接待员，由接待员负责与医院的各个部门打交道。

class 部门1{
    public void 挂号(){
        System.out.println(&quot;进行排队挂号......&quot;);
    }
}
class 部门2{
    public void 门诊(){
        System.out.println(&quot;进行排队门诊......&quot;);
    }
}
class 部门3{
    public void 划价(){
        System.out.println(&quot;进行排队划价......&quot;);
    }
}
class 部门4{
    public void 化验(){
        System.out.println(&quot;进行排队化验......&quot;);
    }
}
class 门面{
    public 部门1 b1;
    public 部门2 b2;
    public 部门3 b3;
    public 门面(){
        b1=new 部门1();
        b2=new 部门2();
        b3=new 部门3();
    }
    public void 门面方法(){
        b1.挂号();
        b2.门诊();
        b3.划价();
    }
}
public class Test01{
    public static void main(String[] args) throws Exception{
        门面 m=new 门面();
        m.门面方法();
        部门4 b4=new 部门4();
        b4.部门4();
    }
}
</code></pre><h1 id="7-桥接模式"><a href="#7-桥接模式" class="headerlink" title="7 桥接模式"></a>7 桥接模式</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">需求：我们假设有一座桥，桥左边为A，桥右边为B，A有A1，A2，A3等，表示桥左边的三个不同地方，</span><br><span class="line">  B有B1，B2，B3等，表示桥右边的三个不同地方，</span><br><span class="line">  假设我们要从桥左侧A出发到桥的右侧B，我们可以有多重方案，</span><br><span class="line">  A1到B1，A1到B2，A1到B3，A2到B1...等等</span><br><span class="line">  </span><br><span class="line"> 桥接口</span><br><span class="line"> <span class="class"><span class="keyword">interface</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B();</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> 目的地 B1 B2 B3</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">B1</span> <span class="keyword">implements</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B()&#123;</span><br><span class="line">		 System.out.println(<span class="string">"我要去B1"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">B2</span> <span class="keyword">implements</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B()&#123;</span><br><span class="line">		 System.out.println(<span class="string">"我要去B2"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">B3</span> <span class="keyword">implements</span> <span class="title">Qiao</span></span>&#123;</span><br><span class="line">	 <span class="keyword">void</span> 目的地B()&#123;</span><br><span class="line">		 System.out.println(<span class="string">"我要去B3"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//抽象来源地 A</span></span><br><span class="line"> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 Qiao qiao;</span><br><span class="line">	 <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> 来源地 A1 A2 A3</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">A1</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>&#123;</span><br><span class="line">		  System.out.println(<span class="string">"我来自A1"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">A2</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>&#123;</span><br><span class="line">		  System.out.println(<span class="string">"我来自A2"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">A3</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">void</span> <span class="title">fromA</span><span class="params">()</span></span>&#123;</span><br><span class="line">		  System.out.println(<span class="string">"我来自A3"</span>);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		 A a=<span class="keyword">new</span> A2();</span><br><span class="line">		 a.qiao=<span class="keyword">new</span> B3();</span><br><span class="line">		 a.fromA();</span><br><span class="line">		 a.qiao.目的地B();</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> 上面的就是桥接模式</span><br><span class="line"> 桥接（Bridge）是用于把抽象化与实现化解耦，使得二者可以独立变化。</span><br><span class="line"> 这种类型的设计模式属于结构型模式，它通过提供抽象化和实现化之间的桥接结构，来实现二者的解耦。</span><br><span class="line"> </span><br><span class="line"> 理解:此处的抽象化和实现化分别指向实例中 A B 双方,</span><br><span class="line">	  此时A和B发生了解耦关系</span><br><span class="line">	  </span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">B1</span></span>&#123;</span><br><span class="line">		  <span class="keyword">void</span> 目的地B1()&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我要去B1"</span>);</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">B2</span></span>&#123;</span><br><span class="line">		  <span class="keyword">void</span> 目的地B2()&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我要去B2"</span>);</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  </span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A1_B1</span> <span class="keyword">extends</span> <span class="title">B1</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA1</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A1"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B1();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A1_B2</span> <span class="keyword">extends</span> <span class="title">B2</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA1</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A1"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B2();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A2_B1</span> <span class="keyword">extends</span> <span class="title">B1</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA2</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A2"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B1();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  </span><br><span class="line">	  <span class="class"><span class="keyword">class</span> <span class="title">A2_B2</span> <span class="keyword">extends</span> <span class="title">B2</span></span>&#123;</span><br><span class="line">		  <span class="function"><span class="keyword">void</span> <span class="title">fromA2</span><span class="params">()</span></span>&#123;</span><br><span class="line">			  System.out.println(<span class="string">"我来自A2"</span>);</span><br><span class="line">			  <span class="keyword">this</span>.目的地B2();</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	  </span><br><span class="line">使传统模式开发,会让事物之间耦合度很高,解耦性不好,并且会产生类的急剧膨胀,也不好</span><br><span class="line">使用桥接模式,会让两个独立开,耦合度变低,互不影响,中间使用桥梁进行沟通</span><br></pre></td></tr></table></figure>
<h1 id="8-内部类"><a href="#8-内部类" class="headerlink" title="8 内部类"></a>8 内部类</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">在一个类体或方法体内部定义的类,可以用<span class="keyword">public</span> <span class="keyword">private</span> <span class="keyword">protected</span> <span class="keyword">default</span> 修饰符修饰</span><br><span class="line">可以在内部类中,访问外部类的属性,哪怕是私有的都行</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Person p=<span class="keyword">new</span> Person();</span><br><span class="line">		p.展示宠物();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	String home;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"喵.........我的主人名字:"</span>+name);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">void</span> 展示宠物()&#123;</span><br><span class="line">		Cat c=<span class="keyword">new</span> Cat();</span><br><span class="line">		c.speak();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name=<span class="string">"大雄"</span>;</span><br><span class="line">	String home=<span class="string">"云谷"</span>;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span>&#123;</span><br><span class="line">		String nickName=<span class="string">"tom"</span>;</span><br><span class="line">		String home=<span class="string">"猫窝"</span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"喵........."</span>);</span><br><span class="line">			System.out.println(<span class="string">"我的昵称:"</span>+<span class="keyword">this</span>.nickName);</span><br><span class="line">			System.out.println(<span class="string">"我的主人名:"</span>+name);  <span class="comment">//不要加this</span></span><br><span class="line">			System.out.println(<span class="string">"我的家:"</span>+home);   <span class="comment">//this.home和home</span></span><br><span class="line">			System.out.println(<span class="string">"我主人的家:"</span>+Person.<span class="keyword">this</span>.home);   <span class="comment">//外部类的home</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">void</span> 展示宠物()&#123;</span><br><span class="line">		Cat c=<span class="keyword">new</span> Cat();</span><br><span class="line">		c.speak();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以用内部类去定义对象</span></span><br><span class="line">Person p=<span class="keyword">new</span> Person();</span><br><span class="line">Person.Cat c=p.new Cat();  <span class="comment">//外部类.内部类 对象名=new 外部类().new 内部类();</span></span><br><span class="line">c.speak();</span><br><span class="line"></span><br><span class="line">重点：</span><br><span class="line">		内部类可以声明为静态的</span><br><span class="line">		静态的内部类,不能访问外部类中非静态成员</span><br><span class="line">		静态的内部类中,可以有静态成员</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> 也可以在方法内部创建内部类</span><br><span class="line"> 在方法的内部类中,要访问方法中的局部变量,这个变量必须是<span class="keyword">final</span>的</span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		计算面积(<span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">void</span> 计算面积(<span class="keyword">final</span> <span class="keyword">int</span> r)&#123;  <span class="comment">//必须是final类型的</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">Calc</span></span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">void</span> <span class="title">jisuan</span><span class="params">()</span></span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"计算结果:"</span>+<span class="number">3.14</span>*r*r);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		Calc c=<span class="keyword">new</span> Calc();</span><br><span class="line">		c.jisuan();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​                            </p>
<ul>
<li>​        </li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十七天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十七天/" class="post-title-link" itemprop="url">java的File类</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:27:07" itemprop="dateCreated datePublished" datetime="2019-08-02T19:27:07+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:46:00" itemprop="dateModified" datetime="2019-08-04T12:46:00+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-File-类概述"><a href="#1-File-类概述" class="headerlink" title="1 File 类概述"></a>1 File 类概述</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">流只是操作数据的，而</span><br><span class="line">File类是IO包中,唯一代表磁盘文件本身的类</span><br><span class="line">用来将文件或文件夹封装成对象</span><br><span class="line">方便对文件及文件夹的属性信息进行操作</span><br><span class="line">File对象经常做为参数传给流的构造函数</span><br><span class="line">File类不能访问文件内容,即不能从文件中读数据,也不能写入数据,它只能对文件本身的属性进行操作</span><br><span class="line"></span><br><span class="line"><span class="comment">//几种常见的操作</span></span><br><span class="line">	<span class="comment">//创建文件 boolean createNewFile();  返回的是boolean型</span></span><br><span class="line">	<span class="comment">//创建文件 createTempFile()</span></span><br><span class="line">	<span class="comment">//创建目录 mkdir()  ,  mkdirs() </span></span><br><span class="line">	<span class="comment">//删除 boolean delete()</span></span><br><span class="line">	<span class="comment">//删除 void deleteOnExit() //执行之后，File并没有直接删除，而是在虚拟机正常运行结束后才会删除。</span></span><br><span class="line">	<span class="comment">//判断方法</span></span><br><span class="line">	<span class="comment">//-- exists() 判断存不存在</span></span><br><span class="line">	<span class="comment">//-- isDirectory()  判断是不是目录</span></span><br><span class="line">	<span class="comment">//-- isFile()  判断是不是文件</span></span><br><span class="line">	<span class="comment">//-- isHidden() 判断是不是隐藏</span></span><br><span class="line">	<span class="comment">//-- canRead() 判断是否可读</span></span><br><span class="line">	<span class="comment">//-- canWrite() 判断是否可写</span></span><br><span class="line">	<span class="comment">//--renameTo(File dest) 剪切并且重命名</span></span><br><span class="line">			</span><br><span class="line">				要求:参数中的对象File dest不存在,调用者必须存在</span><br><span class="line">					</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">			<span class="comment">/*File f1=new File("c://a.txt");</span></span><br><span class="line"><span class="comment">			File f2=new File("c://parent","b.txt");  //如果parent不存在,则会抛出异常</span></span><br><span class="line"><span class="comment">			File f3=new File("3.txt");</span></span><br><span class="line"><span class="comment">			File f4=new File("c://");</span></span><br><span class="line"><span class="comment">			File f5=new File(f4,"5.txt");</span></span><br><span class="line"><span class="comment">			System.out.println(f1.createNewFile());</span></span><br><span class="line"><span class="comment">			System.out.println(f2.createNewFile());</span></span><br><span class="line"><span class="comment">			System.out.println(f3.createNewFile());</span></span><br><span class="line"><span class="comment">			//System.out.println(f4.createNewFile());</span></span><br><span class="line"><span class="comment">			System.out.println(f5.createNewFile());*/</span></span><br><span class="line">			<span class="comment">//File tempFile=f1.createTempFile("temp", ".java");</span></span><br><span class="line">			<span class="comment">//System.out.println(tempFile.getAbsolutePath()); //C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\temp2141738120370824938.java</span></span><br><span class="line">			<span class="comment">//f1.createTempFile("temp", ".java", new File("c://temp"));//会在temp文件夹中生成临时文件</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">/*File f6=new File("c://456");</span></span><br><span class="line"><span class="comment">			System.out.println(f6.mkdirs()); //创建多层目录</span></span><br><span class="line"><span class="comment">			System.out.println(f6.mkdir());  //创建单层目录</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			File f7=new File("c://456");</span></span><br><span class="line"><span class="comment">			System.out.println(f7.delete()); //删除目录</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			File f8=new File("c://123");</span></span><br><span class="line"><span class="comment">			System.out.println(f8.delete()); //对于非空文件夹,是删除不掉的</span></span><br><span class="line"><span class="comment">	*/</span>		</span><br><span class="line">			<span class="comment">//-- exists() 判断存不存在</span></span><br><span class="line">			<span class="comment">//-- isDirectory()  判断是不是目录</span></span><br><span class="line">			<span class="comment">//-- isFile()  判断是不是文件</span></span><br><span class="line">			<span class="comment">//-- isHidden() 判断是不是隐藏</span></span><br><span class="line">			<span class="comment">//-- canRead() 判断是否可读</span></span><br><span class="line">			<span class="comment">//-- canWrite() 判断是否可写</span></span><br><span class="line">			<span class="comment">/*System.out.println(f8.exists());</span></span><br><span class="line"><span class="comment">			System.out.println(f8.isDirectory());</span></span><br><span class="line"><span class="comment">			System.out.println(f8.isHidden());*/</span></span><br><span class="line">			</span><br><span class="line">		<span class="comment">/*	File f9=new File("c:"+File.separator+"123"+File.separator+"aa.txt"); //File.separator 是磁盘分割符,在不同系统中,自动识别所认识的</span></span><br><span class="line"><span class="comment">			System.out.println(f9.canRead());</span></span><br><span class="line"><span class="comment">			System.out.println(f9.canWrite());</span></span><br><span class="line"><span class="comment">			System.out.println(f9.delete());*/</span></span><br><span class="line">			File file=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">			file.mkdir();</span><br><span class="line">			File file1=<span class="keyword">new</span> File(<span class="string">"c://aaa//aa.txt"</span>);</span><br><span class="line">			file1.createNewFile();</span><br><span class="line">			File file2=<span class="keyword">new</span> File(<span class="string">"c://file2.txt"</span>);</span><br><span class="line">			System.out.println(file1.renameTo(file2)); <span class="comment">//会把aaa文件夹中的aa.txt剪切到file2对象下,也就是C盘并且叫做file2.txt</span></span><br><span class="line">				&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-File类的常用获取方法"><a href="#2-File类的常用获取方法" class="headerlink" title="2 File类的常用获取方法"></a>2 File类的常用获取方法</h1><p>​                </p>
<pre><code>//获取文件信息
//String getName()  返回文件或目录的名称。
//String getParent()  返回父目录路径字符串,没有返回null
//public File getParentFile() 返回父目录路径file对象,没有返回null
//String getPath()  返回路径字符串含文件名
//String getAbsolutePath() 返回绝对路径字符串。
//File getAbsoluteFile()  返回绝对路径名形式。
//long length() 返回文件长度,以字节为单位
//static File[] listRoots() 列出可用的文件系统根 在windows下即列出C D E等盘符
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">	File f1=<span class="keyword">new</span> File(<span class="string">"c://a.txt"</span>);</span><br><span class="line">	System.out.println(f1.getName());  <span class="comment">//a.txt</span></span><br><span class="line">	System.out.println(f1.getParent());  <span class="comment">//c:\</span></span><br><span class="line">	System.out.println(f1.getPath());  <span class="comment">//c:\a.txt</span></span><br><span class="line">	System.out.println(f1.getAbsolutePath());  <span class="comment">//c:\a.txt</span></span><br><span class="line">	System.out.println(f1.length());  <span class="comment">//4489</span></span><br><span class="line">	</span><br><span class="line">	File[] fileArray=File.listRoots();</span><br><span class="line">	<span class="keyword">for</span>(File file:fileArray)&#123;</span><br><span class="line">		System.out.println(file);  <span class="comment">//A C D</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 如何得到一个文件夹下所有的文件名,或所有的文件对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">	File f1=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">	String[] strArray=f1.list();</span><br><span class="line">	<span class="keyword">for</span>(String strName:strArray)&#123;</span><br><span class="line">		System.out.println(strName);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	File[] fileArray=f1.listFiles();</span><br><span class="line">	<span class="keyword">for</span>(File f:fileArray)&#123;</span><br><span class="line">		System.out.println(f.getName());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 文件过滤</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		File f1=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">		String[] strArray=f1.list();</span><br><span class="line">		<span class="keyword">for</span>(String strName:strArray)&#123;</span><br><span class="line">			<span class="keyword">if</span>(strName.endsWith(<span class="string">".java"</span>))&#123;</span><br><span class="line">				System.out.println(strName);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//或者</span></span><br><span class="line">		String[] strArray1=f1.list(<span class="keyword">new</span> FilenameFilter()&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> name.endsWith(<span class="string">".java"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="keyword">for</span>(String name:strArray1)&#123;</span><br><span class="line">			System.out.println(name);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-递归查看目录"><a href="#3-递归查看目录" class="headerlink" title="3 递归查看目录"></a>3 递归查看目录</h1><p>​                </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需求:把一个文件下的所有文件名字进行输出</span></span><br><span class="line"></span><br><span class="line">首先得到所有文件</span><br><span class="line">判断 那些是文件,那些是文件夹</span><br><span class="line"></span><br><span class="line">如果是文件夹</span><br><span class="line">首先得到所有文件</span><br><span class="line">判断 那些是文件,那些是文件夹</span><br><span class="line"></span><br><span class="line">如果是文件夹</span><br><span class="line">首先得到所有文件</span><br><span class="line">判断 那些是文件,那些是文件夹</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		test(<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(File f)</span></span>&#123;</span><br><span class="line">		File[] fileArray=f.listFiles();</span><br><span class="line">		<span class="keyword">for</span>(File file:fileArray)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">				test(file);  <span class="comment">//递归进行刚才的逻辑</span></span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				System.out.println(file.getName());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-大文件切割和合并"><a href="#4-大文件切割和合并" class="headerlink" title="4 大文件切割和合并"></a>4 大文件切割和合并</h1><p>​<br>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		File srcFile=<span class="keyword">new</span> File(<span class="string">"c://huluobo.JPG"</span>);</span><br><span class="line">		File tempFile=<span class="keyword">new</span> File(<span class="string">"c://temp"</span>);</span><br><span class="line">		<span class="comment">//cutFile(srcFile,tempFile);</span></span><br><span class="line">		</span><br><span class="line">		File dirFile=<span class="keyword">new</span> File(<span class="string">"c://aaa"</span>);</span><br><span class="line">		String fileName=srcFile.getName();</span><br><span class="line">		unionFile(dirFile,tempFile,fileName);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//切割</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">cutFile</span><span class="params">(File srcFile,File tempFile)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!tempFile.exists())&#123;</span><br><span class="line">			tempFile.mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		InputStream in=<span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">		OutputStream out=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">100</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=in.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> num=count++;</span><br><span class="line">			out=<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(tempFile, num+<span class="string">".temp"</span>));</span><br><span class="line">			out.write(b, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">		in.close();</span><br><span class="line">		System.out.println(<span class="string">"切割完成....."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//合并</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">unionFile</span><span class="params">(File dirFile,File tempFile,String fileName)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!dirFile.exists())&#123;</span><br><span class="line">			dirFile.mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		File[] files=tempFile.listFiles();</span><br><span class="line">		List&lt;FileInputStream&gt; list=<span class="keyword">new</span> ArrayList&lt;FileInputStream&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;files.length;i++)&#123;</span><br><span class="line">			File f=<span class="keyword">new</span> File(tempFile,i+<span class="string">".temp"</span>);</span><br><span class="line">			list.add(<span class="keyword">new</span> FileInputStream(f));</span><br><span class="line">			<span class="comment">//最后把临时文件就可以删除了</span></span><br><span class="line">			f.deleteOnExit();  <span class="comment">//最后没有被占用,在删除,使用deleteOnExit,使用delete失败,可能是因为被占用</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		Enumeration&lt;FileInputStream&gt; eum=Collections.enumeration(list);</span><br><span class="line">		<span class="comment">//合并流</span></span><br><span class="line">		SequenceInputStream sis=<span class="keyword">new</span> SequenceInputStream(eum);<span class="comment">//构造函数需要的就是枚举类型</span></span><br><span class="line">		</span><br><span class="line">		OutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(dirFile, fileName));</span><br><span class="line">		<span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">100</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len=sis.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			out.write(b, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">		sis.close();</span><br><span class="line">		System.out.println(<span class="string">"合并成功!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-Properties-类详解"><a href="#5-Properties-类详解" class="headerlink" title="5 Properties 类详解"></a>5 Properties 类详解</h1><p>​           1) 是HashTable的子类<br>           2) 增加了把键和值存到流中,或从流中读出来的功能<br>           3) store()方法,可以把键和值存到流中(键和值必须是String类型)<br>           4) 可以从流中载入信息  load()</p>
<pre><code>config.properties
     #cy
     #Tue Jul 23 11:46:44 CST 2019
     port=8081
     password=admin123
     note=this is note
     userName=adminqwe
     newKey=123\u4E2D\u6587

public static void main(String[] args) throws Exception{
     Properties settings=new Properties();
     InputStream in=new FileInputStream(&quot;src/config.properties&quot;);
     settings.load(in);

     //取东西
     System.out.println(settings.getProperty(&quot;port&quot;));
     Set&lt;String&gt; keySet=settings.stringPropertyNames();
     for(String str:keySet){
         System.out.print(str+&quot;--&gt;&quot;);
         System.out.println(settings.getProperty(str));
     }

     //存
     settings.setProperty(&quot;userName&quot;, &quot;adminqwe&quot;);
     settings.setProperty(&quot;newKey&quot;, &quot;123中文&quot;); //中文在properties文件中是会进行unicode编码  \u都是这个编码
     settings.store(new FileOutputStream(&quot;src/config.properties&quot;), &quot;cy&quot;); //最后一个参数是一个注释内容,通常都写 作者是谁,修改了什么
 }
</code></pre><p>​<br>​            </p>
<h1 id="6-java-中的序列化"><a href="#6-java-中的序列化" class="headerlink" title="6 java 中的序列化"></a>6 java 中的序列化</h1><p>​            </p>
<pre><code>        List&lt;String&gt; nameList=new ArrayList&lt;String&gt;();
        List&lt;UserInfo&gt; nameList=new ArrayList&lt;UserInfo&gt;();

    有的时候我们想要把一个Java对象变成字节流的形式传出去，
    有的时候我们想要从一个字节流中恢复一个Java对象。
    又或者把一个Java对象写入到硬盘或者传输到网路上面的其它计算机，
    这时候就需要用到Java的序列化

    当两个进程在进行远程通信时，彼此可以发送各种类型的数据。无论是何种类型的数据，都会以二进制序列的形式传送。
    发送方需要把这个Java对象转换为字节序列，才能在网络上传送；接收方则需要把字节序列再恢复为Java对象。

    把Java对象转换为字节序列的过程称为对象的序列化。
    把字节序列恢复为Java对象的过程称为对象的反序列化。

    对象的序列化主要有两种用途：

    1） 把对象的字节序列永久地保存到硬盘上，通常存放在一个文件中；
    2） 在网络上传送对象的字节序列。（比如：两个不同系统甚至是分布式模块之间的调用）

只有实现了Serializable和Externalizable接口的类的对象才能被序列化。Externalizable接口继承自Serializable接口，
实现Externalizable接口的类完全由自身来控制序列化的行为，而仅实现Serializable接口的类可以采用默认的序列化方式 。

String类已经提前实现了序列化,实现了implements java.io.Serializable

//为什么需要序列化？
    我们知道，当两个进程进行远程通信时，可以相互发送各种类型的数据，包括文本、图片、音频、视频等， 
    而这些数据都会以二进制序列的形式在网络上传送。那么当两个Java进程进行通信时，
    能否实现进程间的对象传送呢？答案是可以的。如何做到呢？
    这就需要Java序列化与反序列化了。换句话说，
    一方面，发送方需要把这个Java对象转换为字节序列，然后在网络上传送；
    另一方面，接收方需要从字节序列中恢复出Java对象。
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">			<span class="comment">//序列化过程, 将一个对象变成字节序类,在网络上传输</span></span><br><span class="line">			<span class="comment">/*UserInfo u1=new UserInfo(1, "张三", "男");</span></span><br><span class="line"><span class="comment">			UserInfo u2=new UserInfo(2, "李四", "女");</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			OutputStream out=new FileOutputStream("c://my.obj");</span></span><br><span class="line"><span class="comment">			ObjectOutputStream oopt=new ObjectOutputStream(out);</span></span><br><span class="line"><span class="comment">			oopt.writeObject(u1);</span></span><br><span class="line"><span class="comment">			oopt.writeObject(u2);</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			oopt.close();*/</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">//反序列化过程, 将一个字节序类变成对象</span></span><br><span class="line">			InputStream in=<span class="keyword">new</span> FileInputStream(<span class="string">"c://my.obj"</span>);</span><br><span class="line">			ObjectInputStream oips=<span class="keyword">new</span> ObjectInputStream(in);</span><br><span class="line">			UserInfo newU1=(UserInfo) oips.readObject();</span><br><span class="line">			UserInfo newU2=(UserInfo) oips.readObject();</span><br><span class="line">			System.out.println(newU1);</span><br><span class="line">			System.out.println(newU2);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">		<span class="keyword">private</span> String userName;</span><br><span class="line">		<span class="keyword">private</span> String sex;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">UserInfo</span><span class="params">(<span class="keyword">int</span> id, String userName, String sex)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.id = id;</span><br><span class="line">			<span class="keyword">this</span>.userName = userName;</span><br><span class="line">			<span class="keyword">this</span>.sex = sex;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="string">"UserInfo [id="</span> + id + <span class="string">", sex="</span> + sex + <span class="string">", userName="</span> + userName</span><br><span class="line">					+ <span class="string">"]"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="7-serialVersionUID"><a href="#7-serialVersionUID" class="headerlink" title="7 serialVersionUID"></a>7 serialVersionUID</h1><pre><code>  public class Test01 {

        public static void main(String[] args) throws Exception{
            //序列化过程, 将一个对象变成字节序类,在网络上传输
            /*UserInfo u1=new UserInfo(1, &quot;张三&quot;, &quot;男&quot;);
            UserInfo u2=new UserInfo(2, &quot;李四&quot;, &quot;女&quot;);

            OutputStream out=new FileOutputStream(&quot;c://my.obj&quot;);
            ObjectOutputStream oopt=new ObjectOutputStream(out);
            oopt.writeObject(u1);
            oopt.writeObject(u2);

            oopt.close();*/

            //反序列化过程, 将一个字节序类变成对象
            InputStream in=new FileInputStream(&quot;c://my.obj&quot;);
            ObjectInputStream oips=new ObjectInputStream(in);
            UserInfo newU1=(UserInfo) oips.readObject();
            UserInfo newU2=(UserInfo) oips.readObject();
            System.out.println(newU1);
            System.out.println(newU2);
        }
    }
    class UserInfo implements Serializable{
        private int id;
        private String userName;
        private String sex;
        private String phone;
        public UserInfo(int id, String userName, String sex,String phone) {
            this.id = id;
            this.userName = userName;
            this.sex = sex;
            this.phone=phone;
        }
        @Override
        public String toString() {
            return &quot;UserInfo [id=&quot; + id + &quot;, phone=&quot; + phone + &quot;, sex=&quot; + sex
                    + &quot;, userName=&quot; + userName + &quot;]&quot;;
        }
    }

可能对象在没有phone属性时,进行了序列化,但是因为业务的原因,不得不升级,增加了一个属性phone,
然后进行反序列化,出现异常

序列化ID的作用：
    其实，这个序列化ID起着关键的作用，它决定着是否能够成功反序列化！
    简单来说，java的序列化机制是通过在运行时判断类的serialVersionUID来验证版本一致性的。
    在进行反序列化时，JVM会把传来的字节流中的serialVersionUID与本地实体类中的serialVersionUID进行比较，
    如果相同则认为是一致的，便可以进行反序列化，否则就会报序列化版本不一致的异常。
    序列化时为了保持版本的兼容性，即在版本升级时反序列化仍保持对象的唯一性。 
    有两种生成方式： 一个是默认的1L，比如：private static final longserialVersionUID = 1L; 
    一个是根据类名、接口名、成员方法及属性等来生成一个64位的哈希字段，
    比如： private static final long serialVersionUID = xxxxL; 

序列化ID如何产生：
    当我们一个实体类中没有显示的定义一个名为“serialVersionUID”、类型为long的变量时，
    Java序列化机制会根据编译时的class自动生成一个serialVersionUID作为序列化版本比较，
    这种情况下，只有同一次编译生成的class才会生成相同的serialVersionUID。
    譬如，当我们编写一个类时，随着时间的推移，我们因为需求改动，
    需要在本地类中添加其他的字段，这个时候再反序列化时便会出现serialVersionUID不一致，
    导致反序列化失败。那么如何解决呢？便是在本地类中添加一个“serialVersionUID”变量，
    值保持不变，便可以进行序列化和反序列化。
</code></pre><p>​        </p>
<pre><code>强烈建议在一个可序列化类中显示的定义serialVersionUID，为它赋予明确的值。显式地定义serialVersionUID有两种用途：
1） 在某些场合，希望类的不同版本对序列化兼容，因此需要确保类的不同版本具有相同的serialVersionUID；
2） 在某些场合，不希望类的不同版本对序列化兼容，因此需要确保类的不同版本具有不同的serialVersionUID

把上面的程序改成存在序列化id
public class Test01 {

        public static void main(String[] args) throws Exception{
            //序列化过程, 将一个对象变成字节序类,在网络上传输
            /*UserInfo u1=new UserInfo(1, &quot;张三&quot;, &quot;男&quot;);
            UserInfo u2=new UserInfo(2, &quot;李四&quot;, &quot;女&quot;);

            OutputStream out=new FileOutputStream(&quot;c://my.obj&quot;);
            ObjectOutputStream oopt=new ObjectOutputStream(out);
            oopt.writeObject(u1);
            oopt.writeObject(u2);

            oopt.close();*/

            //反序列化过程, 将一个字节序类变成对象
            InputStream in=new FileInputStream(&quot;c://my.obj&quot;);
            ObjectInputStream oips=new ObjectInputStream(in);
            UserInfo newU1=(UserInfo) oips.readObject();
            UserInfo newU2=(UserInfo) oips.readObject();
            System.out.println(newU1);
            System.out.println(newU2);
        }
    }
    class UserInfo implements Serializable{
        private static final long serialVersionUID = 1L; 
        private int id;
        private String userName;
        private String sex;
        private String phone;
        public UserInfo(int id, String userName, String sex,String phone) {
            this.id = id;
            this.userName = userName;
            this.sex = sex;
            this.phone=phone;
        }
        @Override
        public String toString() {
            return &quot;UserInfo [id=&quot; + id + &quot;, phone=&quot; + phone + &quot;, sex=&quot; + sex
                    + &quot;, userName=&quot; + userName + &quot;]&quot;;
        }
    }
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br></pre></td><td class="code"><pre><span class="line">==========================常见面试题=============================================</span><br><span class="line"><span class="number">1</span>.java中有几种类型的流？JDK为每种类型的流提供了一些抽象类以供继承，请说出他们分别是哪些类？</span><br><span class="line">	字节输入流：InputStream,字节输出流：OutputStream</span><br><span class="line">	字符输入流：Reader，字符输出流：Writer</span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>.什么是java序列化，如何实现java序列化？</span><br><span class="line">	Java对象的序列化指将一个java对象写入IO流中，与此对应的是，对象的反序列化则从IO流中恢复该java对象。</span><br><span class="line">	如果要让某个对象支持序列化机制，则必须让它的类是可序列化的，为了让某个类是可序列化的，该类必须实现Serializable接口或Externalizable接口</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.解释一下java.io.Serializable接口（面试常考）</span><br><span class="line">  类通过实现 java.io.Serializable 接口以启用其序列化功能。未实现此接口的类将无法使其任何状态序列化或反序列化。	</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 读写原始数据，一般采用什么流？（ AC）</span><br><span class="line">   A InputStream</span><br><span class="line">   B DataInputStream  <span class="comment">//读取基本数据类型  数据输出流</span></span><br><span class="line">   C OutputStream</span><br><span class="line">   D BufferedInputStream  </span><br><span class="line"></span><br><span class="line">   <span class="comment">//DataInputStream  DataOutputStream</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. 为了提高读写性能，可以采用什么流？CDF</span><br><span class="line">   A InputStream</span><br><span class="line">   B DataInputStream</span><br><span class="line">   C BufferedReader</span><br><span class="line">   D BufferedInputStream</span><br><span class="line">   E OutputStream</span><br><span class="line">   F BufferedOutputStream</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 对各种基本数据类型和String类型的读写，采用什么流？（AD ）</span><br><span class="line">   A DataInputStream</span><br><span class="line">   B BufferedReader</span><br><span class="line">   C PrintWriter</span><br><span class="line">   D DataOutputStream</span><br><span class="line">   E ObjectInputStream</span><br><span class="line">   F ObjectOutputStream</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. 能指定字符编码的I/O流类型是：（BH）</span><br><span class="line">   A Reader</span><br><span class="line">   B InputStreamReader</span><br><span class="line">   C BufferedReader</span><br><span class="line">   D Writer</span><br><span class="line">   E PrintWriter</span><br><span class="line">   F ObjectInputStream</span><br><span class="line">   G ObjectOutputStream</span><br><span class="line">   H OutputStreamWriter</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. File类型中定义了什么方法来判断一个文件是否存在？（d）</span><br><span class="line">   A createNewFile</span><br><span class="line">   B renameTo</span><br><span class="line">   C delete</span><br><span class="line">   D exists</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>. File类型中定义了什么方法来创建一级目录？（D ）</span><br><span class="line">   A createNewFile</span><br><span class="line">   B exists</span><br><span class="line">   C mkdirs</span><br><span class="line">   D mkdir</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>. 对文本文件操作用什么I/O流？（ABD ）</span><br><span class="line">   A FileReader</span><br><span class="line">   B FileInputStream   </span><br><span class="line">   C RandomAccessFile     <span class="comment">//也是在io包下,但是并不是继承四个抽象,而是继承Object</span></span><br><span class="line">   D FileWriter</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">.可用于获得文件或目录的路径名的是（　A）</span><br><span class="line">   A.File                      B.RandomAccessFile</span><br><span class="line">   C.FileInputStream  D.BufferedReader </span><br><span class="line"><span class="number">2</span>.下面语句的功能是(A  )。</span><br><span class="line">	RandomAccessFile  raf2 = <span class="keyword">new</span> RandomAccessFile(<span class="string">"1.txt"</span>,<span class="string">"rw"</span> ); </span><br><span class="line">A.打开当前目录下的文件<span class="number">1</span>.txt，既可以向文件写数据，也可以从文件读数据。                </span><br><span class="line">B.打开当前目录下的文件<span class="number">1</span>.txt，但只能向文件写入数据，不能从文件读取数据。</span><br><span class="line">C.打开当前目录下的文件<span class="number">1</span>.txt，但不能向文件写入数据，只能从文件读取数据。</span><br><span class="line">D.以上说法都不对。</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 关于BufferedReader类的readLine()方法，以下说法不正确的是（ B ）。</span><br><span class="line">   A.方法readLine()每次读取一行数据。                  </span><br><span class="line">   B.方法readLine()每次读取一个字节。</span><br><span class="line">   C.该方法可能抛出IOException异常，调用该方法时通常应将它放到<span class="keyword">try</span>块中，并通过<span class="keyword">catch</span>块处理异常。</span><br><span class="line">   D.如果读到流的末尾，该方法返回的结果为<span class="keyword">null</span>。</span><br><span class="line"></span><br><span class="line">４.用于关闭流的方法是（C ）</span><br><span class="line">A. read( )    B.flush( )    C. close( )    D.write( )</span><br><span class="line">５.下列哪一个<span class="keyword">import</span>命令可以使我们在程序中创建输入/输出流对象（ C）</span><br><span class="line">A.<span class="keyword">import</span> java.sql.*;			</span><br><span class="line">B.<span class="keyword">import</span> java.util.*;</span><br><span class="line">C.<span class="keyword">import</span> java.io.*;			</span><br><span class="line">D.<span class="keyword">import</span> java.net.*;</span><br><span class="line"></span><br><span class="line">６.字符流与字节流的区别在于（　D　）</span><br><span class="line">A．前者带有缓冲，后者没有</span><br><span class="line">B．前者是块读写，后者是字节读写</span><br><span class="line">C. 二者没有区别，可以互换使用</span><br><span class="line">D. 每次读写的字节数不同</span><br><span class="line">７.随机文件访问是由（　C　）类实现的。</span><br><span class="line">A.File      </span><br><span class="line">B.BufferedInputStream</span><br><span class="line">C.RandomAccessFile  </span><br><span class="line">D.FileWriter</span><br><span class="line"></span><br><span class="line">８.下列流中哪个不属于字节流　　（　 B 　）</span><br><span class="line">A．FileInputStream</span><br><span class="line">B．BufferedInputStream</span><br><span class="line">C. FilterInputStream	</span><br><span class="line">D. InputStreamReader</span><br><span class="line">９.在Java的类库中，包含实现输入/输出操作的包是( B     )</span><br><span class="line">A.java.util	　　　　　　B.java.io</span><br><span class="line">C.java.applet	</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. FilterOutputStream是BufferedOutputStream、DataOutputStream及PrintStream的父类，以下哪个类可能是FilterOutputStream构造函数的参数类型？</span><br><span class="line">   (A )</span><br><span class="line">   .OutputStream	      B.File	</span><br><span class="line">   .InputStream	      D.BufferedOutputStream </span><br><span class="line">   <span class="number">11</span>.下列哪一个<span class="keyword">import</span>命令可以使我们在程序中创建输入/输出流对象（ C）</span><br><span class="line">   .<span class="keyword">import</span> java.sql.*;	B.<span class="keyword">import</span> java.util.*;</span><br><span class="line">   .<span class="keyword">import</span> java.io.*;	D.<span class="keyword">import</span> java.net.*;</span><br><span class="line"></span><br><span class="line"><span class="number">12</span>.如果需要从文件中读取数据，则可以在程序中创建哪一个类的对象（ A）</span><br><span class="line">A.FileInputStream                 B.FileOutputStream </span><br><span class="line">C.DataOutputStream 		D.FileWriter</span><br><span class="line"><span class="number">13</span>.下面的程序段创建了BufferedReader类的对象in，以便读取本机c盘my文件夹下的文件<span class="number">1</span>.txt。File构造函数中正确的路径和文件名的表示是(C  )。</span><br><span class="line">File f = <span class="keyword">new</span> File(填代码处);</span><br><span class="line">file =<span class="keyword">new</span> FileReader(f);</span><br><span class="line">in=<span class="keyword">new</span> BufferedReader(file);</span><br><span class="line">A. <span class="string">"./1.txt"</span>                   B. <span class="string">"../my/1.txt"</span>    </span><br><span class="line">C.<span class="string">"c:\\my\\1.txt"</span>          D. <span class="string">"c:\ my\1.txt"</span> </span><br><span class="line"></span><br><span class="line"><span class="number">14</span>.下面的程序创建了一个文件输出流对象，用来向文件test.txt中输出数据，假设程序当前目录下不存在文件test.txt，编译下面的程序Test.java后</span><br><span class="line">将该程序运行<span class="number">3</span>次，则文件test.txt 的内容是(D  )。</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			String s=<span class="string">"ABCDE"</span>;</span><br><span class="line">			<span class="keyword">byte</span> b[]=s.getBytes();</span><br><span class="line">			FileOutputStream file=<span class="keyword">new</span> FileOutputStream(<span class="string">"test.txt"</span>,<span class="keyword">true</span>);</span><br><span class="line">			file.write(b);            </span><br><span class="line">			file.close();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">			System.out.println(e.toString());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">A.ABCABC   B.ABCDE     C.Test    D.ABCDE ABCDE ABCDE </span><br><span class="line"></span><br><span class="line"><span class="number">15</span>.下面的程序段的功能是( D )。</span><br><span class="line">File file1=<span class="keyword">new</span> File(<span class="string">"d:\\xxx\\yyy\\zzz"</span>);</span><br><span class="line">file1.mkdirs();</span><br><span class="line">A.在当前目录下生成子目录：\xxx\yyy\zzz     </span><br><span class="line">B.生成目录： e:\xxx\yyy\zzz</span><br><span class="line">C.在当前目录下生成文件xxx.yyy.zzz        </span><br><span class="line">D.以上说法都不对 </span><br><span class="line"></span><br><span class="line"><span class="number">16</span>.编译和运行下面的应用程序，并在命令行界面输入<span class="number">12345</span>，则回车后屏幕输出的结果是(  C ).</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        BufferedReader buf=<span class="keyword">new</span> BufferedReader(</span><br><span class="line">                    <span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        String  str=buf.readLine();</span><br><span class="line">        <span class="keyword">int</span>     x=Integer.parseInt(str);</span><br><span class="line">        System.out.println(x/<span class="number">100</span>);         </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line">A. <span class="number">45</span>       B.5       C.123       D. <span class="number">12345</span></span><br><span class="line"></span><br><span class="line"><span class="number">17</span>.下列不是java的输入输出流的是（A  ）</span><br><span class="line">   A. 文本流</span><br><span class="line">   B. 字节流</span><br><span class="line">   C. 字符流</span><br><span class="line">   D. 文件流</span><br><span class="line"></span><br><span class="line"><span class="number">18</span>.获取一个不包含路径的文件名的方法为（A  	）</span><br><span class="line">   A. <span class="function">String <span class="title">getName</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">   B. String <span class="title">getPath</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">   C. String <span class="title">getAbslutePath</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">   D. String <span class="title">getParent</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">19．下列属于文件输入输出类的是（ A）</span></span><br><span class="line"><span class="function">   A. FileInputStream和FileOutputStream</span></span><br><span class="line"><span class="function">   B. BufferInputStream和BufferOutputStream</span></span><br><span class="line"><span class="function">   C. PipedInputStream和PipedOutputStream</span></span><br><span class="line"><span class="function">   D. 以上都是</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">20.下列不属于FileInputStream输入流的read（）成员函数的是（D ）</span></span><br><span class="line"><span class="function">   A. <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>;</span><br><span class="line">   B. <span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span> b[])</span></span>;</span><br><span class="line">   C. <span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span> b[],<span class="keyword">int</span> offset,<span class="keyword">int</span> len)</span></span>;</span><br><span class="line">   D. <span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> line)</span></span>;</span><br><span class="line"><span class="number">21</span>．当处理的数据量很多，或向文件写很多次小数据，一般使用（C ）流</span><br><span class="line">   A. DataOutput</span><br><span class="line">   B. FileOutput</span><br><span class="line">   C. BufferedOutput</span><br><span class="line">   D.PipedOutput</span><br><span class="line"></span><br><span class="line"><span class="number">22</span>.当要将一文本文件当作一个数据库访问，读完一个纪录后，跳到另一个纪录，它们在文件的不同地方时，一般使用（B ）类访问。</span><br><span class="line">   A. FileOutputStream</span><br><span class="line">   B. RandomAccessFile</span><br><span class="line">   C. PipedOutputStream</span><br><span class="line">   D. BufferedOutputStream</span><br><span class="line"><span class="number">23</span>.在JAVA中，要创建一个新目录，要使用（A ）类的实例。</span><br><span class="line">  A.File</span><br><span class="line">  B.FileOutputStrean</span><br><span class="line">  C.PrintWriter</span><br><span class="line">  D.Dir</span><br><span class="line"></span><br><span class="line"><span class="number">24</span>.在JAVA中，要判断D盘下是否存在文件abc.txt,应该使用以下（ C  ）判断语句。</span><br><span class="line">A. <span class="keyword">if</span>(<span class="keyword">new</span> File(“d:abc.txt”) .exists() = =<span class="number">1</span>) </span><br><span class="line">B.<span class="keyword">if</span>(File.exists(“d:abc.txt”) = =<span class="number">1</span>) </span><br><span class="line">C. <span class="keyword">if</span>(<span class="keyword">new</span> File(“d:/abc.txt”) .exists( ) ) </span><br><span class="line">D. <span class="keyword">if</span>(File.exists(“d:/abc.txt)) </span><br><span class="line"></span><br><span class="line"><span class="number">25</span>.给定一个java程序的main方法的代码片段如下：假如d 目录下不存在abc.txt文件，现运行该程序，下面的结果正确的是（   D ）。</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">     PrintWriter   out=<span class="keyword">new</span>  PrintWriter(<span class="keyword">new</span> FileOutputStream(“d:/abc.txt”)) ;</span><br><span class="line">     String  name=”chen”;</span><br><span class="line">     out.print(name) ;</span><br><span class="line">     out.close( ) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(Execption  e) &#123;</span><br><span class="line">      System.out.println(“文件没有发现！“) ；</span><br><span class="line">&#125;</span><br><span class="line">A.将在控制台上打印：“文件没有发现！”</span><br><span class="line">B.正常运行，但没有生成文件abc.txt</span><br><span class="line">C.运行后生成abc.txt ,但该文件中无内容</span><br><span class="line">D.运行后生成abc.txt,该文件内容为：chen</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 在java中，以下代码（A）正确地创建了一个InputStreamReader类型的对象。</span><br><span class="line">   A.new InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"1.dat"</span>)) ;</span><br><span class="line">   B.new InputStreamReader(<span class="keyword">new</span> FileReader(<span class="string">"1.dat"</span>)) ;</span><br><span class="line">   C.new InputStreamReader(<span class="keyword">new</span> BufferedReader(<span class="string">"1.dat"</span>)) ;</span><br><span class="line">   D.new InputStreamReader(<span class="string">"1.dat"</span>) ;</span><br><span class="line">   <span class="number">27</span>.下列选项中属于过滤流FilterInputStream的子类的是（A ）。</span><br><span class="line">   A.DataInputStream</span><br><span class="line">   B.DataOutputStream</span><br><span class="line">   C.PrintStream</span><br><span class="line">   D.BufferedOutputStream</span><br><span class="line"></span><br><span class="line"><span class="number">28</span>.在JAVA中，( D ) 类提供定位本地文件系统，对文件或目录及其属性进行基本操作   </span><br><span class="line"> A. Filelnputstream     B. FileReader     C. Filewriter     D.File </span><br><span class="line">二、填空题</span><br><span class="line"><span class="number">1</span>.FileInputStream是字节流；BufferedWriter是字符流；ObjectOutputStream是 __对象输出______流     。   </span><br><span class="line"><span class="number">2</span>.java的输入输出流包括___字节流____、字符流、文件流、对象流以及多线程之间通信的管道。</span><br><span class="line"><span class="number">3</span>.java中的非字符输出流都是____OutputStream____抽象类的子类。</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. java中的字符输入流都是抽象类___ Reader_____的子类，字符输出流都是抽象类___ Writer_____的子类。</span><br><span class="line"><span class="number">2</span>. DataOutputStream数据流向文件里写数据的方法为___Write()_______.</span><br><span class="line"><span class="number">3</span>. 文件类___ File ____是java.io中的一个重要的非流类,里面封装了对文件系统进行操作的功能.</span><br><span class="line"><span class="number">4</span>. 文件操作中经常需要的是随机访问, java中的_  RandomAccessFile______类提供了随机访问文件的功能.</span><br><span class="line">   <span class="number">8</span>.判断File对象所表示的文件是否可写的方法是（ canReader  ），判断File对象所表示的文件是否可读的方法是（canWriter  ）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">选择题：</span><br><span class="line"><span class="number">1</span>。下面程序段执行完毕后，cont的值是（ C ）</span><br><span class="line">String strings[ ]=&#123;<span class="string">"string"</span>,<span class="string">"starting"</span>,<span class="string">"strong"</span>,<span class="string">"street"</span>,<span class="string">"soft"</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> cont=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strings.length;i++)</span><br><span class="line">   <span class="keyword">if</span>(strings[i].endsWith(<span class="string">"ng"</span>))</span><br><span class="line">       cont++;</span><br><span class="line">A. <span class="number">1</span>      B. <span class="number">2</span>     C.3      D.4</span><br><span class="line"><span class="number">2</span>.定义字符串：String str=“abcdefg”；则str.indexOf（‘d’）的结果是（  C）</span><br><span class="line">A）<span class="string">'d'</span>          B) <span class="keyword">true</span>        C)  <span class="number">3</span>          D) <span class="number">4</span></span><br><span class="line"><span class="number">3</span>。定义变量b：<span class="keyword">boolean</span> b=<span class="keyword">true</span>；则String.valueOf（b）的类型是（  B ）</span><br><span class="line">A）<span class="keyword">boolean</span>          B) String        C)  <span class="keyword">false</span>          D)  <span class="keyword">int</span></span><br><span class="line"><span class="number">4</span>。下面程序段输出的结果是（A  ）</span><br><span class="line">  StringBuffer buf1;</span><br><span class="line">  String str=”北京<span class="number">2008</span>”;</span><br><span class="line">buf1=<span class="keyword">new</span> StringBuffer(str);</span><br><span class="line">System.out.println(buf1.charAt(<span class="number">2</span>));</span><br><span class="line">A. <span class="number">2</span>      B. 京     C0     D.<span class="keyword">null</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 下面程序段输出的结果是（D  ）</span><br><span class="line"></span><br><span class="line">A) ABCDEF     B)  ABFDE    C) ABCDE    D)  ABCD</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二 填空题。</span><br><span class="line"><span class="number">1</span>定义数组：<span class="keyword">char</span> charArray[]=&#123;‘a’,’b’,’c’,’d’,’e’,’f’&#125;;则String.valueOf(charArray,<span class="number">2</span>,<span class="number">3</span>)的 结果是___cde________           。</span><br><span class="line"><span class="number">2</span>．下面语句序列输出结果是________pro______           。</span><br><span class="line"> String s=<span class="keyword">new</span> String(“java program!”);</span><br><span class="line">System.out.println(s.substring(<span class="number">5</span>,<span class="number">8</span>));</span><br><span class="line"><span class="number">3</span>.下面语句输出结果是____________1234abcdef5___                     。</span><br><span class="line"><span class="keyword">char</span> charArray[]=&#123;‘a’,’b’,’c’,’d’,’e’,’f’&#125;;</span><br><span class="line">StringBuffer buf1;</span><br><span class="line">String str=”<span class="number">12345</span>”;</span><br><span class="line">buf1=<span class="keyword">new</span> StringBuffer(str);</span><br><span class="line">buf1.insert(<span class="number">4</span>,charArray);</span><br><span class="line">System.out.println(buf1.toString());</span><br><span class="line"><span class="number">4</span>.如有以下赋值语句：x=<span class="keyword">new</span> StringBuffer().append(“a”).append(<span class="number">4</span>). append(“c”).toString;  x的类型是____String_______  ；它的值是_____a4c_____。</span><br><span class="line"><span class="number">5</span>．下面程序的功能是统计以“st”开头的字符串有多少个，完成下面程序填空。</span><br><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Class1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  String strings[]=&#123;“string”,”starting”,”strong”,”street”,”soft”&#125;;</span><br><span class="line">  <span class="keyword">int</span> cont=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt; strings.length ;i++)&#123;</span><br><span class="line">		</span><br><span class="line">  &#125;</span><br><span class="line">   System.out.println(cont);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十六天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十六天/" class="post-title-link" itemprop="url">java的IO流</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:25:08" itemprop="dateCreated datePublished" datetime="2019-08-02T19:25:08+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:45:43" itemprop="dateModified" datetime="2019-08-04T12:45:43+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-IO流的概述"><a href="#1-IO流的概述" class="headerlink" title="1 IO流的概述"></a>1 IO流的概述</h1><p>​        </p>
<pre><code>---什么是IO   (Input  Output)  输入输出
---什么是流:流是一组有顺序,有起点,有终点的字节集合,是对数据传输的抽象描述,它的特征是进行数据传输,比如文件流,网络流
---与文件的区别:文件是数据的静态存储方式,而流是数据在传输过程中的一种形态

其实io流就是以流的形式进行输入和输出

java对数据的操作都是以流的方式进行的
java对流操作的对象都在IO包下

流按照数据类型分为两种
          ---输入流
--字节流
          ---输出流

          ---输入流 
--字符流
          ---输出流

两者的区别就是读写的时候一个是按字节读写，一个是按字符。

在java中io流,共分为四个抽象类

          ---输入流  InputStream
--字节流
          ---输出流  OutputStream

          ---输入流  Reader
--字符流
          ---输出流  Writer

其他所有的IO操作的类都是由它们派生出去的
凡事属于字节流的, 都是以InputStream或者OutputStream为结尾的,比如 FileInputStream,FileOutputStream
凡事属于字符流的, 都是以Reader或者Writer为结尾的,比如:FileReader FileWriter
</code></pre><h1 id="2-字符流-输出流"><a href="#2-字符流-输出流" class="headerlink" title="2 字符流 输出流"></a>2 字符流 输出流</h1><p>​        </p>
<pre><code>字符流:是以字符为单位进行处理的io流,本质其实都是基于字节流进行读取的,然后去查询码表执行字符

 字符流的结构(只以输出流为例)
 Writer  
        --BufferedWriter  //缓冲流
        --CharArrayWriter
        --FileWriter
        --OutputStreamWriter  //转换流
        --FilterWriter  //过滤流
        --PipedWriter  //管道流
        --StringWriter

    public class Test02{
        public static void main(String[] args) throws Exception {
            writeFile();
            writeFileTrue();
        }
        public static void writeFile() throws Exception{
            Writer wr=new FileWriter(&quot;c:\\1.txt&quot;); //创建一个输出流对象
            wr.write(&quot;这是一行文本&quot;);  
            wr.write(&quot;\r\n&quot;);
            wr.write(&quot;这个第二行文本&quot;); //注意,每一次都会清空文件中的内容
            //wr.flush();  //刷新缓冲区,写入磁盘,缓冲区的目的,是为了加快操作速度
            wr.close();  //使用完这种系统资源,一定要关闭,隐含刷新缓冲区

        }
        public static void writeFileTrue() throws Exception{
            Writer wr=new FileWriter(&quot;c:\\1.txt&quot;, true); //追加方式
            wr.write(&quot;\r\n&quot;);
            wr.write(&quot;这是追加的方式&quot;);
            wr.flush();
            wr.close();
        }
    }

    //标准的io处理异常
    public static void main(String[] args) {
        List&lt;String&gt; nameList=new ArrayList&lt;String&gt;();
        nameList.add(&quot;张三&quot;);
        nameList.add(&quot;李四&quot;);
        nameList.add(&quot;王五&quot;);
        nameList.add(&quot;麻子&quot;);
        Writer wr=null;
        try {
            wr=new FileWriter(&quot;1.txt&quot;);
            for(String name:nameList){
                wr.write(name);
                wr.write(&quot;\r\n&quot;);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }finally{
            if(wr!=null){
                try {
                    wr.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }
</code></pre><h1 id="3-字符流-输入流"><a href="#3-字符流-输入流" class="headerlink" title="3 字符流 输入流"></a>3 字符流 输入流</h1><p>​            </p>
<pre><code>Reader   --FileReader()

三个方法
int read()  读取单字符  //返回值int代表这个字符的编码值,如果读到末尾,返回-1
int read(char[] buff)  //将字符读入到数组中,如果读到末尾,返回-1,返回值代表读了多少个字符
int read(char[] cbuf, int off, int len)  //将字符读入数组的某一部分。可以控制取文本中的多少个字符
</code></pre><p>​<br>            //例子 一个字符一个字符的去读<br>            public static void main(String[] args) {<br>                Reader r=null;<br>                try {<br>                    r=new FileReader(“1.txt”);<br>                    int ch=0;<br>                    while((ch=r.read())!=-1){<br>                        System.out.println((char)ch);<br>                    }<br>                } catch (Exception e) {<br>                    e.printStackTrace();<br>                }finally{<br>                    if(r!=null){<br>                        try {<br>                            r.close();<br>                        } catch (IOException e) {<br>                            e.printStackTrace();<br>                        }<br>                    }<br>                }<br>            }</p>
<pre><code>    //例子
    public static void main(String[] args) {
        Reader r=null;
        try {
            r=new FileReader(&quot;1.txt&quot;);
            char[] cbuf=new char[1024];
            int len=0;  //len 代表每次读取多少个有效字符长度
            while((len=r.read(cbuf))!=-1){  //把读取的内容会放入数组中
                System.out.println(new String(cbuf, 0, len));
            }
        } catch (Exception e) {
            e.printStackTrace();
        }finally{
            if(r!=null){
                try {
                    r.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }

    //例子
    r=new FileReader(&quot;1.txt&quot;);
    char[] cbuf=new char[1024];
    int len=0;
    len=r.read(cbuf, 0, 1);  //最后的参数代表字符的长度
    System.out.println(len);
    System.out.println(new String(cbuf, 0, len)); //取的是一个字符

//例子 写一个复制,用int read(char[] buff)方式
    public static void main(String[] args) {
            Writer wr=null;
            Reader r=null;
            try {
                wr=new FileWriter(&quot;2.txt&quot;);
                r=new FileReader(&quot;1.txt&quot;);
                char[] cbuf=new char[1024];
                int len=0;
                while((len=r.read(cbuf))!=-1){
                    wr.write(cbuf, 0, len);
                }
            } catch (IOException e) {
                e.printStackTrace();
            }finally{
                if(wr!=null){
                    try {
                        wr.close();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
                if(r!=null){
                    try {
                        r.close();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            }

        }
</code></pre><p>​<br>            public static void main(String[] args) {<br>                Writer wr=null;<br>                Reader r=null;<br>                try {<br>                    wr=new FileWriter(“2.txt”);<br>                    r=new FileReader(“1.txt”);<br>                    int len=0;<br>                    while((len=r.read())!=-1){<br>                        wr.write(len);//或者wr.write((char)len);<br>                    }<br>                } catch (IOException e) {<br>                    e.printStackTrace();<br>                }finally{<br>                    if(wr!=null){<br>                        try {<br>                            wr.close();<br>                        } catch (IOException e) {<br>                            e.printStackTrace();<br>                        }<br>                    }<br>                    if(r!=null){<br>                        try {<br>                            r.close();<br>                        } catch (IOException e) {<br>                            e.printStackTrace();<br>                        }<br>                    }<br>                }</p>
<pre><code>}
</code></pre><p>​            </p>
<h1 id="4-缓冲流和装饰模式"><a href="#4-缓冲流和装饰模式" class="headerlink" title="4 缓冲流和装饰模式"></a>4 缓冲流和装饰模式</h1><pre><code>//传统模式
interface A{
    public void a1();
    public void a2();
    public void a3();
    .......100
}
class B 实现  A{
    public void a1{

    }
    public void a2{

    }
    public void a3
        System.out.println(&quot;........&quot;);
    }
}

//适配器模式
interface A{
    public void a1();
    public void a2();
    public void a3();
    .......100
}
class Temp 实现 A{
    public void a1{

    }
    public void a2{

    }
    public void a3(){

    }
}

class B extends Temp{
    public void a3(){
        System.out.println(&quot;........&quot;);
    }
}
//将来所有类都可以继承Temp,就可以选择性的完成某些方法
</code></pre><p>​<br>            //装饰模式  包装模式<br>            装饰设计模式：动态将职责附加到对象上，<br>            若要扩展功能，装饰者提供了比继承更具弹性的代替方案<br>            当要对已有的对象进行功能增强时，可以定义类，将已有对象传入，<br>            基于已有对象的功能，并提供加强功能。那么自定义的该类就称为装饰类。<br>            装饰类通常会通过构造方法接收被装饰的对象，并基于被装饰的对象的功能，提供更强的功能<br>            public class Test01 {</p>
<pre><code>            public static void main(String[] args) {
                Japan j=new Japan();
                增强Japan qj=new 增强Japan(j);
                qj.speak();
            }

        }
        class Japan{
            void speak(){
                System.out.println(&quot;我地,小日本的干活&quot;);
            }
        }
        class 增强Japan{
            private Japan j;
            public 增强Japan(Japan j){
                this.j=j;
            }
            void speak(){
                System.out.println(&quot;我是好人&quot;);
                j.speak();
                System.out.println(&quot;晃荡脑袋一下&quot;);
                System.out.println(&quot;摇摇手&quot;);
            }
        }

/*缓冲流是一个包装类，也就是用包装模式设计的，
缓冲流的出现提高了对数据读写的效率

其中分为字符缓冲流和字节缓冲流
BufferedReader, BufferedWriter
用来对流进行包装
在流的基础上对流的功能进行了增强*/ 

 BufferedReader : 从字符输入流中读取文本，缓冲各个字符，从而实现字符、数组和行的高效读取
        构造函数有两个:
        ---- BufferedReader(Reader in)         
        ---- BufferedReader(Reader in, int sz) 创建一个使用默认大小输入缓冲区的缓冲字符输入流。

 BufferedWriter    ：将文本写入字符输出流，缓冲各个字符，从而提供单个字符、数组和字符串的高效写入。
        构造函数有两个:
        ---- BufferedWriter(Writer out)  创建一个使用默认大小输出缓冲区的缓冲字符输出流。 
        ---- BufferedWriter(Writer out, int sz) 创建一个使用给定大小输出缓冲区的新缓冲字符输出流。

//BufferedWriter
FileWriter w=new FileWriter(&quot;2.txt&quot;);
BufferedWriter bw=new BufferedWriter(w);
bw.write(&quot;这是一行内容&quot;);
bw.newLine();
bw.write(&quot;这是一行内容&quot;);
bw.flush();  //不要忘记刷新
bw.close();  //关闭包装类,被包装的也相当于关闭了

//BufferedReader
    public static void main(String[] args) throws Exception {
        List&lt;String&gt; nameList=test();
        for(String name:nameList){
            System.out.println(name);
        }
    }
    public static List&lt;String&gt; test() throws Exception{
        List&lt;String&gt; nameList=new ArrayList&lt;String&gt;();
        FileReader r=new FileReader(&quot;1.txt&quot;);
        BufferedReader br=new BufferedReader(r);
        String str=&quot;&quot;;
        while((str=br.readLine())!=null){
            nameList.add(str);
        }
        br.close();
        return nameList;
    }
</code></pre><p>​            </p>
<h1 id="5-字节流概述"><a href="#5-字节流概述" class="headerlink" title="5 字节流概述"></a>5 字节流概述</h1><p>​            </p>
<pre><code>   字节流：InputStream和OutputStream是java中可以按照最小字节单位读取的流，
           即每次读写一个字节。

   字节流与字符流之间的区别：
       1.读写单位不同：字节流是以字节（8位2进制）为单位，字符流是以字符为单位，
                       根据码表映射字符，一次可能读多个字节。
       2.处理对象不同：字节流能处理所有类型的数据（如图片、avi等），而字符流只能处理字符类型的数据。
       3.一次读入或读出是8位二进制。
       4.字符流：一次读入或读出是16位或者更多二进制。

       结论：只要是纯文本数据优先使用字符流，除此之外都使用字节流。

 ----所有字节输入流类都是抽象类InputStream的子类
       int read() 从源中读取一个字节的数据，返回字节值
       int read(byte b[])从源中试图读取b.length个字节到b中，返回实际读取的字节数。
       int read(byte[] b, int off, int len)  从此输入流中将最多 len 个字节的数据读入一个 byte 数组中。
       void close()关闭输入流

----所有字节输出流类都是抽象类OutputStream的子类
       void write(int n) 向输出流写入单个字节。
       void write(byte b[])向输出流写入一个字节数组
       void write(byte[] b,  int off,  int len)
       void flush()把缓冲区中内容输出并清空缓冲区（刷新）
       void close()关闭输出流

   //例子
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;c://xiaoji.jpg&quot;);
       OutputStream out=new FileOutputStream(&quot;c://newxiaoji.gif&quot;);
       int b=0;
       while((b=in.read())!=-1){
           out.write(b);
       }
       out.close();
       in.close();
   }
   //也可以操作字符文件
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;1.txt&quot;);
       OutputStream out=new FileOutputStream(&quot;2.txt&quot;);
       out.write(&quot;我是捣乱的&quot;.getBytes(&quot;utf-8&quot;)); //按照什么方式进行转码
       int b=0;
       while((b=in.read())!=-1){
           out.write(b);
       }
       out.close();
       in.close();
   }

   //使用 read(byte b[])
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;c://huluobo.JPG&quot;);
       OutputStream out=new FileOutputStream(&quot;c://hlb.gif&quot;);
       int b=0;
       byte[] bbuf=new byte[1024];
       while((b=in.read(bbuf))!=-1){  //一勺一勺去读,速度快
           out.write(bbuf, 0, b);
       }
       out.close();
       in.close();
   }

   //使用avaliable()进行
   public static void main(String[] args) throws Exception {
       InputStream in=new FileInputStream(&quot;c://huluobo.JPG&quot;);
       //System.out.println(in.available());  //会得到文件的字节数,适合用与小文件,大文件会很慢
       OutputStream out=new FileOutputStream(&quot;c://hlb.gif&quot;);
       byte[] bbuf=new byte[in.available()];
       out.write(bbuf);
       out.close();
       in.close();
   }

   //图片的复制 ,使用标准的异常处理
   public static void main(String[] args){
       InputStream in=null;
       OutputStream out=null;
       try {
           in=new FileInputStream(&quot;c://xiaoji.jpg&quot;);
           out=new FileOutputStream(&quot;c://xiaoji11.jpg&quot;);
           byte[] buf=new byte[1024];
           int len=0;
           while((len=in.read(buf))!=-1){
               out.write(buf, 0, len);
           }
       } catch (Exception e) {
           e.printStackTrace();
       }finally{
           if(in!=null){
               try {
                   in.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
           if(out!=null){
               try {
                   out.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
       }
   }

   前面,字符流有包装流
   BufferedReader  BufferedWriter
   字节流,也有包装流
   BufferedInputStream BufferedOutputStream

   public static void main(String[] args){
       long start=System.currentTimeMillis();
       InputStream in=null;
       OutputStream out=null;
       BufferedInputStream bis=null;
       BufferedOutputStream bos=null;
       try {
           in=new FileInputStream(&quot;c://当幸福来敲门.MP4&quot;);
           out=new FileOutputStream(&quot;c://dxflqm.wmv&quot;);
           bis=new BufferedInputStream(in);
           bos=new BufferedOutputStream(out);
           byte[] buf=new byte[1024];
           int len=0;
           while((len=bis.read(buf))!=-1){
               bos.write(buf, 0, len);
           }
       } catch (Exception e) {
           e.printStackTrace();
       }finally{
           if(bos!=null){
               try {
                   bos.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
           if(bis!=null){
               try {
                   bis.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
           long end=System.currentTimeMillis();
           System.out.println(end-start);  //63984
       }
   }
</code></pre><h1 id="6-转换流"><a href="#6-转换流" class="headerlink" title="6 转换流"></a>6 转换流</h1><p>​        </p>
<pre><code>InputStreamReader
        public class InputStreamReader extends Reader

         它有四个构造函数:
            InputStreamReader(InputStream in) 
            InputStreamReader(InputStream in, Charset cs) //读取字节并按照指定类型变成字符
            InputStreamReader(InputStream in, CharsetDecoder dec)  //CharsetDecoder 解码器（实质还是指定字符集
            InputStreamReader(InputStream in, String charsetName) 

OutputStreamWriter
        public class OutputStreamWriter extends Writer

          它有四个构造函数:
            OutputStreamWriter(OutputStream out) //创建使用默认字符编码的 OutputStreamWriter。 
            OutputStreamWriter(OutputStream out, Charset cs) // 创建使用给定字符集的 OutputStreamWriter。 
            OutputStreamWriter(OutputStream out, CharsetDecoder dec) // 创建使用给定字符集编码器的 OutputStreamWriter。 
            OutputStreamWriter(OutputStream out, String charsetName) // 创建使用指定字符集名称的 OutputStreamWriter。  

        //例子
        public static void main(String[] args) throws Exception{
            InputStream in=new FileInputStream(&quot;1.txt&quot;);  //使用这种方式,不要试图操作二进制文件,如图片等,会损坏文件
            InputStreamReader isr=new InputStreamReader(in);
            BufferedReader br=new BufferedReader(isr);
            String str=&quot;&quot;;
            while((str=br.readLine())!=null){
                System.out.println(str);
            }
            br.close();
        }

        //例子 从键盘录入一些数据,把数据变成大写的输出出来
        public static void main(String[] args) throws Exception{
            BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
            String str=&quot;&quot;;
            while((str=br.readLine())!=null){
                System.out.println(str.toUpperCase());
            }
            br.close();
        }

        public class Test01 {
                public static void main(String[] args) throws Exception{
                    Scan s=new Scan(System.in);
                    System.out.println(s.readLine());
                    s.close();
                }

            }
            class Scan{
                private InputStream in;
                public BufferedReader br;
                public Scan(InputStream in){
                    this.in=in;
                }
                public String readLine() throws Exception{
                    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
                    return br.readLine();
                }
                public void close(){
                    if(br!=null){
                        try {
                            br.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                }
            }
</code></pre><p>​        </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十五天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十五天/" class="post-title-link" itemprop="url">java多线程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:14:06" itemprop="dateCreated datePublished" datetime="2019-08-02T19:14:06+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:47:17" itemprop="dateModified" datetime="2019-08-04T12:47:17+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-进程和线程"><a href="#1-进程和线程" class="headerlink" title="1 进程和线程"></a>1 进程和线程</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进程:一个在内存中运行的程序,它有自己的独立内存空间</span><br><span class="line">线程:存在进程中,是一个进程中的一条执行线索,同一个进行中可以有一个或者多个线程,线程是可以并发运行</span><br></pre></td></tr></table></figure>
<p>​        </p>
<h1 id="2-用-Thread类创建线程"><a href="#2-用-Thread类创建线程" class="headerlink" title="2 用 Thread类创建线程"></a>2 用 Thread类创建线程</h1><p>​         1) 设计一个类,用来继承Thread类 ,此类是java.lang下的<br>         2) 重写里面的run()方法<br>         3) 创建这个类的对象,就是线程对象<br>         4) 调用start()方法启动当前线程,start方法有两层含义,一层是启动线程,一层是调用线程中的run方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		格挡 gd=<span class="keyword">new</span> 格挡();</span><br><span class="line">		gd.start();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50</span>;i++)&#123;</span><br><span class="line">			Thread.sleep(<span class="number">5</span>);<span class="comment">//目的是让主线程执行到此位置,睡眠1毫秒,此时要释放cup</span></span><br><span class="line">			System.out.println(<span class="string">"--&gt;  --&gt;  --&gt;"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">			&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> 格挡 <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50</span>;i++)&#123;</span><br><span class="line">			<span class="comment">//此位置不能声明抛异常,原因是run方法父类没有抛,子类不允许</span></span><br><span class="line">			<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">1</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;e.printStackTrace();&#125;<span class="comment">//目的是让子线程执行到此位置,睡眠1毫秒,此时要释放cup</span></span><br><span class="line">			System.out.println(<span class="string">"--&gt;(  --&gt;(  --&gt;("</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 线程的简单实例</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			MyThread t=<span class="keyword">new</span> MyThread();</span><br><span class="line">			t.start();</span><br><span class="line">			Thread.sleep(<span class="number">100</span>);</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				Thread.currentThread().setName(<span class="string">"B"</span>);<span class="comment">//设置名字  Thread.currentThread()是得到当前线程</span></span><br><span class="line">				System.out.println(Thread.currentThread().getName()+<span class="string">"--我是主线程"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					Thread.sleep(<span class="number">1</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				setName(<span class="string">"A"</span>);</span><br><span class="line">				System.out.println(getName()+<span class="string">"--我是多线程"</span>);<span class="comment">//setName("A")和getName()是Thread类继承过来的</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//例子 需求:启动6个线程,5个子线程,一个主线程</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			MyThread t=<span class="keyword">new</span> MyThread();</span><br><span class="line">			t.start();</span><br><span class="line">			t.start();</span><br><span class="line">			t.start();</span><br><span class="line">			t.start();</span><br><span class="line">			t.start();</span><br><span class="line">			<span class="comment">//不可以这样启动多个线程,会抛异常java.lang.IllegalThreadStateException  线程状态非法异常</span></span><br><span class="line">			<span class="comment">//不可以让一个线程start多次,</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"我是子线程"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	修改</span><br><span class="line">		<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				MyThread t1=<span class="keyword">new</span> MyThread(<span class="string">"线程1"</span>);</span><br><span class="line">				MyThread t2=<span class="keyword">new</span> MyThread(<span class="string">"线程2"</span>);</span><br><span class="line">				MyThread t3=<span class="keyword">new</span> MyThread(<span class="string">"线程3"</span>);</span><br><span class="line">				MyThread t4=<span class="keyword">new</span> MyThread(<span class="string">"线程4"</span>);</span><br><span class="line">				MyThread t5=<span class="keyword">new</span> MyThread(<span class="string">"线程5"</span>);</span><br><span class="line">				t1.start();</span><br><span class="line">				t2.start();</span><br><span class="line">				t3.start();</span><br><span class="line">				t4.start();</span><br><span class="line">				t5.start();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">			<span class="comment">//private String name;</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">				<span class="comment">//setName(name);</span></span><br><span class="line">				<span class="comment">//this.name=name;</span></span><br><span class="line">				<span class="keyword">super</span>(name);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				System.out.println(getName()+<span class="string">"--我是子线程"</span>);</span><br><span class="line">				<span class="comment">//System.out.println(name+"--我是子线程");</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-线程的状态"><a href="#3-线程的状态" class="headerlink" title="3 线程的状态"></a>3 线程的状态</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">	线程从创建、运行到结束总是处于下面五个状态之一：新建状态、就绪状态、运行状态、阻塞状态及死亡状态。</span><br><span class="line">	新建状态----&gt; 就绪状态</span><br><span class="line">				 /		\</span><br><span class="line">				/		 \</span><br><span class="line">			   阻塞&lt;---运行状态---&gt;死亡状态</span><br><span class="line">			   </span><br><span class="line"><span class="number">1</span>.新建状态(New)： </span><br><span class="line">    当用<span class="keyword">new</span>操作符创建一个线程时， 例如<span class="keyword">new</span> MyThread(<span class="string">"我是线程"</span>);线程还没有开始运行，此时线程处在新建状态。</span><br><span class="line"></span><br><span class="line"> <span class="number">2</span>.就绪状态(Runnable)</span><br><span class="line"></span><br><span class="line">    一个新创建的线程并不自动开始运行，要执行线程，必须调用线程的start()方法。</span><br><span class="line">	当线程对象调用start()方法即启动了线程，start()方法创建线程运行的系统资源，并调度线程运行run()方法。</span><br><span class="line">    处于就绪状态的线程并不一定立即运行run()方法，线程还必须同其他线程竞争CPU时间，只有获得CPU时间才可以运行线程。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.运行状态(Running)</span><br><span class="line"></span><br><span class="line">    当线程获得CPU时间后，它才进入运行状态，真正开始执行run()方法.</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.阻塞状态(Blocked)</span><br><span class="line">	所谓阻塞状态是正在运行的线程没有运行结束，暂时让出CPU，这时其他处于就绪状态的线程就可以获得CPU时间，进入运行状态。</span><br><span class="line">	如果一个线程执行了sleep（睡眠）、suspend（挂起 ）等方法，失去所占用资源之后，</span><br><span class="line">	该线程就从运行状态进入阻塞状态。在睡眠时间已到或获得设备资源后可以重新进入就绪状态。</span><br><span class="line">	</span><br><span class="line">	Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">	String str=scan.next();</span><br><span class="line">	</span><br><span class="line">	可以分为三种：</span><br><span class="line">	等待阻塞：运行状态中的线程执行 wait() 方法，使线程进入到等待阻塞状态。</span><br><span class="line">	同步阻塞：线程在获取 <span class="keyword">synchronized</span> 同步锁失败(因为同步锁被其他线程占用)。</span><br><span class="line">	其他阻塞：通过调用线程的 sleep() 或 join()、suspend() 发出了 I/O 请求时，线程就会进入到阻塞状态。</span><br><span class="line">			  当sleep() 状态超时，join() 等待线程终止或超时，或者 I/O 处理完毕，线程重新转入就绪状态。</span><br><span class="line">			  </span><br><span class="line">	其中，sleep()：释放CPU执行权，等待指定时间后自己醒来。不会释放所持有对象的锁。</span><br><span class="line">		  join()：释放CPU执行权，等待被调用join方法的线程结束才继续执行本线程下面的操作。不会释放所持有对象的锁。</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">		  Suspend()用于挂起线程，Resume()用于继续执行已经挂起的线程  !!!!!!!</span><br><span class="line">		  </span><br><span class="line"><span class="number">5</span>.死亡状态(Dead)</span><br><span class="line"></span><br><span class="line">    有以下几个原因会导致线程死亡：</span><br><span class="line">    <span class="number">1</span>) run方法正常退出而自然死亡，</span><br><span class="line">    <span class="number">2</span>) 一个未捕获的异常终止了run方法而使线程猝死。</span><br><span class="line">	<span class="number">3</span>) 调用其 stop() 方法  <span class="comment">//stop过时,不安全,容易引起死锁</span></span><br><span class="line">	</span><br><span class="line">	Suspend():已过时,弃用</span><br><span class="line">	Resume():已过时,弃用</span><br><span class="line">	stop():已过时,弃用</span><br><span class="line">	</span><br><span class="line">	面试题:<span class="number">1</span>.sleep()和wait()区别?</span><br><span class="line">			 sleep()遇到的时候,会放弃cpu的执行权,不会放弃锁,wait()会放弃cpu的执行权,会放弃锁</span><br><span class="line">		   <span class="number">2</span>.sleep()和yield区别?</span><br><span class="line">			 </span><br><span class="line">		 <span class="number">1</span>) sleep是Thread类的一个静态方法，该方法会让当前正在 执行的线程暂停指定的时间，从而将执行机会让给其他线程执行。</span><br><span class="line">			 经过这段阻塞时间后，该线程会进入就绪状态，再次等候cpu的执行</span><br><span class="line">		</span><br><span class="line">		 <span class="number">2</span>) yield方法只会给优先级相同或更高优先级的线程执行机会。yield不会将线程转入阻塞状态，只是强制当前线程进入就绪状态。</span><br><span class="line">			 通俗地说 yield()方法只是把线程的状态由执行状态打回就绪状态，所以有可能直接被再次执行到 </span><br><span class="line">		</span><br><span class="line">			<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">					MyThread t1=<span class="keyword">new</span> MyThread(<span class="string">"A"</span>);</span><br><span class="line">					MyThread t2=<span class="keyword">new</span> MyThread(<span class="string">"B"</span>);</span><br><span class="line">					t1.start();</span><br><span class="line">					t2.start();</span><br><span class="line">					</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">					setName(name);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5000</span>;i++)&#123;</span><br><span class="line">						System.out.println(getName()+<span class="string">":子线程运行--&gt;"</span>+i);</span><br><span class="line">						<span class="keyword">if</span>(i==<span class="number">20</span>)&#123;</span><br><span class="line">							Thread.yield();<span class="comment">//你们可以试试,正常情况A线程yield之后,可能又抢到执行权,在继续执行</span></span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		Java 中的线程优先级是在 Thread 类中定义的常量（<span class="number">1</span>-<span class="number">10</span>整数表示）</span><br><span class="line">			NORM_PRIORITY : 值为 <span class="number">5</span>   </span><br><span class="line">			MAX_PRIORITY : 值为 <span class="number">10</span></span><br><span class="line">			MIN_PRIORITY : 值为 <span class="number">1</span></span><br><span class="line">			默认的优先级为 NORM_PRIORITY  </span><br><span class="line">			有关优先级的方法有两个：</span><br><span class="line">			<span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">setPriority</span><span class="params">(<span class="keyword">int</span> newp)</span> : 修改线程的当前优先级</span></span><br><span class="line"><span class="function">			<span class="keyword">final</span> <span class="keyword">int</span> <span class="title">getPriority</span><span class="params">()</span> : 返回线程的优先级</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		MyThread t1=<span class="keyword">new</span> MyThread(<span class="string">"A"</span>);</span><br><span class="line">		MyThread t2=<span class="keyword">new</span> MyThread(<span class="string">"B"</span>);</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.setPriority(<span class="number">1</span>);  <span class="comment">//此时效果就是A一致执行下去,就算遇到yield,也会重新在抢夺上</span></span><br><span class="line">		t2.start();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		setName(name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5000</span>;i++)&#123;</span><br><span class="line">			System.out.println(getName()+<span class="string">":子线程运行--&gt;"</span>+i);</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">20</span>)&#123;</span><br><span class="line">				Thread.yield();<span class="comment">//你们可以试试,正常情况A线程yield之后,可能又抢到执行权,在继续执行</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​            </p>
<h1 id="4-售票程序"><a href="#4-售票程序" class="headerlink" title="4 售票程序"></a>4 售票程序</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需求:比如说哈尔滨5个车站,同时售票买哈尔滨到北京,100张票</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				MyThread t1=<span class="keyword">new</span> MyThread(<span class="string">"A"</span>);</span><br><span class="line">				MyThread t2=<span class="keyword">new</span> MyThread(<span class="string">"B"</span>);</span><br><span class="line">				MyThread t3=<span class="keyword">new</span> MyThread(<span class="string">"C"</span>);</span><br><span class="line">				MyThread t4=<span class="keyword">new</span> MyThread(<span class="string">"D"</span>);</span><br><span class="line">				MyThread t5=<span class="keyword">new</span> MyThread(<span class="string">"E"</span>);</span><br><span class="line">				t1.start();</span><br><span class="line">				t2.start();</span><br><span class="line">				t3.start();</span><br><span class="line">				t4.start();</span><br><span class="line">				t5.start();</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">			<span class="keyword">static</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">				setName(name);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							Thread.sleep(<span class="number">10</span>);</span><br><span class="line">						&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">						System.out.println(<span class="string">"车站:"</span>+getName()+<span class="string">"正在卖第"</span>+ticket--+<span class="string">"张"</span>);</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">运行发现:会出现负数的情况,原因是因为当一个线程执行进入<span class="keyword">if</span>中时,其他线程也可能进入到<span class="keyword">if</span>中了,然后第一个线程</span><br><span class="line">		 就执行了自减操作,然后其他线程也会执行自减操作,但是此时可能就会存在负数情况</span><br><span class="line">		 </span><br><span class="line">解决:</span><br><span class="line">方案:同步代码块</span><br><span class="line">	<span class="keyword">synchronized</span>(同步对象)&#123;</span><br><span class="line">		需要同步的代码  <span class="comment">//具有原子性</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	同步对象就是java中某个类的对象,每一个对象都有且只有一个同步锁</span><br><span class="line">	持有锁的线程就会进入同步代码块中</span><br><span class="line">	没有持有锁的线程即使获得cpu的执行权,也进不去</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				MyThread t1=<span class="keyword">new</span> MyThread(<span class="string">"A"</span>);</span><br><span class="line">				MyThread t2=<span class="keyword">new</span> MyThread(<span class="string">"B"</span>);</span><br><span class="line">				MyThread t3=<span class="keyword">new</span> MyThread(<span class="string">"C"</span>);</span><br><span class="line">				MyThread t4=<span class="keyword">new</span> MyThread(<span class="string">"D"</span>);</span><br><span class="line">				MyThread t5=<span class="keyword">new</span> MyThread(<span class="string">"E"</span>);</span><br><span class="line">				t1.start();</span><br><span class="line">				t2.start();</span><br><span class="line">				t3.start();</span><br><span class="line">				t4.start();</span><br><span class="line">				t5.start();</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">			<span class="keyword">static</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line">			<span class="keyword">static</span> Object obj=<span class="keyword">new</span> Object();</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">				setName(name);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">					<span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">						<span class="keyword">if</span>(ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">							<span class="keyword">try</span> &#123;</span><br><span class="line">								Thread.sleep(<span class="number">10</span>);</span><br><span class="line">							&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125;</span><br><span class="line">							System.out.println(<span class="string">"车站:"</span>+getName()+<span class="string">"正在卖第"</span>+ticket--+<span class="string">"张"</span>);</span><br><span class="line">						&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">说明:</span><br><span class="line">一段同步代码被一个线程执行之前,他要拿到执行这段程序的权限</span><br><span class="line">而此时obj就是这个权限,也就是同步对象的锁</span><br><span class="line">大家都会抢夺同步对象的锁,当一个线程抢夺之后拥有这个对象的锁后</span><br><span class="line">就会进入同步代码块中,而其他线程只能在锁池中进行等待</span><br><span class="line">线程之后完同步代码块之后,马上就把锁还给同步对象</span><br><span class="line">其他线程就有机会再次抢夺,进行而执行</span><br></pre></td></tr></table></figure>
<p>​            </p>
<h1 id="5-使用Runable接口实现多线程-做常用的方式"><a href="#5-使用Runable接口实现多线程-做常用的方式" class="headerlink" title="5 使用Runable接口实现多线程  (做常用的方式)"></a>5 使用Runable接口实现多线程  (做常用的方式)</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Thread类也实现了Runable接口</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			MyThread_01 t01=<span class="keyword">new</span> MyThread_01();</span><br><span class="line">			Thread t=<span class="keyword">new</span> Thread(t01);  <span class="comment">//注意启动方式</span></span><br><span class="line">			t.start();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">MyThread_01</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"---------------------"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//把售票程序进行改动</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			MyThread my=<span class="keyword">new</span> MyThread();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line">		<span class="keyword">static</span> Object obj=<span class="keyword">new</span> Object();</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">					<span class="keyword">if</span>(ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							Thread.sleep(<span class="number">10</span>);</span><br><span class="line">						&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">						System.out.println(<span class="string">"车站正在卖第"</span>+ticket--+<span class="string">"张"</span>);</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">====同步函数</span><br><span class="line">		<span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">			<span class="keyword">if</span>(ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					Thread.sleep(<span class="number">10</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">"车站正在卖第"</span>+ticket--+<span class="string">"张"</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	修改成</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//售票</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">sale</span><span class="params">()</span></span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">10</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">					System.out.println(<span class="string">"车站正在卖第"</span>+ticket--+<span class="string">"张"</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					System.exit(<span class="number">0</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">	  同步函数使用的锁   是   <span class="keyword">this</span>对象</span><br><span class="line">	  同步静态函数使用的锁   是 类名.class</span><br><span class="line">	  </span><br><span class="line">	  <span class="comment">//例子 如果让下面的同步函数和同步代码块同步,锁应该怎么写? this</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">SaleThrad</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">sale</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(<span class="keyword">this</span>)&#123;</span><br><span class="line">			</span><br><span class="line">		   &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//例子 如果让下面的同步静态函数和同步代码块同步,锁应该怎么写? SaleThrad.class</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">SaleThrad</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="function"><span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sale</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(SaleThrad.class)&#123;</span><br><span class="line">			</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">总结:</span><br><span class="line">	使用Thread和Runnbale有什么区别?</span><br><span class="line">	<span class="number">1</span>)可以避免java中不支持多继承的问题</span><br><span class="line">	<span class="number">2</span>)使用后者,更容易实现多个线程的数据共享(前者属于多个任务,各做各的,后者属于,一个任务,多个人分,而且其中任务中的数据是可以共享的)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">面试</span><br><span class="line">	holdsLock() 方法。</span><br><span class="line">	检测一个线程是否拥有锁，是java.lang.Thread类中的，它返回<span class="keyword">true</span>表示拥有某个具体对象的锁</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">static</span> Object obj=<span class="keyword">new</span> Object();</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">				<span class="meta">@Override</span></span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">					System.out.println(<span class="string">"子线程:"</span>+Thread.holdsLock(obj));</span><br><span class="line">					<span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">						System.out.println(<span class="string">"子线程执行同步代码块"</span>+Thread.holdsLock(obj));</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;).start();</span><br><span class="line">			System.out.println(<span class="string">"主线程:"</span>+Thread.holdsLock(obj));</span><br><span class="line">			<span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">				System.out.println(<span class="string">"主线程执行同步代码块"</span>+Thread.holdsLock(obj));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	主线程:<span class="keyword">false</span></span><br><span class="line">	主线程执行同步代码块<span class="keyword">true</span></span><br><span class="line">	子线程:<span class="keyword">false</span></span><br><span class="line">	子线程执行同步代码块<span class="keyword">true</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//可以观察到,当拿到同步锁,就是true,没拿到就是flase</span></span><br></pre></td></tr></table></figure>
<h1 id="6-实现线程的另外两种方式"><a href="#6-实现线程的另外两种方式" class="headerlink" title="6 实现线程的另外两种方式"></a>6 实现线程的另外两种方式</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">==实现Callable接口通过FutureTask包装器来创建Thread线程	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			TestCallable tc=<span class="keyword">new</span> TestCallable();</span><br><span class="line">			</span><br><span class="line">			FutureTask&lt;Integer&gt; result=<span class="keyword">new</span> FutureTask&lt;Integer&gt;(tc);</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()+<span class="string">"--&gt;"</span>+i);</span><br><span class="line">				<span class="keyword">if</span>(i==<span class="number">30</span>)&#123;</span><br><span class="line">					Thread t=<span class="keyword">new</span> Thread(result);</span><br><span class="line">					t.start();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"主线程的for循环完毕"</span>);</span><br><span class="line">			<span class="comment">//接受返回值</span></span><br><span class="line">			Integer r=result.get();<span class="comment">//当子线程的call方法没有运行完毕,将会阻塞,直到返回值为止</span></span><br><span class="line">			System.out.println(r);</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">TestCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()+<span class="string">"--&gt;"</span>+i);</span><br><span class="line">				sum+=i;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> sum;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">使用线程池的方式</span><br><span class="line">		</span><br><span class="line">		 线程池的好处:</span><br><span class="line">			假设一个服务器完成一项任务所需时间为</span><br><span class="line">			T1 创建线程</span><br><span class="line">			T2 使用线程</span><br><span class="line">			T3 销毁线程</span><br><span class="line">			如果T1+T3远远大于T2,则可以采用线程池,以提高服务器的性能</span><br><span class="line">			</span><br><span class="line">		<span class="number">1</span>、创建线程池接口ExecutorService  </span><br><span class="line">		其中Executor是顶层接口，里面只声明一个方法，ExecutorService继承它</span><br><span class="line">		Java提供四种常用的线程池，分别为：</span><br><span class="line">		newCachedThreadPool创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</span><br><span class="line">		newFixedThreadPool 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</span><br><span class="line">		newScheduledThreadPool 创建一个定长线程池，支持定时及周期性任务执行。</span><br><span class="line">		newSingleThreadExecutor 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。	</span><br><span class="line">								FIFO:First in First out  先进先出</span><br><span class="line">								LIFO:last in First out 后进先出</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">可以通过工具类java.util.concurrent.Executors的静态方法来创建以上线程。</span><br><span class="line">	　　Executors实际上是一个线程池的管理工具：</span><br><span class="line">　　ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">　　ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">3</span>);</span><br><span class="line">	ExecutorService executorService = Executors.newScheduledThreadPool(<span class="number">3</span>);</span><br><span class="line">　　ExecutorService executorService = Executors.newSingleThreadExecutor();	</span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>、将任务添加到线程去执行</span><br><span class="line">	　　当将一个任务添加到线程池中的时候，线程池会为每个任务创建一个线程，该线程会在之后的某个时刻自动执行。</span><br><span class="line">任务分两类：</span><br><span class="line">一类是实现了Runnable接口的类，</span><br><span class="line">一类是实现了Callable接口的类。</span><br><span class="line">两者都可以被ExecutorService执行，</span><br><span class="line">但是 Runnable任务没有返回值，</span><br><span class="line">而Callable任务有返回值。</span><br><span class="line">并且Callable的任务只能通过ExecutorService的 submit（）方法来执行，</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 实现了Callable接口的类。</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">			List&lt;Future&lt;String&gt;&gt; list=<span class="keyword">new</span> ArrayList&lt;Future&lt;String&gt;&gt;();</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">				list.add(executorService.submit(<span class="keyword">new</span> TestCallable(i)));</span><br><span class="line">			&#125;</span><br><span class="line">			executorService.shutdown();<span class="comment">//线程池拒绝接受新提交的任务,同时等待线程池中的任务等执行完毕.才会关闭线程池</span></span><br><span class="line">			<span class="comment">//executorService.shutdownNow();//线程池拒绝接受新提交的任务,会立刻关闭,就算有任务没执行完,也会停止执行</span></span><br><span class="line">			<span class="keyword">for</span>(Future&lt;String&gt; f:list)&#123;</span><br><span class="line">				System.out.println(f.get());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">TestCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">String</span>&gt;</span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">TestCallable</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.id=id;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="string">"TestCallable:"</span>+id;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现了Runnable接口的类，</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">				executorService.submit(<span class="keyword">new</span> TestRunnable(i));</span><br><span class="line">			&#125;</span><br><span class="line">			executorService.shutdown();<span class="comment">//线程池拒绝接受新提交的任务,同时等待线程池中的任务等执行完毕.才会关闭线程池</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">TestRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">TestRunnable</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.id=id;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"TestRunnable:"</span>+id);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">也可以用execute执行,返回为<span class="keyword">void</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">			executorService.execute(<span class="keyword">new</span> TestRunnable(i));</span><br><span class="line">		&#125;</span><br><span class="line">		executorService.shutdown();<span class="comment">//线程池拒绝接受新提交的任务,同时等待线程池中的任务等执行完毕.才会关闭线程池</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TestRunnable</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id=id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"TestRunnable:"</span>+id);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">区别:execute和submit区别</span><br><span class="line">使用submit可以直到线程执行是否成功</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ExecutorService executorService = Executors.newCachedThreadPool();</span><br><span class="line">		Future r=executorService.submit(<span class="keyword">new</span> TestRunnable(<span class="number">0</span>));</span><br><span class="line">		executorService.shutdown();<span class="comment">//线程池拒绝接受新提交的任务,同时等待线程池中的任务等执行完毕.才会关闭线程池</span></span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(r.get()==<span class="keyword">null</span>)&#123;</span><br><span class="line">				System.out.println(<span class="string">"线程执行成功"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"线程执行失败"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">TestRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">TestRunnable</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.id=id;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">int</span> a=<span class="number">90</span>/id;</span><br><span class="line">			System.out.println(<span class="string">"TestRunnable:"</span>+id);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	当线程执行成功时,使用submit()方法会返回<span class="keyword">null</span></span><br><span class="line">	否则就是执行失败,</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">总结：</span><br><span class="line">Java多线程实现方式主要有四种：</span><br><span class="line"><span class="number">1</span>.继承Thread类、</span><br><span class="line"><span class="number">2</span>.实现Runnable接口、</span><br><span class="line"><span class="number">3</span>.实现Callable接口通过FutureTask包装器来创建多线程、</span><br><span class="line"><span class="number">4</span>.使用线程池完成多线程。</span><br><span class="line">其中前两种方式线程执行完后都没有返回值</span><br><span class="line">第三种，带返回值</span><br><span class="line">第四种使用线程池运行可以添加两种类型任务，</span><br><span class="line">一种是实现了Runnable接口的类，一种是实现了Callable接口的类。</span><br><span class="line">前者使用execute无返回值，使用submit有返回值（<span class="keyword">null</span>或异常）</span><br><span class="line">后者只可以使用submit运行，有返回值</span><br></pre></td></tr></table></figure></p>
<p>面试题        </p>
<p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. Java中Runnable和Callable有什么不同？</span><br><span class="line">   Runnable从<span class="number">1.0</span>出现的,Callable是从<span class="number">1.5</span>出现的</span><br><span class="line">   它们的主要区别,call方法具备返回值,而且可以声明抛出异常</span><br><span class="line">   而run是不具备返回值的,并且不可以声明抛出异常,只能<span class="keyword">try</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.Java中的<span class="keyword">volatile</span> 变量是什么？</span><br><span class="line"><span class="keyword">volatile</span>是一个特殊的修饰符，只有成员变量才能使用它.</span><br><span class="line">多线程对成员变量的操作对其它线程是透明的。</span><br><span class="line"><span class="keyword">volatile</span>变量可以保证下一个读取操作会在前一个写操作之后发生（即写操作会发生在后续的读操作之前）</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.Java多线程<span class="keyword">volatile</span>和<span class="keyword">synchronized</span>区别</span><br><span class="line"><span class="keyword">volatile</span>是轻量级的<span class="keyword">synchronized</span>，在多线程开发中保证了共享变量的“可见性”。</span><br><span class="line">可见性表示当一个线程修改了一个共享变量时，另外一个线程能读到这个修改的值。（即写操作会发生在后续的读操作之前）</span><br><span class="line">因为使用其修饰的变量会强制将修改的值写入主存。所以读的时候就保证了准确性</span><br><span class="line">synchionized是java中的关键字，<span class="keyword">synchronized</span>是内置语言实现的。可以同步一段代码</span><br></pre></td></tr></table></figure>
<pre><code>为什么?
        volatile只能保证可见性,但是不能保证变量的原子性
        ticket-- 并不是原子操作,会执行三个步骤
        1.从内存中读取ticket值
        2.减1
        3.把修改后的值刷新到内存中
        而volatile不能保证上面三步骤的原子性,所以ticket--操作还是会受到影响,故线程还是不安全的
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>.如何保证多线程下 i++ 结果正确？</span><br><span class="line">	因为i++并不是原子性操作,所以多线程无法保证它的准确性,故需要使用同步来完成</span><br><span class="line">	</span><br><span class="line"><span class="number">5</span>.start() 和 run() 方法有什么区别	</span><br><span class="line">	start（）方法来启动线程，真正实现了多线程运行</span><br><span class="line">	run（）方法当作普通方法的方式调用。程序还是要顺序执行</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>.能不能自己写个类叫java.lang.Object</span><br><span class="line">	不能,因为java有双亲委派原则</span><br><span class="line">		</span><br><span class="line">类加载器</span><br><span class="line">	</span><br><span class="line">	启动类加载器     (JAVA_HOME/jre/lib   包)</span><br><span class="line">	Bootstrap ClassLoade</span><br><span class="line">		^</span><br><span class="line">		|</span><br><span class="line">	扩展类加载器     (JAVA_HOME/jre/lib/ext  包)</span><br><span class="line">	Extension ClassLoader</span><br><span class="line">		^</span><br><span class="line">		|</span><br><span class="line">	应用程序类加载器  (我们自己写的类,已经自己放入的jar包)</span><br><span class="line">	Application ClassLoader </span><br><span class="line">		^</span><br><span class="line">		|</span><br><span class="line">	自定义类加载器 （继承java.lang.ClassLoader）</span><br><span class="line">	Custom ClassLoader</span><br><span class="line">	   .............</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">工作过程：如果一个类加载器接收到了类加载的请求，它首先把这个请求委托给他的父类加载器去完成，</span><br><span class="line">		  每个层次的类加载器都是如此，因此所有的加载请求都应该传送到顶层的启动类加载器中，</span><br><span class="line">		  只有当父加载器反馈自己无法完成这个加载请求时，子加载器才会尝试自己去加载。</span><br><span class="line">		  </span><br><span class="line">好处：避免重复加载+避免核心类篡改</span><br><span class="line"></span><br><span class="line">	  采用双亲委派的一个好处是比如加载位于rt.jar包中的类java.lang.Object，</span><br><span class="line">	  不管是哪个加载器加载这个类，最终都是委托给顶层的启动类加载器进行加载，</span><br><span class="line">	  只有当父类加载器反馈自己没法完成加载要求时，子类加载器才会尝试自己去加载。</span><br><span class="line">	  这样就保证了使用不同的类加载器最终得到的都是同样一个Object对象。</span><br><span class="line">	  避免了类的重复加载，而且当我们模拟Object类时，也不会被加载，因为此类</span><br><span class="line">	  已经被加载了，也就同时避免核心类篡改</span><br></pre></td></tr></table></figure>
<h1 id="7-死锁"><a href="#7-死锁" class="headerlink" title="7 死锁"></a>7 死锁</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">死锁:两个线程互相等待彼此释放锁的过程就是死锁,</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			DeadLockThread d1=<span class="keyword">new</span> DeadLockThread(<span class="number">1</span>);</span><br><span class="line">			Thread t1=<span class="keyword">new</span> Thread(d1);</span><br><span class="line">			t1.start();</span><br><span class="line">           d1.flag=<span class="keyword">false</span>;</span><br><span class="line">			</span><br><span class="line">			DeadLockThread d2=<span class="keyword">new</span> DeadLockThread(<span class="number">2</span>);</span><br><span class="line">			Thread t2=<span class="keyword">new</span> Thread(d2);</span><br><span class="line">			t2.start();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">DeadLockThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">boolean</span> flag=<span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">static</span> Object obj1=<span class="keyword">new</span> Object();</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">static</span> Object obj2=<span class="keyword">new</span> Object();</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">DeadLockThread</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.id=id;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(flag)&#123;</span><br><span class="line">					<span class="keyword">synchronized</span> (obj1) &#123;</span><br><span class="line">						System.out.println(id+<span class="string">":这是if中的obj1锁"</span>);</span><br><span class="line">						<span class="keyword">synchronized</span> (obj2) &#123;</span><br><span class="line">							System.out.println(id+<span class="string">":这是if中的obj2锁"</span>);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					<span class="keyword">synchronized</span> (obj2) &#123;</span><br><span class="line">						System.out.println(id+<span class="string">":这是else中的obj2锁"</span>);</span><br><span class="line">						<span class="keyword">synchronized</span> (obj1) &#123;</span><br><span class="line">							System.out.println(id+<span class="string">":这是else中的obj1锁"</span>);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="8-生产者消费者的问题"><a href="#8-生产者消费者的问题" class="headerlink" title="8 生产者消费者的问题"></a>8 生产者消费者的问题</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				平台 pt=<span class="keyword">new</span> 平台();</span><br><span class="line">				<span class="keyword">new</span> Thread(<span class="keyword">new</span> 生产者(pt)).start();</span><br><span class="line">				<span class="keyword">new</span> Thread(<span class="keyword">new</span> 消费者(pt)).start();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> 平台</span>&#123;</span><br><span class="line">			String name;  <span class="comment">//鸡蛋 核桃</span></span><br><span class="line">			String tool;  <span class="comment">//平底锅 锤子</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> 生产者 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">			<span class="keyword">public</span> 生产者(平台 pt)&#123;</span><br><span class="line">				<span class="keyword">this</span>.pt=pt;</span><br><span class="line">			&#125;</span><br><span class="line">			平台 pt;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">					<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">						pt.name=<span class="string">"鸡蛋"</span>;</span><br><span class="line">						<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">						pt.tool=<span class="string">"平底锅"</span>;</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						pt.name=<span class="string">"核桃"</span>;</span><br><span class="line">						<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">						pt.tool=<span class="string">"锤子"</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					i=(i+<span class="number">1</span>)%<span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> 消费者 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">			<span class="keyword">public</span> 消费者(平台 pt)&#123;</span><br><span class="line">				<span class="keyword">this</span>.pt=pt;</span><br><span class="line">			&#125;</span><br><span class="line">			平台 pt;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">					System.out.print(pt.name);</span><br><span class="line">					<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">					System.out.println(<span class="string">"--"</span>+pt.tool);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">会出现 不成对匹配的情况</span><br><span class="line">	核桃--平底锅</span><br><span class="line">	鸡蛋--锤子</span><br><span class="line">	核桃--平底锅</span><br><span class="line">	鸡蛋--锤子</span><br><span class="line">	核桃--平底锅</span><br><span class="line">	鸡蛋--锤子</span><br><span class="line">	核桃--平底锅</span><br><span class="line">	鸡蛋--锤子</span><br><span class="line">	</span><br><span class="line">为了让他们能正常匹配的出现,需要同步代码</span><br><span class="line"></span><br><span class="line">生产者改进</span><br><span class="line">	<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">		<span class="keyword">synchronized</span> (pt) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">				pt.name=<span class="string">"鸡蛋"</span>;</span><br><span class="line">				<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">				pt.tool=<span class="string">"平底锅"</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				pt.name=<span class="string">"核桃"</span>;</span><br><span class="line">				<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">				pt.tool=<span class="string">"锤子"</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			i=(i+<span class="number">1</span>)%<span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">消费者改进</span><br><span class="line">	<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">		<span class="keyword">synchronized</span> (pt) &#123;</span><br><span class="line">			System.out.print(pt.name);</span><br><span class="line">			<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">			System.out.println(<span class="string">"--"</span>+pt.tool);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">核桃--锤子</span><br><span class="line">核桃--锤子</span><br><span class="line">鸡蛋--平底锅</span><br><span class="line">鸡蛋--平底锅</span><br><span class="line"></span><br><span class="line">消费者消费太快,或者是生产者生产太快</span><br></pre></td></tr></table></figure>
<h1 id="9-线程间的通信"><a href="#9-线程间的通信" class="headerlink" title="9 线程间的通信"></a>9 线程间的通信</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">--wait()   告诉当前线程放弃锁(对象同步锁),进行等待,直到接收到在这个锁上的notify通知时继续 </span><br><span class="line">--notify() 通知等待锁的线程,开始运行</span><br><span class="line">--notifyAll 通知等待锁的所有线程,开始运行</span><br><span class="line"></span><br><span class="line">这三个方法来自于Object类</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			平台 pt=<span class="keyword">new</span> 平台();</span><br><span class="line">			Thread t1=<span class="keyword">new</span> Thread(<span class="keyword">new</span> 生产者(pt));</span><br><span class="line">			Thread t2=<span class="keyword">new</span> Thread(<span class="keyword">new</span> 消费者(pt));</span><br><span class="line">			t1.start();</span><br><span class="line">			t2.start();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> 平台</span>&#123;</span><br><span class="line">		String name;  <span class="comment">//鸡蛋 核桃</span></span><br><span class="line">		String tool;  <span class="comment">//平底锅 锤子</span></span><br><span class="line">		<span class="keyword">boolean</span> 有东西=<span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> 生产者 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> 生产者(平台 pt)&#123;</span><br><span class="line">			<span class="keyword">this</span>.pt=pt;</span><br><span class="line">		&#125;</span><br><span class="line">		平台 pt;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">synchronized</span> (pt) &#123;</span><br><span class="line">					<span class="keyword">if</span>(pt.有东西==<span class="keyword">true</span>)&#123;</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							pt.wait(); <span class="comment">//等待,并释放锁</span></span><br><span class="line">						&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">						pt.name=<span class="string">"鸡蛋"</span>;</span><br><span class="line">						<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">						pt.tool=<span class="string">"平底锅"</span>;</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						pt.name=<span class="string">"核桃"</span>;</span><br><span class="line">						<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">						pt.tool=<span class="string">"锤子"</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					i=(i+<span class="number">1</span>)%<span class="number">2</span>;</span><br><span class="line">					pt.有东西=<span class="keyword">true</span>;</span><br><span class="line">					pt.notify();  <span class="comment">//执行之后,生产者和消费者重新会抢夺对象锁,并不是从刚才wait进行执行</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> 消费者 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> 消费者(平台 pt)&#123;</span><br><span class="line">			<span class="keyword">this</span>.pt=pt;</span><br><span class="line">		&#125;</span><br><span class="line">		平台 pt;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">synchronized</span> (pt) &#123;</span><br><span class="line">					<span class="keyword">if</span>(pt.有东西==<span class="keyword">false</span>)&#123;</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							pt.wait();  <span class="comment">//如果平台没有东西,进行等待,释放锁,让生产者生产</span></span><br><span class="line">						&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					System.out.print(pt.name);</span><br><span class="line">					<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">					System.out.println(<span class="string">"--"</span>+pt.tool);</span><br><span class="line">					pt.有东西=<span class="keyword">false</span>;</span><br><span class="line">					pt.notify();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">wait方法进行等待的时候,会释放锁的资源,让其他线程抢夺</span><br><span class="line">如果不释放锁,其他线程是抢夺不到的</span><br></pre></td></tr></table></figure>
<h1 id="10-生产者消费者程序的优化"><a href="#10-生产者消费者程序的优化" class="headerlink" title="10 生产者消费者程序的优化"></a>10 生产者消费者程序的优化</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			平台 pt=<span class="keyword">new</span> 平台();</span><br><span class="line">			Thread t1=<span class="keyword">new</span> Thread(<span class="keyword">new</span> 生产者(pt));</span><br><span class="line">			Thread t2=<span class="keyword">new</span> Thread(<span class="keyword">new</span> 消费者(pt));</span><br><span class="line">			t1.start();</span><br><span class="line">			t2.start();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> 平台</span>&#123;</span><br><span class="line">		String name;  <span class="comment">//鸡蛋 核桃</span></span><br><span class="line">		String tool;  <span class="comment">//平底锅 锤子</span></span><br><span class="line">		<span class="keyword">boolean</span> 有东西=<span class="keyword">false</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//放东西</span></span><br><span class="line">		<span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String name,String tool)</span></span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">this</span>.有东西==<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					<span class="keyword">this</span>.wait(); <span class="comment">//等待,并释放锁</span></span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">this</span>.name=name;</span><br><span class="line">			<span class="keyword">this</span>.tool=tool;</span><br><span class="line">			<span class="keyword">this</span>.有东西=<span class="keyword">true</span>;</span><br><span class="line">			<span class="keyword">this</span>.notify();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//取东西</span></span><br><span class="line">		<span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">get</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">this</span>.有东西==<span class="keyword">false</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					<span class="keyword">this</span>.wait();  <span class="comment">//如果平台没有东西,进行等待,释放锁,让生产者生产</span></span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.print(<span class="keyword">this</span>.name);</span><br><span class="line">			<span class="keyword">try</span> &#123;Thread.sleep(<span class="number">10</span>);&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;&#125;</span><br><span class="line">			System.out.println(<span class="string">"--"</span>+<span class="keyword">this</span>.tool);</span><br><span class="line">			<span class="keyword">this</span>.有东西=<span class="keyword">false</span>;</span><br><span class="line">			<span class="keyword">this</span>.notify();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> 生产者 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> 生产者(平台 pt)&#123;</span><br><span class="line">			<span class="keyword">this</span>.pt=pt;</span><br><span class="line">		&#125;</span><br><span class="line">		平台 pt;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">					pt.put(<span class="string">"鸡蛋"</span>, <span class="string">"平底锅"</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					pt.put(<span class="string">"核桃"</span>, <span class="string">"锤子"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				i=(i+<span class="number">1</span>)%<span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> 消费者 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> 消费者(平台 pt)&#123;</span><br><span class="line">			<span class="keyword">this</span>.pt=pt;</span><br><span class="line">		&#125;</span><br><span class="line">		平台 pt;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				pt.get();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="11-线程的终止"><a href="#11-线程的终止" class="headerlink" title="11 线程的终止"></a>11 线程的终止</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>) 设置线程的结束标志 (最常用的方式)</span><br><span class="line"><span class="number">2</span>) Interrupt();</span><br><span class="line"><span class="number">3</span>) stop;   <span class="comment">//废弃,容易引起死锁</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//例子 领导讲话的时候,员工就一直鼓掌,领导讲到第90句的时候,员工停止鼓掌</span></span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Emp e=<span class="keyword">new</span> Emp();</span><br><span class="line">		<span class="keyword">new</span> Thread(e).start();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">90</span>)&#123;</span><br><span class="line">				e.stopMe(<span class="keyword">true</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"领导讲话:"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">boolean</span> isStop=<span class="keyword">false</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopMe</span><span class="params">(<span class="keyword">boolean</span> isStop)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.isStop=isStop;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(isStop==<span class="keyword">false</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"员工鼓掌....."</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 2) Interrupt</span></span><br><span class="line">	这一方法实际上完成的是，在线程受到阻塞时抛出一个中断信号，</span><br><span class="line">	这样线程就得以退出阻塞的状态。更确切的说，</span><br><span class="line">	如果线程被Object.wait, Thread.join和Thread.sleep三种方法之一阻塞，</span><br><span class="line">	那么，它将接收到一个中断异常（InterruptedException），</span><br><span class="line">	从而提早地终结被阻塞状态.如果线程没有被阻塞，这时调用interrupt()将不起作用</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Thread t = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ATest());</span><br><span class="line">			t.start();</span><br><span class="line">			System.out.println(<span class="string">"************************"</span>);</span><br><span class="line">			System.out.println(<span class="string">"********我是主线程*******"</span>);</span><br><span class="line">			System.out.println(<span class="string">"************************"</span>);</span><br><span class="line">			t.interrupt();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">ATest</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">					System.out.println(<span class="string">"我是子线程"</span>);</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">900000</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line">					Thread.sleep(<span class="number">50</span>); <span class="comment">//当阻塞线程时,发现此线程调用了interrupt()方法,就会抛出一个异常,也就停止了线程</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				System.out.println(<span class="string">"子綫程的run結束了"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//附 join方法  主要作用是为了同步,他可以使线程之间的异步执行变成同步执行</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				JoinTest t1=<span class="keyword">new</span> JoinTest(<span class="string">"小明"</span>);</span><br><span class="line">				JoinTest t2=<span class="keyword">new</span> JoinTest(<span class="string">"小东"</span>);</span><br><span class="line">				Thread th1=<span class="keyword">new</span> Thread(t1);</span><br><span class="line">				th1.start();</span><br><span class="line">				th1.join();  <span class="comment">//此时小明先执行完,小东才开始执行,由原先的交叉异步执行,变成现在的同步</span></span><br><span class="line">				<span class="comment">//th1.join(5000); 先同步5秒,在异步执行</span></span><br><span class="line">				Thread th2=<span class="keyword">new</span> Thread(t2);</span><br><span class="line">				th2.start();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">JoinTest</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="title">JoinTest</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.name=name;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String name;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">					System.out.println(name+<span class="string">":"</span>+i);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">面试题：现在有T1、T2、T3三个线程，你怎样保证T2在T1执行完后执行，T3在T2执行完后执行？</span><br><span class="line">		可以使用join进行</span><br></pre></td></tr></table></figure>
<p>​    </p>
<h1 id="12-后台线程"><a href="#12-后台线程" class="headerlink" title="12 后台线程"></a>12 后台线程</h1><p>​            </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">后台线程也叫做:精灵线程或者守护线程</span><br><span class="line"><span class="number">1</span>:系统中可以同时运行前台线程和后台线程(比如:java虚拟机)</span><br><span class="line"><span class="number">2</span>:当系统中没有前台线程的时候,后台线程会结束</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可以使用</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">setDaemon</span><span class="params">(<span class="keyword">boolean</span> on)</span> 是在Thread类中</span></span><br><span class="line"><span class="function">如果传<span class="keyword">true</span>,则将一个线程变为后台线程</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		MyTest my=<span class="keyword">new</span> MyTest();</span><br><span class="line">		Thread t1=<span class="keyword">new</span> Thread(my);</span><br><span class="line">		t1.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">		t1.start();</span><br><span class="line">		System.out.println(<span class="string">"================"</span>);</span><br><span class="line">		System.out.println(<span class="string">"================"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"正在运行"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//此时MyTest变成了后台线程,而前台线程只有主线程,所以当主方法结束之后,前台线程就不存在了</span></span><br><span class="line"><span class="comment">//因此后台线程也就停止,包括虚拟机线程</span></span><br></pre></td></tr></table></figure>
<h1 id="13-JDK-1-5-以后的-java-util-concurrent-locks"><a href="#13-JDK-1-5-以后的-java-util-concurrent-locks" class="headerlink" title="13 JDK 1.5 以后的 java.util.concurrent.locks"></a>13 JDK 1.5 以后的 java.util.concurrent.locks</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">自JDK1.5以后，在java.util.concurrent.locks包中定义了Lock接口</span><br><span class="line">并提供了常用的两种锁实现类</span><br><span class="line">   ReentrantLock      <span class="comment">//重入锁（互斥锁） 如果一个线程已经获得了锁，其内部还可以多次申请该锁成功。那么我们就称该锁为可重入锁</span></span><br><span class="line">   ReentrantReadWriteLock   <span class="comment">//读写锁  能获取读锁和写锁，在读写操作时分别调用对应的锁</span></span><br><span class="line"></span><br><span class="line">主要介绍：ReentrantLock <span class="comment">//Reentrant 这个单词,是可重入的意思</span></span><br><span class="line">ReenTrantLock可以指定是公平锁还是非公平锁。而<span class="keyword">synchronized</span>只能是非公平锁。所谓的公平锁就是先等待的线程先获得锁。</span><br><span class="line">可重入锁的原理是在锁内部维护了一个线程标示，标示该锁目前被那个线程占用，然后关联一个计数器，</span><br><span class="line">一开始计数器值为<span class="number">0</span>，说明该锁没有被任何线程占用，</span><br><span class="line">当一个线程获取了该锁，计数器会变成<span class="number">1</span>，其他线程在获取该锁时候发现锁的所有者不是自己所以被阻塞，</span><br><span class="line">当释放锁后计数器会-<span class="number">1</span>，当计数器为<span class="number">0</span>时候，锁里面的线程标示重置为<span class="keyword">null</span>,这时</span><br><span class="line">候阻塞的线程会被唤醒来获取该锁.</span><br><span class="line">它拥有与<span class="keyword">synchronized</span> 相同的并发性和内存语义，但是添加了类似锁投票、定时锁等候和可中断锁等候的一些特性。</span><br><span class="line">此外，它还提供了在激烈争用情况下更佳的性能。</span><br><span class="line">（换句话说，当许多线程都想访问共享资源时，JVM 可以花更少的时候来调度线程，把更多时间</span><br><span class="line">用在执行线程上。）</span><br><span class="line"></span><br><span class="line">	<span class="comment">//例子</span></span><br><span class="line">	Lock lock=<span class="keyword">new</span> ReentrantLock();  <span class="comment">//可重入锁</span></span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		lock.lock();  <span class="comment">//上锁</span></span><br><span class="line">		<span class="comment">/*.....</span></span><br><span class="line"><span class="comment">		..... 同步的代码</span></span><br><span class="line"><span class="comment">		.....*/</span></span><br><span class="line">	&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">		lock.unlock();  <span class="comment">//释放改锁</span></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">//例子 读写锁   读读不互斥----读写互斥----写写互斥</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String,String&gt; map=<span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">static</span> ReentrantReadWriteLock rwl=<span class="keyword">new</span> ReentrantReadWriteLock();</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">static</span> Lock w=rwl.writeLock();</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">static</span> Lock r=rwl.readLock();</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">get</span><span class="params">(String key)</span></span>&#123;</span><br><span class="line">			r.lock();</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> map.get(key); <span class="comment">//读锁/共享锁   可以多个线程去读</span></span><br><span class="line">			&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">				r.unlock();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">put</span><span class="params">(String key,String value)</span></span>&#123;</span><br><span class="line">			w.lock();</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> map.put(key, value); <span class="comment">//写锁/排他锁  只能有一个线程能操作</span></span><br><span class="line">			&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">				w.unlock();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"> Lock 和  <span class="keyword">synchronized</span> 的区别:</span><br><span class="line"><span class="number">1</span>、Lock是一个接口，而synchionized是java中的关键字，<span class="keyword">synchronized</span>是内置语言实现的。</span><br><span class="line"><span class="number">2</span>、<span class="keyword">synchronized</span>在发生异常时能够自动释放占有锁，因此不会导致死锁现象发生；</span><br><span class="line">   而Lock在发生异常时，若不是主动unLock()，有可能会出现死锁现象。</span><br><span class="line"><span class="number">3</span>、Lock可以让等待锁的线程响应中断；使用<span class="keyword">synchronized</span>,等待的线程会一直等待下去，不能响应中断。</span><br><span class="line"><span class="number">4</span>、Lock可以判断是否成功获取锁，而<span class="keyword">synchronized</span>无法办到。</span><br><span class="line"><span class="number">5</span>、Lock可以提高多个线程进行读操作的效率。</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			MyThread my = <span class="keyword">new</span> MyThread();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(my).start();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">		<span class="keyword">static</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">				lock.lock();</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							Thread.sleep(<span class="number">10</span>);</span><br><span class="line">						&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">						System.out.println(<span class="string">"车站正在卖第"</span> + ticket-- + <span class="string">"张"</span>);</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">					lock.unlock();</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p> List、Map、Set三个接口，存取元素时，各有什么特点？ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List来自于Collection来的 元素有序(可以按照索引进行访问),可以存重复的元素</span><br><span class="line">		ArrayList  LinkedList Vector</span><br><span class="line">		</span><br><span class="line">		CopyOnWriteArrayList</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Set来自于Collection来的, 元素无序	,不可以存重复的元素	</span><br><span class="line">	hashcode() equals()</span><br><span class="line">	</span><br><span class="line">	HashSet TreeSet</span><br><span class="line">	</span><br><span class="line">Map  <span class="comment">//键值对结构</span></span><br><span class="line">	HashMap</span><br><span class="line">	Hashtable   </span><br><span class="line">	</span><br><span class="line">	<span class="number">2</span>) Collection 和 Collections的区别。 		</span><br><span class="line">		Collection 是单列集合框架的根接口 </span><br><span class="line">	    Collections 是一个工具类,里面的方法全是静态的,用来操作 Collection 集合</span><br></pre></td></tr></table></figure>
<p>​      </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">附:</span><br><span class="line">两个对象,equals相等,hashcode()一定相等   <span class="comment">//this==obj;</span></span><br><span class="line">两个对象,hashcode()相等,equals不一定  (可能哈希冲突)</span><br><span class="line">		</span><br><span class="line">哈希表是如何快速定位的</span><br><span class="line">	map.put(<span class="number">33</span>,<span class="string">""</span>);</span><br><span class="line">	<span class="number">33</span>.hashcode()% 哈希表.length()</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>) sleep() 和 wait() 有什么区别? </span><br><span class="line">		在同步代码块中,有锁的情况下,</span><br><span class="line">		sleep 不会释放锁 ,不用别人唤醒,</span><br><span class="line">		wait() 会释放锁, 需要别人来唤醒</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>) 下面两个方法同步吗？</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">	</span>&#123;</span><br><span class="line">			<span class="function"><span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sayHello3</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function">			</span>&#123;</span><br><span class="line">				...</span><br><span class="line">			&#125;	</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">getX</span><span class="params">()</span></span>&#123;&#125; </span><br><span class="line">&#125;	</span><br><span class="line">不同步,因为锁不同</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>) 多线程有几种实现方法?同步有几种实现方法</span><br><span class="line">		Java多线程实现方式主要有四种：</span><br><span class="line">			<span class="number">1</span>.继承Thread类、</span><br><span class="line">			<span class="number">2</span>.实现Runnable接口、</span><br><span class="line">			<span class="number">3</span>.实现Callable接口通过FutureTask包装器来创建多线程、</span><br><span class="line">			<span class="number">4</span>.使用线程池完成多线程。</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">同步的实现方面有几种：</span><br><span class="line"><span class="number">1</span>.同步方法 </span><br><span class="line"><span class="number">2</span>.同步代码块 </span><br><span class="line"><span class="number">3</span>.使用重入锁实现线程同步</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">简述<span class="keyword">synchronized</span>和java.util.concurrent.locks.Lock的异同 </span><br><span class="line">        <span class="number">1</span>、Lock是一个接口，而synchionized是java中的关键字，<span class="keyword">synchronized</span>是内置语言实现的。</span><br><span class="line">		<span class="number">2</span>、<span class="keyword">synchronized</span>在发生异常时能够自动释放占有锁，因此不会导致死锁现象发生；</span><br><span class="line">		   而Lock在发生异常时，若不是主动unLock()，有可能会早场死锁现象。</span><br><span class="line">		<span class="number">3</span>、Lock可以让等待锁的线程响应中断；使用<span class="keyword">synchronized</span>,等待的线程会一直等待下去，不能响应中断。</span><br><span class="line">		<span class="number">4</span>、Lock可以判断是否成功获取锁，而<span class="keyword">synchronized</span>无法办到。</span><br><span class="line">		<span class="number">5</span>、Lock可以提高多个线程进行读操作的效率。</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十四天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十四天/" class="post-title-link" itemprop="url">Java工具类、对象深浅克隆</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:11:10" itemprop="dateCreated datePublished" datetime="2019-08-02T19:11:10+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:45:26" itemprop="dateModified" datetime="2019-08-04T12:45:26+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Collections类"><a href="#1-Collections类" class="headerlink" title="1 Collections类"></a>1 Collections类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">专门来操作Collection集合的,里面的方法都是静态的</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 ,对List集合排序</span></span><br><span class="line">	List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">	list.add(<span class="string">"b"</span>);</span><br><span class="line">	list.add(<span class="string">"a"</span>);</span><br><span class="line">	list.add(<span class="string">"c"</span>);</span><br><span class="line">	list.add(<span class="string">"h"</span>);</span><br><span class="line">	</span><br><span class="line">	Collections.sort(list);  <span class="comment">//正序</span></span><br><span class="line">	System.out.println(list);  <span class="comment">//[a, b, c, h]</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">//例子 倒序</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"b"</span>);</span><br><span class="line">		list.add(<span class="string">"a"</span>);</span><br><span class="line">		list.add(<span class="string">"c"</span>);</span><br><span class="line">		list.add(<span class="string">"h"</span>);</span><br><span class="line">		</span><br><span class="line">		Collections.sort(list, Collections.reverseOrder()); <span class="comment">//倒序,Collections.reverseOrder()返回一个倒序的比价器</span></span><br><span class="line">		System.out.println(list); <span class="comment">//[h, c, b, a]</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//例子,对字符串长度进行排序</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"bds"</span>);</span><br><span class="line">		list.add(<span class="string">"azsdasd"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"hdsdsd"</span>);</span><br><span class="line">		</span><br><span class="line">		Collections.sort(list, <span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> o2.length()-o1.length();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		System.out.println(list); <span class="comment">//[azsdasd, hdsdsd, bds, cds]</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//例子 填充</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"bds"</span>);</span><br><span class="line">		list.add(<span class="string">"azsdasd"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"hdsdsd"</span>);</span><br><span class="line">		Collections.fill(list, <span class="string">"aaaa"</span>);</span><br><span class="line">		System.out.println(list); <span class="comment">//[aaaa, aaaa, aaaa, aaaa]</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"bds"</span>);</span><br><span class="line">		list.add(<span class="string">"azsdasd"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"hdsdsd"</span>);</span><br><span class="line">		Collections.sort(list);  <span class="comment">//排序</span></span><br><span class="line">		<span class="keyword">int</span> index=Collections.binarySearch(list, <span class="string">"cds"</span>);<span class="comment">//二分查找之前,一定要排序</span></span><br><span class="line">		System.out.println(index); <span class="comment">//2</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//替换</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"bds"</span>);</span><br><span class="line">		list.add(<span class="string">"azsdasd"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"hdsdsd"</span>);</span><br><span class="line">		Collections.replaceAll(list, <span class="string">"cds"</span>, <span class="string">"aaa"</span>);</span><br><span class="line">		System.out.println(list); <span class="comment">//[bds, azsdasd, aaa, aaa, hdsdsd]</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//洗牌</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"bds"</span>);</span><br><span class="line">		list.add(<span class="string">"azsdasd"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"cds"</span>);</span><br><span class="line">		list.add(<span class="string">"hdsdsd"</span>);</span><br><span class="line">		Collections.shuffle(list);</span><br><span class="line">		System.out.println(list); <span class="comment">//[cds, cds, bds, azsdasd, hdsdsd]</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//练习 TreeMap 按照key的倒序排序</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			Map&lt;String, String&gt; map = <span class="keyword">new</span> TreeMap&lt;String, String&gt;(<span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">				<span class="meta">@Override</span></span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">					<span class="keyword">return</span> o2.compareTo(o1);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			map.put(<span class="string">"a"</span>, <span class="string">"A"</span>);</span><br><span class="line">			map.put(<span class="string">"b"</span>, <span class="string">"B"</span>);</span><br><span class="line">			map.put(<span class="string">"c"</span>, <span class="string">"C"</span>);</span><br><span class="line">			<span class="keyword">for</span>(String key:map.keySet())&#123;</span><br><span class="line">				System.out.println(key+<span class="string">":"</span>+map.get(key));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//练习	HashMap按照key的倒序进行排序</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">				Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">				map.put(<span class="string">"a"</span>, <span class="string">"A"</span>);</span><br><span class="line">				map.put(<span class="string">"b"</span>, <span class="string">"B"</span>);</span><br><span class="line">				map.put(<span class="string">"c"</span>, <span class="string">"C"</span>);</span><br><span class="line">				</span><br><span class="line">				List&lt;Map.Entry&lt;String,String&gt;&gt; list=<span class="keyword">new</span> ArrayList&lt;Map.Entry&lt;String,String&gt;&gt;(map.entrySet());</span><br><span class="line">				Collections.sort(list,<span class="keyword">new</span> Comparator&lt;Map.Entry&lt;String,String&gt;&gt;() &#123;</span><br><span class="line">					<span class="meta">@Override</span></span><br><span class="line">					<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Entry&lt;String, String&gt; o1,</span></span></span><br><span class="line"><span class="function"><span class="params">							Entry&lt;String, String&gt; o2)</span> </span>&#123;</span><br><span class="line">						<span class="keyword">return</span> -(o1.getValue().compareTo(o2.getValue()));</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;);</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">for</span>(Map.Entry&lt;String, String&gt; mapping:list)&#123;</span><br><span class="line">					System.out.println(mapping.getKey()+<span class="string">":"</span>+mapping.getValue());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-Arrays类"><a href="#2-Arrays类" class="headerlink" title="2 Arrays类"></a>2 Arrays类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">主要用来对数组进行操作,全由静态方法组成</span><br><span class="line"></span><br><span class="line">--Arrays.sort();</span><br><span class="line">--Arrays.binarySearch(...)  <span class="comment">//二分查找</span></span><br><span class="line">--Arrays.copyOf() <span class="comment">//数组的复制</span></span><br><span class="line">--Arrays.fill() <span class="comment">//添充</span></span><br><span class="line">--Arrays.asList(T... a) <span class="comment">//数组转成集合</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 数组转成集合</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String[] array=&#123;<span class="string">"001"</span>,<span class="string">"002"</span>,<span class="string">"003"</span>&#125;;</span><br><span class="line">		List&lt;String&gt; list=Arrays.asList(array);</span><br><span class="line">		list.set(<span class="number">0</span>, <span class="string">"000"</span>);  <span class="comment">//可以</span></span><br><span class="line">		list.add(<span class="string">"004"</span>); <span class="comment">//注意 java.lang.UnsupportedOperationException 不支持功能异常</span></span><br><span class="line">		System.out.println(list);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//例子 集合变成数组</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">"a"</span>);</span><br><span class="line">		list.add(<span class="string">"a"</span>);</span><br><span class="line">		list.add(<span class="string">"a"</span>);</span><br><span class="line">		list.add(<span class="string">"a"</span>);</span><br><span class="line">		list.add(<span class="string">"004"</span>);</span><br><span class="line">		String[] array=<span class="keyword">new</span> String[list.size()];</span><br><span class="line">		list.toArray(array);</span><br><span class="line">		<span class="keyword">for</span>(String a:array)&#123;</span><br><span class="line">			System.out.println(a);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-System-类"><a href="#3-System-类" class="headerlink" title="3 System 类"></a>3 System 类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">System</span>  不可以被继承,不能被实例化</span></span><br><span class="line"><span class="class">	</span></span><br><span class="line"><span class="class">-- <span class="title">static</span> <span class="title">void</span> <span class="title">arraycopy</span>(<span class="title">Object</span> <span class="title">src</span>, <span class="title">int</span> <span class="title">srcPos</span>, <span class="title">Object</span> <span class="title">dest</span>, <span class="title">int</span> <span class="title">destPos</span>, <span class="title">int</span> <span class="title">length</span>) </span></span><br><span class="line"><span class="class">-- <span class="title">static</span> <span class="title">void</span> <span class="title">exit</span>(<span class="title">int</span> <span class="title">status</span>) //退出系统</span></span><br><span class="line"><span class="class">-- <span class="title">static</span> <span class="title">void</span> <span class="title">gc</span>()  //唤起垃圾回收器</span></span><br><span class="line"><span class="class">-- <span class="title">static</span> <span class="title">long</span> <span class="title">currentTimeMillis</span>() //取得当前时间,毫秒为单位</span></span><br><span class="line"><span class="class">-- <span class="title">static</span> <span class="title">Map</span>&lt;<span class="title">String</span>,<span class="title">String</span>&gt; <span class="title">getenv</span>()  //得到当前环境相关的信息(得到所有的环境变量)</span></span><br><span class="line"><span class="class">-- <span class="title">static</span> <span class="title">String</span> <span class="title">getenv</span>(<span class="title">String</span> <span class="title">name</span>)</span>;  <span class="comment">//根据环境变量的名称,得到环境变量的值</span></span><br><span class="line">			Map&lt;String,String&gt; map=System.getenv();</span><br><span class="line">			<span class="keyword">for</span>(Map.Entry&lt;String, String&gt; item:map.entrySet())&#123;</span><br><span class="line">				System.out.println(item.getKey()+<span class="string">":"</span>+item.getValue());</span><br><span class="line">			&#125;</span><br><span class="line">--<span class="function"><span class="keyword">static</span> String <span class="title">setProperty</span><span class="params">(String key, String value)</span>  <span class="comment">//设定系统属性</span></span></span><br><span class="line"><span class="function">--<span class="keyword">static</span> String <span class="title">getProperty</span><span class="params">(String key)</span> <span class="comment">//得到系统属性 </span></span></span><br><span class="line"><span class="function">--<span class="keyword">static</span> Properties <span class="title">getProperties</span><span class="params">()</span>  <span class="comment">//得到所有的系统属性</span></span></span><br><span class="line"><span class="function">			Properties prop</span>=System.getProperties();</span><br><span class="line">			Set&lt;Object&gt; set=prop.keySet();</span><br><span class="line">			<span class="keyword">for</span>(Object key:set)&#123;</span><br><span class="line">				System.out.println(key+<span class="string">":"</span>+prop.get(key));</span><br><span class="line">			&#125;</span><br><span class="line">		</span><br><span class="line">		这里的返回值Properties是一个集合,继承自Hashtable,所以也是键值对</span><br><span class="line">		它和Map的区别是从配置文件中读取信息</span><br><span class="line">		也就是说可以把文件中的数据,以键值对的方式进行返回</span><br></pre></td></tr></table></figure>
<h1 id="4-Runtime-类"><a href="#4-Runtime-类" class="headerlink" title="4 Runtime 类"></a>4 Runtime 类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">每个java应用程序都有一个Runtime类实例,使应用程序能够与其运行的环境相连接</span><br><span class="line">代表当前虚拟机进程,是不能<span class="keyword">new</span>的，可以通过getRuntime方法获取当前运行时对象</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">Runtime r=Runtime.getRuntime();</span><br><span class="line">Process p=r.exec(<span class="string">"mspaint c:\\xiaoji.jpg"</span>);</span><br><span class="line">Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">p.destroy();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-Date-和-SimpleDateFormat"><a href="#5-Date-和-SimpleDateFormat" class="headerlink" title="5 Date 和 SimpleDateFormat"></a>5 Date 和 SimpleDateFormat</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Date</span></span><br><span class="line">Date d=<span class="keyword">new</span> Date();  <span class="comment">//记住是java.util下的</span></span><br><span class="line">System.out.println(d.getTime());  <span class="comment">//毫秒  从1970 1-1 开始</span></span><br><span class="line">System.out.println(d);  <span class="comment">//Wed Jul 17 09:53:46 CST 2019</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//SimpleDateFormat 把日期进行格式化</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Date d=<span class="keyword">new</span> Date();  <span class="comment">//记住是java.util下的</span></span><br><span class="line">	System.out.println(d); <span class="comment">//Wed Jul 17 09:58:22 CST 2019</span></span><br><span class="line">	SimpleDateFormat sdf=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd hh:mm:ss E"</span>);</span><br><span class="line">	String str=sdf.format(d); <span class="comment">//重要,把时间转成字符串</span></span><br><span class="line">	System.out.println(str);  <span class="comment">//2019-07-17 09:58:22 星期三</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//SimpleDateFormat 是线程不安全的,不要创建全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串变成日期</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	String str=<span class="string">"2017-04-18"</span>;</span><br><span class="line">	SimpleDateFormat sdf=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);<span class="comment">//和字符串的格式保持一直,都则会出现java.text.ParseException</span></span><br><span class="line">	Date d=sdf.parse(str);</span><br><span class="line">	System.out.println(d);  <span class="comment">//Tue Apr 18 00:00:00 CST 2017</span></span><br><span class="line">	System.out.println(d.getTime());  <span class="comment">//1492444800000</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.8 DateTimeFormatter线程安全</span></span><br><span class="line">附:</span><br><span class="line">	<span class="number">1.8</span> Lambda 表达式:允许把函数作为一个方法的参数</span><br><span class="line">		Set&lt;Integer&gt; set=<span class="keyword">new</span> TreeSet&lt;Integer&gt;(<span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> o1-o2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="comment">//相当于</span></span><br><span class="line">		Set&lt;Integer&gt; set=<span class="keyword">new</span> TreeSet&lt;Integer&gt;((o1,o2)-&gt;o1-o2);  <span class="comment">//简化匿名内部类的编写</span></span><br></pre></td></tr></table></figure>
<h1 id="6-Calendar-类"><a href="#6-Calendar-类" class="headerlink" title="6 Calendar 类"></a>6 Calendar 类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">它是一个抽象类</span><br><span class="line">实例不能<span class="keyword">new</span> ,可以调用它的getInstance() 方法得到它的一个实例</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Calendar c=Calendar.getInstance();</span><br><span class="line">	System.out.println(c.get(Calendar.YEAR)); <span class="comment">//2019</span></span><br><span class="line">	System.out.println(c.get(Calendar.MONTH)); <span class="comment">//6  月份从0开始</span></span><br><span class="line">	System.out.println(c.get(Calendar.DATE)); <span class="comment">//17</span></span><br><span class="line">	System.out.println(c.get(Calendar.HOUR)); <span class="comment">//10</span></span><br><span class="line">	System.out.println(c.get(Calendar.MINUTE)); <span class="comment">//40</span></span><br><span class="line">	System.out.println(c.get(Calendar.SECOND)); <span class="comment">//38</span></span><br><span class="line">	</span><br><span class="line">	Date d=c.getTime();  <span class="comment">//获取当前时间变成Date类型</span></span><br><span class="line">	System.out.println(c);</span><br><span class="line">	System.out.println(d);</span><br><span class="line">	System.out.println(d.getTime());</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//c.set(c.get(Calendar.YEAR), c.get(Calendar.MONTH), c.get(Calendar.DATE));  当前时间</span></span><br><span class="line">	c.set(<span class="number">2017</span>,<span class="number">10</span>,<span class="number">20</span>);  <span class="comment">//可以手动指定</span></span><br><span class="line">	Date d1=c.getTime();  <span class="comment">//获取当前时间变成Date类型</span></span><br><span class="line">	System.out.println(d1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">最厉害的是可以对时间进行计算</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 根据当前时间算出,前一年,前一个月,前一天的时间</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Calendar c=Calendar.getInstance();</span><br><span class="line">	<span class="comment">//设置某个时间点</span></span><br><span class="line">	<span class="comment">//c.set(c.get(Calendar.YEAR), c.get(Calendar.MONTH), c.get(Calendar.DATE));</span></span><br><span class="line">	<span class="comment">//c.setTime(new Date());</span></span><br><span class="line">	<span class="comment">//c.set(2019, 7, 17);</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">/*c.add(Calendar.YEAR, -1);</span></span><br><span class="line"><span class="comment">	c.add(Calendar.MONTH, -1);</span></span><br><span class="line"><span class="comment">	c.add(Calendar.DATE, -1);*/</span></span><br><span class="line">	<span class="comment">//或者可以像下面这样,这时候都不用初始化时间点了</span></span><br><span class="line">	c.set(c.get(Calendar.YEAR)-<span class="number">1</span>, c.get(Calendar.MONTH)-<span class="number">1</span>, c.get(Calendar.DATE)-<span class="number">1</span>);</span><br><span class="line">	System.out.println(<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>).format(c.getTime()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="7-Math-类"><a href="#7-Math-类" class="headerlink" title="7 Math 类"></a>7 Math 类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">用于数学计算  <span class="comment">//去查询api更方便</span></span><br><span class="line">    abs()   <span class="comment">//绝对值</span></span><br><span class="line">    max(<span class="keyword">double</span> a,<span class="keyword">double</span> b)  <span class="comment">//取大的</span></span><br><span class="line">    min   <span class="comment">//取小的</span></span><br><span class="line">    random()  <span class="comment">//随机数  生成 0-1之间的随机小数, 含0,不含1</span></span><br><span class="line">    round()   <span class="comment">//该方法返回最接近或int/long整型</span></span><br><span class="line">    		<span class="keyword">double</span> x=<span class="number">9.342343</span>;</span><br><span class="line">		    System.out.println(Math.round(x));  <span class="comment">//10</span></span><br><span class="line">		</span><br><span class="line">    ceil()   <span class="comment">// 9.8 =&gt;10  取大于它的最小整数</span></span><br><span class="line">    floor()  <span class="comment">// 9.8 =&gt; 9 取小于它的最大整数</span></span><br></pre></td></tr></table></figure>
<h1 id="8-Random类"><a href="#8-Random类" class="headerlink" title="8 Random类"></a>8 Random类</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Random r=<span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">int</span> b=r.nextInt(<span class="number">10</span>);</span><br><span class="line">System.out.println(b);</span><br></pre></td></tr></table></figure>
<h1 id="9-可变数组参数"><a href="#9-可变数组参数" class="headerlink" title="9 可变数组参数"></a>9 可变数组参数</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//test(new String[]&#123;"a","b"&#125;);</span></span><br><span class="line">		<span class="comment">//test("c");</span></span><br><span class="line">		test(<span class="string">"d"</span>,<span class="string">"e"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String ... arr)</span></span>&#123;<span class="comment">//相当于数组,可以变化,不管传什么,都变化了数组</span></span><br><span class="line">		System.out.println(arr);</span><br><span class="line">		System.out.println(arr.length);</span><br><span class="line">		<span class="keyword">for</span>(String str:arr)&#123;</span><br><span class="line">			System.out.println(str);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="10-对象的克隆"><a href="#10-对象的克隆" class="headerlink" title="10 对象的克隆"></a>10 对象的克隆</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">分为浅克隆和深克隆</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>) 浅克隆:要克隆的类属性都是基本数据类型或者String类型</span><br><span class="line">	a:实现java.lang.Cloneable 接口</span><br><span class="line">	b:重写clone方法(在Object类中)</span><br><span class="line">	</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Student stu1=<span class="keyword">new</span> Student();</span><br><span class="line">			stu1.age=<span class="number">20</span>;</span><br><span class="line">			stu1.stuName=<span class="string">"张三"</span>;</span><br><span class="line">			</span><br><span class="line">			Student stu2=stu1.clone();</span><br><span class="line">			stu2.age=<span class="number">21</span>;</span><br><span class="line">			stu2.stuName=<span class="string">"李四"</span>;</span><br><span class="line">			</span><br><span class="line">			System.out.println(stu1.age+<span class="string">","</span>+stu1.stuName);  <span class="comment">//20,张三 克隆成功</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> String stuName;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">protected</span> Student <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">			Object obj=<span class="keyword">super</span>.clone();</span><br><span class="line">			<span class="keyword">return</span> (Student)obj;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>) 深克隆:克隆的类的属性不是基本数据类型和String类型</span><br><span class="line">	a:每个类都要实现java.lang.Cloneable 接口</span><br><span class="line">	b:每个类都要重写clone方法(在Object类中)</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			Student stu1=<span class="keyword">new</span> Student();</span><br><span class="line">			Person p1=<span class="keyword">new</span> Person();</span><br><span class="line">			p1.pName=<span class="string">"好人"</span>;</span><br><span class="line">			stu1.p=p1;</span><br><span class="line">			stu1.age=<span class="number">20</span>;</span><br><span class="line">			</span><br><span class="line">			Student stu2=stu1.clone();</span><br><span class="line">			stu2.age=<span class="number">21</span>;</span><br><span class="line">			stu2.p.pName=<span class="string">"坏人"</span>;</span><br><span class="line">			</span><br><span class="line">			System.out.println(stu1.age+<span class="string">","</span>+stu1.p.pName);  <span class="comment">//20,坏人 没有成功克隆  说明基本数据类型或者String通过浅克隆的方式成功,但是非基本数据类型(除了String)用浅克隆并没有成功</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> Person p;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">protected</span> Student <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">			Object obj=<span class="keyword">super</span>.clone();</span><br><span class="line">			<span class="keyword">return</span> (Student)obj;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> String pName;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//深克隆</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		Student stu1=<span class="keyword">new</span> Student();</span><br><span class="line">		Person p1=<span class="keyword">new</span> Person();</span><br><span class="line">		p1.pName=<span class="string">"好人"</span>;</span><br><span class="line">		stu1.p=p1;</span><br><span class="line">		stu1.age=<span class="number">20</span>;</span><br><span class="line">		</span><br><span class="line">		Student stu2=stu1.clone();</span><br><span class="line">		stu2.age=<span class="number">21</span>;</span><br><span class="line">		stu2.p.pName=<span class="string">"坏人"</span>;</span><br><span class="line">		</span><br><span class="line">		System.out.println(stu1.age+<span class="string">","</span>+stu1.p.pName);  <span class="comment">//20,好人 说明深层克隆页成功,也就是深克隆成功</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> Person p;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> Student <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">		Object obj=<span class="keyword">super</span>.clone();</span><br><span class="line">		Student s=(Student)obj;</span><br><span class="line">		s.p=p.clone();</span><br><span class="line">		<span class="keyword">return</span> s;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> String pName;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> Person <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (Person)<span class="keyword">super</span>.clone();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十二天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十二天/" class="post-title-link" itemprop="url">java的Map集合框架</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 19:05:31" itemprop="dateCreated datePublished" datetime="2019-08-02T19:05:31+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:44:26" itemprop="dateModified" datetime="2019-08-04T12:44:26+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-泛型"><a href="#1-泛型" class="headerlink" title="1 泛型"></a>1 泛型</h1><p>​            </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">	list.add(<span class="string">"张三"</span>);</span><br><span class="line">	list.add(<span class="string">"aaa"</span>);</span><br><span class="line">	list.add(<span class="string">"bbb"</span>);</span><br><span class="line">	list.add(<span class="number">10</span>);  <span class="comment">//报错</span></span><br><span class="line">	</span><br><span class="line">	Iterator&lt;String&gt; it=list.iterator();</span><br><span class="line">	<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">		System.out.println(it.next().length());  <span class="comment">//返回的就是String对象,不在是Object了</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">好处:</span><br><span class="line">泛型是<span class="number">1.5</span>出现的</span><br><span class="line"><span class="number">1</span>) 省去了强转</span><br><span class="line"><span class="number">2</span>) 把运行期可能出现的异常转接到编译期就可以发现</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 字符串排序</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Set&lt;String&gt; s=<span class="keyword">new</span> TreeSet&lt;String&gt;(<span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> o1.length()-o2.length();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	s.add(<span class="string">"aaa"</span>);</span><br><span class="line">	s.add(<span class="string">"aaa"</span>);</span><br><span class="line">	s.add(<span class="string">"aaa"</span>);</span><br><span class="line">	System.out.println(s);</span><br><span class="line">&#125;</span><br><span class="line">发现,自定义比较器也可以指定泛型,当指定泛型之后,方法的参数将会变成相应类型,省去了强转</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义泛型类</span></span><br><span class="line"></span><br><span class="line">泛型类,在定义类的时候,声明泛型,例如</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">以后在类体中任何位置(静态变量,静态方法,代码块除外),就可以把T当作一个类型去使用</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Dog&lt;String&gt; g=<span class="keyword">new</span> Dog&lt;String&gt;();</span><br><span class="line">		g.test(<span class="string">"a"</span>, <span class="string">"b"</span>);</span><br><span class="line">		g.test(<span class="number">10</span>, <span class="string">""</span>); <span class="comment">//错误,因为泛型为String类型</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(T t1,T t2)</span></span>&#123;</span><br><span class="line">		System.out.println(t1+<span class="string">","</span>+t2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 可以使用多个泛型</span></span><br><span class="line">注意:泛型只能用引用类型,基本数据类型不可以,可以用它们的包装类</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Dog&lt;String,Integer,Cat&lt;Double,Boolean&gt;&gt; g=<span class="keyword">new</span> Dog&lt;String,Integer,Cat&lt;Double,Boolean&gt;&gt;();</span><br><span class="line">		g.test(<span class="string">""</span>, <span class="number">10</span>, <span class="keyword">new</span> Cat&lt;Double,Boolean&gt;());</span><br><span class="line">		g.test(<span class="string">""</span>, <span class="number">10</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>&lt;<span class="title">T</span>,<span class="title">E</span>,<span class="title">S</span>&gt;</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(T t1,E e1,S s1)</span></span>&#123;</span><br><span class="line">		System.out.println(t1+<span class="string">","</span>+e1+<span class="string">","</span>+s1);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(T t1,E e1)</span></span>&#123;</span><br><span class="line">		System.out.println(t1+<span class="string">","</span>+e1);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>&lt;<span class="title">T</span>,<span class="title">E</span>&gt;</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//泛型方法</span></span><br><span class="line">	</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(T t)</span></span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//泛型接口</span></span><br><span class="line">	<span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span>&lt;<span class="title">T</span>,<span class="title">E</span>,<span class="title">U</span>&gt;</span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> U <span class="title">quetyObj</span><span class="params">(T t,E e)</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span>&lt;<span class="title">String</span>, <span class="title">String</span>, <span class="title">User</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> User <span class="title">quetyObj</span><span class="params">(String t, String e)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//泛型限定</span></span><br><span class="line">	<span class="number">1</span>) 泛型限定上限 &lt;? extends T&gt;  <span class="comment">//表示能接受T或者T的子类型</span></span><br><span class="line">	<span class="number">2</span>) 泛型限定下限 &lt;? <span class="keyword">super</span> T&gt;   <span class="comment">//表示能接受T或者T的父类型</span></span><br><span class="line">	<span class="number">3</span>) ?  <span class="comment">//表示所有类型</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 1) 泛型限定上限 &lt;? extends T&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;Person&gt; list1=<span class="keyword">new</span> ArrayList&lt;Person&gt;();</span><br><span class="line">		List&lt;Student&gt; list2=<span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">		List&lt;Object&gt; list3=<span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">		test(list1);</span><br><span class="line">		test(list2);</span><br><span class="line">		test(list3);  <span class="comment">//不可以,因为Object并不是Person的子类</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(List&lt;? extends Person&gt; list)</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 2) 泛型限定下限 &lt;? super T&gt; </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;Person&gt; list1=<span class="keyword">new</span> ArrayList&lt;Person&gt;();</span><br><span class="line">		List&lt;Student&gt; list2=<span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">		List&lt;Object&gt; list3=<span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">		test(list1);</span><br><span class="line">		test(list2); <span class="comment">//不可以,因为Student是Person的子类,只能放Person的父类</span></span><br><span class="line">		test(list3);  </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(List&lt;? <span class="keyword">super</span> Person&gt; list)</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 3) ?</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;Person&gt; list1=<span class="keyword">new</span> ArrayList&lt;Person&gt;();</span><br><span class="line">		List&lt;Student&gt; list2=<span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">		List&lt;Object&gt; list3=<span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">		test(list1);</span><br><span class="line">		test(list2); </span><br><span class="line">		test(list3);  </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(List&lt;?&gt; list)</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-Map集合"><a href="#2-Map集合" class="headerlink" title="2 Map集合"></a>2 Map集合</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	Map接口  (双列集合的跟接口)</span><br><span class="line">	</span><br><span class="line">|		|		|			|</span><br><span class="line">HashMap  TreeMap  Hashtable    LinkedHashMap</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">声眀</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">	</span><br><span class="line">Map 集合是无序,不可以有重复的key(,后出现的key会把前面的覆盖掉),可以有重复的value</span><br><span class="line"></span><br><span class="line">--HashMap (基于哈希表,也叫散列表) <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">Serializable</span></span></span><br><span class="line"><span class="class">--<span class="title">TreeMap</span> (有序的(<span class="title">key</span>有序),自然顺序,底层是红黑树实现的(红黑树就是平衡的二叉排序树))</span></span><br><span class="line"><span class="class">--<span class="title">Hashtable</span> (基于哈希表,也叫散列表)和<span class="title">HashMap</span>基本一样 <span class="title">public</span> <span class="title">class</span> <span class="title">Hashtable</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">Dictionary</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class">--<span class="title">LinkedHashMap</span> (有序的,存的顺序,链表特性)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">HashMap</span>和<span class="title">Hashtable</span>区别?</span></span><br><span class="line"><span class="class">1) 它们都是<span class="title">Map</span>的子类,都实现了<span class="title">Map</span>接口,但是继承子不同类</span></span><br><span class="line"><span class="class">2) <span class="title">HashMap</span>可以存<span class="title">null</span>值和<span class="title">null</span>键,<span class="title">Hashtable</span>不可以</span></span><br><span class="line"><span class="class">3) <span class="title">Hashtable</span>比较古老,从1.0出现的,线程安全,<span class="title">HashMap</span>线程不安全</span></span><br><span class="line">附:线程安全的map实现类还有一个叫ConcurrentHashMap,并发性更好,效率更好,线程安全</span><br><span class="line">	</span><br><span class="line">	它会锁住当前的桶子,别的位置都不会锁住,所以并发性就强,</span><br><span class="line">	而且,他在对表做修改类操作时,会锁住,做查询,并不会</span><br><span class="line">	原因是变量使用的是<span class="keyword">volatile</span>修饰的</span><br><span class="line">	只能修饰变量</span><br><span class="line">	用它修饰的变量特点:对变量的修改强制改变主存,这时候缓存将无效</span><br><span class="line"></span><br><span class="line">HashMap 默认容量<span class="number">16</span>    加载因子<span class="number">0.75</span>,每次扩展 <span class="number">1</span> 倍</span><br><span class="line">Hashtable 默认容量是<span class="number">11</span>,加载因子<span class="number">0.75</span>,扩容:<span class="number">2</span>*原容量+<span class="number">1</span>     (不太重要)  </span><br><span class="line"></span><br><span class="line">	 Map中的方法</span><br><span class="line">	  <span class="function">V <span class="title">put</span><span class="params">(K key, V value)</span> <span class="comment">//往map集合里放数据 </span></span></span><br><span class="line"><span class="function">	  <span class="keyword">void</span> <span class="title">putAll</span><span class="params">(Map&lt;? extends K,? extends V&gt; m)</span> </span></span><br><span class="line"><span class="function">	  V <span class="title">remove</span><span class="params">(Object key)</span> <span class="comment">//根据key ,移除一个元素 </span></span></span><br><span class="line"><span class="function">	  <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="comment">//查看集合中一共有多少组元素 V</span></span></span><br><span class="line"><span class="function">	  <span class="title">get</span><span class="params">(Object key)</span> <span class="comment">//根据key 取 value </span></span></span><br><span class="line"><span class="function">	  <span class="keyword">boolean</span> <span class="title">containsKey</span><span class="params">(Object key)</span>判断是不是包含一个key </span></span><br><span class="line"><span class="function">	  <span class="keyword">boolean</span> <span class="title">containsValue</span><span class="params">(Object value)</span> <span class="comment">//判断是不是包含一个value</span></span></span><br><span class="line"><span class="function">	  Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span> <span class="comment">//取所有的key, 以Set方式返回</span></span></span><br><span class="line"><span class="function">	  Collection&lt;V&gt; <span class="title">values</span><span class="params">()</span> <span class="comment">//取所有的value 以Collection 形式返回 </span></span></span><br><span class="line"><span class="function">	  <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> <span class="comment">//判断是不是空 </span></span></span><br><span class="line"><span class="function">	  <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> <span class="comment">//清除</span></span></span><br><span class="line"><span class="function">	  Set&lt;Map.Entry&lt;K,V&gt; <span class="title">entrySet</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	  </span></span><br><span class="line"><span class="function">	  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			Map&lt;String,String&gt; map=<span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">			map.put(<span class="string">"01"</span>, <span class="string">"一号罪犯"</span>);</span><br><span class="line">			map.put(<span class="string">"02"</span>, <span class="string">"二号罪犯"</span>);</span><br><span class="line">			map.put(<span class="string">"03"</span>, <span class="string">"三号罪犯"</span>);</span><br><span class="line">			map.put(<span class="string">"04"</span>, <span class="string">"四号罪犯"</span>);</span><br><span class="line">			System.out.println(map);</span><br><span class="line">			System.out.println(map.size());  <span class="comment">//4</span></span><br><span class="line">			</span><br><span class="line">			System.out.println(map.containsKey(<span class="string">"01"</span>)); <span class="comment">//true</span></span><br><span class="line">			System.out.println(map.containsValue(<span class="string">"二号罪犯"</span>)); <span class="comment">//true</span></span><br><span class="line">			System.out.println(map.get(<span class="string">"02"</span>)); <span class="comment">//二号罪犯</span></span><br><span class="line">			String value=map.remove(<span class="string">"04"</span>);</span><br><span class="line">			System.out.println(<span class="string">"移除了:"</span>+value);</span><br><span class="line">			</span><br><span class="line">			Map&lt;String,String&gt; map1=<span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">			map1.put(<span class="string">"05"</span>, <span class="string">"新进来的"</span>);</span><br><span class="line">			</span><br><span class="line">			map.putAll(map1);</span><br><span class="line">			System.out.println(map);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"是否为空:"</span>+map.isEmpty());</span><br><span class="line">			</span><br><span class="line">			map.clear();  <span class="comment">//只是清空了里面的内容,并不是说关闭销毁对象</span></span><br><span class="line">			System.out.println(map.isEmpty()); <span class="comment">//true</span></span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//什么是哈希表</span></span><br><span class="line">哈希表就是一种数据结构,数组+链表</span><br><span class="line">数组:查询块,添加,删除慢</span><br><span class="line">链表:添加,删除快,查询慢</span><br><span class="line">哈希表:把两个优点进行结合,操作起来就特别快了</span><br><span class="line"></span><br><span class="line">比如:HashMap  用哈希表实现的</span><br><span class="line">默认容量<span class="number">16</span></span><br><span class="line">容量会根据情况扩容,这里不考虑扩容</span><br><span class="line"></span><br><span class="line">数组</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="string">"aaa"</span>----&gt;<span class="string">"bbb"</span>        链表</span><br><span class="line">....</span><br><span class="line">...</span><br><span class="line"><span class="number">15</span></span><br><span class="line"></span><br><span class="line">首先map.put(<span class="number">1</span>,<span class="string">"aaa"</span>),让key求哈希值,发现是<span class="number">1</span></span><br><span class="line">会存在数组的<span class="number">1</span>位置</span><br><span class="line">然后当在存储(<span class="number">33</span>,<span class="string">"bbb"</span>),会让key%<span class="number">16</span>求哈希值,发现还是<span class="number">1</span>的位置</span><br><span class="line">这时候会产生叫做 <span class="string">"哈希冲突"</span> 的情况,然后为了解决,使用了链表模式</span><br><span class="line"></span><br><span class="line">注意:在jdk1.8之前,HashMap底层是哈希表(数组+链表)</span><br><span class="line">	 在jdk1.8之后,HashMap底层(数组+链表+红黑树)</span><br><span class="line">	 为什么会这样,原因是当哈西冲突太多的时候,链表满足不了快速的特性,这时候,链表就会自动变成红黑树实现</span><br><span class="line">	 哈西冲突太多到达阀值(默认<span class="number">8</span>)情况,会使用红黑树实现</span><br></pre></td></tr></table></figure>
<h1 id="3-Map集合的遍历"><a href="#3-Map集合的遍历" class="headerlink" title="3 Map集合的遍历"></a>3 Map集合的遍历</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Map&lt;String,String&gt; map=<span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">		map.put(<span class="string">"01"</span>, <span class="string">"一号罪犯"</span>);</span><br><span class="line">		map.put(<span class="string">"02"</span>, <span class="string">"二号罪犯"</span>);</span><br><span class="line">		map.put(<span class="string">"03"</span>, <span class="string">"三号罪犯"</span>);</span><br><span class="line">		map.put(<span class="string">"04"</span>, <span class="string">"四号罪犯"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//方式一  迭代器+keyset方式迭代</span></span><br><span class="line">		Set&lt;String&gt; keySet=map.keySet();</span><br><span class="line">		Iterator&lt;String&gt; it=keySet.iterator();</span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">			String key=it.next();</span><br><span class="line">			System.out.println(key+<span class="string">"--&gt;"</span>+map.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"==========================="</span>);</span><br><span class="line">		<span class="comment">//方式二 增强for+keyset方式迭代</span></span><br><span class="line">		<span class="keyword">for</span>(String key:map.keySet())&#123;</span><br><span class="line">			System.out.println(key+<span class="string">"--&gt;"</span>+map.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"============================="</span>);</span><br><span class="line">		<span class="comment">//方式三 迭代器+map.entry 迭代</span></span><br><span class="line">		Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet=map.entrySet(); <span class="comment">//Map.Entry是一个接口,代表映射项,key_value</span></span><br><span class="line">		Iterator&lt;Map.Entry&lt;String, String&gt;&gt; item=entrySet.iterator();</span><br><span class="line">		<span class="keyword">while</span>(item.hasNext())&#123;</span><br><span class="line">			Map.Entry&lt;String, String&gt; e=item.next();</span><br><span class="line">			System.out.println(e.getKey()+<span class="string">"--&gt;"</span>+e.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"==============================="</span>);</span><br><span class="line">		<span class="comment">//方式四 增强for+map.entry 迭代</span></span><br><span class="line">		<span class="keyword">for</span>(Map.Entry&lt;String, String&gt; em:map.entrySet())&#123;</span><br><span class="line">			System.out.println(em.getKey()+<span class="string">"----&gt;"</span>+em.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"==============================="</span>);</span><br><span class="line">		<span class="comment">//方式五 使用values()方法  只能得到value,并不能得到key</span></span><br><span class="line">		<span class="keyword">for</span>(String str:map.values())&#123;</span><br><span class="line">			System.out.println(str);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">上面严格来说,前四种是遍历map集合的方式,最后一种,只能得到value,实际不算map遍历</span><br><span class="line"></span><br><span class="line">迭代器+keyset方式迭代:<span class="number">94</span></span><br><span class="line">增强<span class="keyword">for</span>+keyset方式迭代:<span class="number">313</span></span><br><span class="line">迭代器+map.entry 迭代:<span class="number">62</span></span><br><span class="line">增强<span class="keyword">for</span>+map.entry 迭代:<span class="number">47</span></span><br><span class="line"></span><br><span class="line">迭代器+keyset方式迭代:<span class="number">218</span></span><br><span class="line">增强<span class="keyword">for</span>+keyset方式迭代:<span class="number">78</span></span><br><span class="line">迭代器+map.entry 迭代:<span class="number">79</span></span><br><span class="line">增强<span class="keyword">for</span>+map.entry 迭代:<span class="number">78</span></span><br><span class="line"></span><br><span class="line">迭代器+keyset方式迭代:<span class="number">125</span></span><br><span class="line">增强<span class="keyword">for</span>+keyset方式迭代:<span class="number">78</span></span><br><span class="line">迭代器+map.entry 迭代:<span class="number">172</span></span><br><span class="line">增强<span class="keyword">for</span>+map.entry 迭代:<span class="number">78</span></span><br><span class="line"></span><br><span class="line">通过测试用例,推荐使用 增强<span class="keyword">for</span>+map.entry 方式</span><br></pre></td></tr></table></figure>
<p>​            </p>
<h1 id="4-Map集合中存放自定义对象"><a href="#4-Map集合中存放自定义对象" class="headerlink" title="4 Map集合中存放自定义对象"></a>4 Map集合中存放自定义对象</h1><p>​        需求: 定义一个犯人类,创建几个犯人,往集合中放,然后遍历,分别调用自己的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Map&lt;String,Japan&gt; map=<span class="keyword">new</span> HashMap&lt;String,Japan&gt;();</span><br><span class="line">		Japan j1=<span class="keyword">new</span> Japan(<span class="string">"安培晋三"</span>, <span class="string">"001"</span>, <span class="string">"不当人当狗"</span>);</span><br><span class="line">		Japan j2=<span class="keyword">new</span> Japan(<span class="string">"特朗普"</span>, <span class="string">"002"</span>, <span class="string">"养狗"</span>);</span><br><span class="line">		map.put(j1.cardId, j1);</span><br><span class="line">		map.put(j2.cardId, j2);</span><br><span class="line">		</span><br><span class="line">		Set&lt;Map.Entry&lt;String,Japan&gt;&gt;  item=map.entrySet();</span><br><span class="line">		Iterator&lt;Map.Entry&lt;String,Japan&gt;&gt; e=item.iterator();</span><br><span class="line">		<span class="keyword">while</span>(e.hasNext())&#123;</span><br><span class="line">			Map.Entry&lt;String,Japan&gt; em=e.next();</span><br><span class="line">			System.out.println(<span class="string">"编号:"</span>+em.getKey());</span><br><span class="line">			System.out.println(<span class="string">"拖出去枪毙"</span>);</span><br><span class="line">			em.getValue().kill();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Japan</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> String name;</span><br><span class="line">	<span class="keyword">public</span> String cardId;</span><br><span class="line">	<span class="keyword">public</span> String zuiXing;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Japan</span><span class="params">(String name, String cardId, String zuiXing)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.cardId = cardId;</span><br><span class="line">		<span class="keyword">this</span>.zuiXing = zuiXing;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">kill</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"我是犯人:"</span>+<span class="keyword">this</span>.name+<span class="string">",我的罪行是:"</span>+<span class="keyword">this</span>.zuiXing);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">注意:集合在遍历的时候需要注意的问题</span><br><span class="line">	 </span><br><span class="line">	 以List集合为例</span><br><span class="line">	 </span><br><span class="line">	 普通<span class="keyword">for</span>循环</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">			list.add(<span class="string">"a"</span>);</span><br><span class="line">			list.add(<span class="string">"b"</span>);</span><br><span class="line">			list.add(<span class="string">"c"</span>);</span><br><span class="line">			list.add(<span class="string">"d"</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;</span><br><span class="line">				<span class="comment">//删除</span></span><br><span class="line">				<span class="comment">//list.remove(i);  //[b, d] 每次都会影响for的条件,所以会少循环</span></span><br><span class="line">				<span class="comment">//添加</span></span><br><span class="line">				<span class="comment">//list.add("e");  //死循环,直到内存溢出</span></span><br><span class="line">				<span class="comment">//修改</span></span><br><span class="line">				list.set(i, list.get(i)+list.get(i)); <span class="comment">//[aa, bb, cc, dd]</span></span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(list);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	增强<span class="keyword">for</span>循环</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">			list.add(<span class="string">"a"</span>);</span><br><span class="line">			list.add(<span class="string">"b"</span>);</span><br><span class="line">			list.add(<span class="string">"c"</span>);</span><br><span class="line">			list.add(<span class="string">"d"</span>);</span><br><span class="line">			<span class="keyword">for</span>(String li:list)&#123;</span><br><span class="line">				<span class="comment">//删除</span></span><br><span class="line">				<span class="comment">//list.remove(li);  java.util.ConcurrentModificationException</span></span><br><span class="line">				<span class="comment">//添加</span></span><br><span class="line">				<span class="comment">//list.add("e"); java.util.ConcurrentModificationException</span></span><br><span class="line">				<span class="comment">//修改</span></span><br><span class="line">				list.set(list.indexOf(li),li+li);  <span class="comment">//[aa, bb, cc, dd]</span></span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(list);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	迭代器</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">				List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">				list.add(<span class="string">"a"</span>);</span><br><span class="line">				list.add(<span class="string">"b"</span>);</span><br><span class="line">				list.add(<span class="string">"c"</span>);</span><br><span class="line">				list.add(<span class="string">"d"</span>);</span><br><span class="line">				Iterator&lt;String&gt; it=list.iterator();</span><br><span class="line">				<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">					<span class="comment">//删除</span></span><br><span class="line">					<span class="comment">//list.remove(it.next()); //java.util.ConcurrentModificationException</span></span><br><span class="line">					<span class="comment">//添加</span></span><br><span class="line">					<span class="comment">/*it.next();</span></span><br><span class="line"><span class="comment">					list.add("e");  //java.util.ConcurrentModificationException*/</span></span><br><span class="line">					<span class="comment">//修改</span></span><br><span class="line">					String key=it.next();</span><br><span class="line">					list.set(list.indexOf(key), key+key); <span class="comment">//[aa, bb, cc, dd]</span></span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(list);</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">总结:在使用迭代器和增强<span class="keyword">for</span>时,对集合的操作,比如删除和添加,只要是改变集合大小的操作</span><br><span class="line">	 都会出现java.util.ConcurrentModificationException  并发修改异常</span><br><span class="line">	 </span><br><span class="line">	 附:增强<span class="keyword">for</span>循环的内部使用的就是迭代器</span><br><span class="line">	 </span><br><span class="line">	 为什么会出现java.util.ConcurrentModificationException 异常呢?</span><br><span class="line">	 上面出现的异常,并不是对集合操作出现的异常,而是对迭代器操作出现的 ,就是 it.next()</span><br><span class="line">	 </span><br><span class="line">	 跟进源码:发现</span><br><span class="line">	 当创建迭代器对象时,首先执行</span><br><span class="line">	 <span class="keyword">int</span> expectedModCount = modCount;</span><br><span class="line">	 也就是起始值相同</span><br><span class="line">	 当我们在迭代时,对集合进行了添加,删除操作时,会影响modCount自增</span><br><span class="line">	 所以当执行checkForComodification();方法时</span><br><span class="line">	 <span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">checkForComodification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">	  &#125;</span><br><span class="line">	  会出现异常</span><br><span class="line">	  </span><br><span class="line">	如果就想在迭代时,删除元素,可以使用迭代器的方法,别操作集合  !!!!</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">				List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">				list.add(<span class="string">"a"</span>);</span><br><span class="line">				list.add(<span class="string">"b"</span>);</span><br><span class="line">				list.add(<span class="string">"c"</span>);</span><br><span class="line">				list.add(<span class="string">"d"</span>);</span><br><span class="line">				Iterator&lt;String&gt; it=list.iterator();</span><br><span class="line">				<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">					it.next();</span><br><span class="line">					it.remove();</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(list);</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>
<p>​                </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第十天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第十天/" class="post-title-link" itemprop="url">java的String类</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 18:41:04" itemprop="dateCreated datePublished" datetime="2019-08-02T18:41:04+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:43:52" itemprop="dateModified" datetime="2019-08-04T12:43:52+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-String-类"><a href="#1-String-类" class="headerlink" title="1 String 类"></a>1 String 类</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span> //不能被继承，因为被<span class="title">final</span>修饰了</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">字符串是一个常量，创建之后不可以改变</span></span><br><span class="line"><span class="class"><span class="title">String</span> <span class="title">str</span></span>=<span class="string">"123"</span>;</span><br><span class="line">str=<span class="string">"456"</span>;  <span class="comment">//123 在内存中是不会改变的，变化的是str的引用，也就是地址</span></span><br><span class="line"></span><br><span class="line">==如何把字符数组变成字符串</span><br><span class="line">		<span class="keyword">char</span>[] ch=&#123;<span class="string">'中'</span>,<span class="string">'国'</span>,<span class="string">'人'</span>&#125;;</span><br><span class="line">		String str=<span class="keyword">new</span> String(ch);</span><br><span class="line">		System.out.println(str);</span><br><span class="line">		</span><br><span class="line">==如何把字符串变成字符数组</span><br><span class="line">		String str=<span class="string">"中国人"</span>;</span><br><span class="line">		<span class="keyword">char</span>[] chArray=str.toCharArray();</span><br><span class="line">		System.out.print(chArray);  <span class="comment">//中国人   并不是地址值，因为jdk API已经帮我们重写了这个方法</span></span><br><span class="line">		</span><br><span class="line">==如何把字符串变成字节数组</span><br><span class="line">		String str=<span class="string">"中国人"</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] buf=str.getBytes();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;buf.length;i++)&#123;</span><br><span class="line">			System.out.println(buf[i]);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">字符串创建的两种方式</span><br><span class="line">	<span class="number">1</span>） String str=<span class="string">"abc"</span>;</span><br><span class="line">	<span class="number">2</span>)  String str=<span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">	</span><br><span class="line">	说明：</span><br><span class="line">	<span class="number">1</span>）用方式一创建的String，他会现在常量池中看看有没有abc的常量，有，不创建，没有创建，然后在栈中创建一个引用</span><br><span class="line">		str指向堆中方法区的常量池地址</span><br><span class="line">	</span><br><span class="line">	<span class="number">2</span>）用方式二创建的String，会现在常量池找有没有abc，发现，存在了，就不再创建</span><br><span class="line">		然后执行<span class="keyword">new</span> String();，就会在堆中创建空间，并引用常量池的地址值，</span><br><span class="line">		然后在栈中创建引用str，指向堆中的地址</span><br><span class="line">		</span><br><span class="line">		String str=<span class="string">"abc"</span>；</span><br><span class="line">		String newStr=<span class="string">"abc"</span>;</span><br><span class="line">		几个对象？几个引用</span><br><span class="line">		一个对象，在常量池中</span><br><span class="line">		两个引用</span><br><span class="line">		System.out.println(str==newStr);  <span class="comment">//true</span></span><br><span class="line">		System.out.println(str.equals(newStr));  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h1 id="2-字符串的比较"><a href="#2-字符串的比较" class="headerlink" title="2 字符串的比较"></a>2 字符串的比较</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例一</span></span><br><span class="line"> String s0=<span class="string">"abc"</span>;</span><br><span class="line"> String s1=<span class="string">"abc"</span>;</span><br><span class="line"> System.out.println(s0==s1);  <span class="comment">//true  s0和s1都指向同一个地址</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//例二</span></span><br><span class="line">   String s0=<span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">   String s1=<span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">   System.out.println(s0==s1);  <span class="comment">//false,  s0和s1分别指向了堆中</span></span><br><span class="line">   System.out.println(s0.equals(s1));  <span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">//例三 编译期确定的值 </span></span><br><span class="line">   String s0=<span class="string">"abc"</span>;</span><br><span class="line">   String s1=<span class="string">"abc"</span>;</span><br><span class="line">   String s2=<span class="string">"a"</span>+<span class="string">"bc"</span>;</span><br><span class="line">   System.out.println(s0==s1);  </span><br><span class="line">   System.out.println(s0==s2); </span><br><span class="line"></span><br><span class="line"><span class="comment">//例三 编译期不确定的值 </span></span><br><span class="line">   String s0=<span class="string">"abc"</span>;</span><br><span class="line">   String s1=<span class="string">"a"</span>;</span><br><span class="line">   String s2=s1+<span class="string">"bc"</span>;  <span class="comment">//在编译期不能确定  s2=new String(abc)</span></span><br><span class="line">   System.out.println(s0==s1);  <span class="comment">//false</span></span><br><span class="line">   System.out.println(s0==s2);  <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常量是认识的</span></span><br><span class="line">String s0=<span class="string">"abc"</span>;</span><br><span class="line"><span class="keyword">final</span> String s1=<span class="string">"a"</span>;</span><br><span class="line">String s2=s1+<span class="string">"bc"</span>;  <span class="comment">//在编译期能确定常量s1,所以可以理解这地方就是 ”a“+"bc"</span></span><br><span class="line">System.out.println(s0==s1);  <span class="comment">//false</span></span><br><span class="line">System.out.println(s0==s2);  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>s0</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//例四</span><br><span class="line">  String s0=&quot;abc&quot;;</span><br><span class="line">  String s1=new String(&quot;abc&quot;);</span><br><span class="line">  String s2=&quot;a&quot;+new String(&quot;bc&quot;);</span><br><span class="line">  							//s2此时是一个堆中地址，实际上内部执行了 new String(&quot;abc&quot;)一个操作</span><br><span class="line">  System.out.println(s0==s1);  //false</span><br><span class="line">  System.out.println(s0==s2);  //false</span><br><span class="line">  </span><br><span class="line">//例五</span><br><span class="line">  </span><br><span class="line">   String s0=&quot;a1&quot;;</span><br><span class="line">   String s1=&quot;a&quot;+1;  //会提升int的类型</span><br><span class="line">   System.out.println(s0==s1);  //true</span><br><span class="line">   </span><br><span class="line">   String s2=&quot;atrue&quot;;</span><br><span class="line">   String s3=&quot;a&quot;+true;  //会提升boolean的类型</span><br><span class="line">   System.out.println(s2==s3);  //true</span><br></pre></td></tr></table></figure>
<p>​         </p>
<h1 id="3-String对象内存分析"><a href="#3-String对象内存分析" class="headerlink" title="3 String对象内存分析"></a>3 String对象内存分析</h1><p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//例一</span><br><span class="line">String a=&quot;abc&quot;；①</span><br><span class="line">String b=&quot;abc&quot;；②</span><br><span class="line"></span><br><span class="line">①代码执行后，会在常量池中创建一个 “abc“的常量值</span><br><span class="line">②代码执行后，因为常量池中存在”abc“,所以不会创建</span><br><span class="line"></span><br><span class="line">//例二</span><br><span class="line">String a=new String(&quot;abc&quot;)；①</span><br><span class="line">String b=new String(&quot;abc&quot;)；②</span><br><span class="line"></span><br><span class="line">①代码被执行时，”abc“被作为常量读入，在常量池中创建一个值</span><br><span class="line">  然后调用new String()时，会在堆中创建一个空间，存常量池中地址值</span><br><span class="line">  然后在栈中创建一个引用，指向堆中的实体</span><br><span class="line">  </span><br><span class="line">②代码被执行时，因为常量池中存在”abc“,所以不会重新创建，然后执行</span><br><span class="line">  new String()时，会在堆中创建一个空间，存此时常量池中地址值</span><br><span class="line">  然后在栈中创建一个引用，指向堆中的实体</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//intern()  这个方法可以理解为返回常量池中的地址</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		String str1=<span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">		String str2=<span class="string">"abc"</span>;</span><br><span class="line">		String str3=str2.intern();</span><br><span class="line">		System.out.println(str1==str2);  <span class="comment">//false</span></span><br><span class="line">		System.out.println(str2==str3);  <span class="comment">//true</span></span><br><span class="line">		</span><br><span class="line">		String str4=<span class="keyword">new</span> String(<span class="string">"123"</span>);</span><br><span class="line">		String str5=<span class="keyword">new</span> String(<span class="string">"123"</span>);</span><br><span class="line">		String str6=str4.intern();</span><br><span class="line">		String str7=str5.intern();</span><br><span class="line">		System.out.println(str4==str5);  <span class="comment">//false</span></span><br><span class="line">		System.out.println(str6==str7);  <span class="comment">//true</span></span><br><span class="line">		</span><br><span class="line">		String str8=<span class="string">"123456"</span>;</span><br><span class="line">		String str9=<span class="string">"123"</span>+<span class="keyword">new</span> String(<span class="string">"456"</span>);  <span class="comment">//new String("123456");</span></span><br><span class="line">		System.out.println(str8==str9);        <span class="comment">//false</span></span><br><span class="line">		System.out.println(str8==str9.intern()); <span class="comment">//true</span></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>​        </p>
<h1 id="4-String-类常见操作"><a href="#4-String-类常见操作" class="headerlink" title="4 String 类常见操作"></a>4 String 类常见操作</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">String str=<span class="string">"春花秋月何时了，往事知多少？小楼昨夜又东风，故国不堪回首月明中"</span>；</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 字符串长度</span><br><span class="line">	str.length();</span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>. 第四个字是什么？</span><br><span class="line">	str.charAt(<span class="number">3</span>)</span><br><span class="line">	</span><br><span class="line"><span class="number">3</span>. 第一个逗号是在第几个字符</span><br><span class="line">	str.indexOf(<span class="string">","</span>)</span><br><span class="line">	如果不存在，则返回-<span class="number">1</span></span><br><span class="line">	</span><br><span class="line"><span class="number">4</span>. 最后一个月字的索引</span><br><span class="line">	str.lastIndexOf(<span class="string">"月"</span>)</span><br><span class="line">	</span><br><span class="line"><span class="number">5</span>. 是否含有”故国“</span><br><span class="line">	str.contains(<span class="string">"故国"</span>)  有是<span class="keyword">true</span>，没有是<span class="keyword">false</span></span><br><span class="line">	</span><br><span class="line"><span class="number">6</span>.是不是以”春花“开头，是不是以”月明中“结尾</span><br><span class="line">	str.startsWith(<span class="string">"春花"</span>)  <span class="keyword">true</span></span><br><span class="line">	str.endsWith(<span class="string">"月明中"</span>)  <span class="keyword">true</span></span><br><span class="line">	</span><br><span class="line"><span class="number">7</span>. 判断字符串是不是为空</span><br><span class="line">	<span class="string">""</span>.isEmpty()  <span class="keyword">true</span></span><br><span class="line">	内部： <span class="keyword">return</span> value.length == <span class="number">0</span>;  所以判断的是空字符串，并不是<span class="keyword">null</span></span><br><span class="line">	</span><br><span class="line"><span class="number">8</span>. 判断相不相等</span><br><span class="line">	equals();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">	<span class="string">"abc"</span>.equalsIgnoreCase(<span class="string">"Abc"</span>)  忽略大小写</span><br><span class="line">	</span><br><span class="line">字符数组变成字符串</span><br><span class="line">	<span class="keyword">char</span>[] ch=&#123;<span class="string">'a'</span>,<span class="string">'b'</span>&#125;;</span><br><span class="line">	String str=<span class="keyword">new</span> String(ch);  <span class="comment">//ab</span></span><br><span class="line">	String str=<span class="keyword">new</span> String(ch,<span class="number">0</span>,<span class="number">1</span>);  <span class="comment">//a</span></span><br><span class="line">	</span><br><span class="line">基本数据类型转成字符串</span><br><span class="line">	方式一：<span class="number">9</span>+<span class="string">""</span></span><br><span class="line">	方式二：String str=String.valueOf(<span class="number">9</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">替换：</span><br><span class="line">	String str=<span class="string">"123456"</span>;</span><br><span class="line">	str=str.replace(<span class="string">'1'</span>, <span class="string">'2'</span>);</span><br><span class="line">	System.out.println(str);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">	String str=<span class="string">"123abc"</span>;</span><br><span class="line">	System.out.println(str.replaceAll(<span class="string">"\\d"</span>, <span class="string">"abc"</span>));  <span class="comment">//abcabcabcabc</span></span><br><span class="line">	System.out.println(str.replaceAll(<span class="string">"\\d&#123;3&#125;"</span>, <span class="string">"abc"</span>));  <span class="comment">//abcabc</span></span><br><span class="line">	</span><br><span class="line">切割：</span><br><span class="line">	例子： 按特殊符号：</span><br><span class="line">		String str=<span class="string">"123_abc_456"</span>;</span><br><span class="line">		String[] strArray=str.split(<span class="string">"_"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArray.length;i++)&#123;</span><br><span class="line">			System.out.println(strArray[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	例子： 按正则表达式进行切割</span><br><span class="line">		String str=<span class="string">"dssf1dsefsad125fasdasd32fsdfd"</span>;</span><br><span class="line">		String[] strArray=str.split(<span class="string">"\\d"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArray.length;i++)&#123;</span><br><span class="line">			System.out.print(strArray[i]+<span class="string">","</span>);  <span class="comment">//dssf,dsefsad,,,fasdasd,,fsdfd,</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		String str=<span class="string">"dssf1dsefsad1sds25fasdasd32fsdfd"</span>;</span><br><span class="line">		String[] strArray=str.split(<span class="string">"\\d+"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArray.length;i++)&#123;</span><br><span class="line">			System.out.print(strArray[i]+<span class="string">","</span>);  <span class="comment">//dssf,dsefsad,sds,fasdasd,fsdfd</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	例子：以组的方式进行</span><br><span class="line">	  <span class="comment">//普通正则：</span></span><br><span class="line">		String str=<span class="string">"张三@@@李四@@王五@@赵六"</span>;</span><br><span class="line">		String[] strArray=str.split(<span class="string">"[@]+"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArray.length;i++)&#123;</span><br><span class="line">			System.out.print(strArray[i]+<span class="string">","</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	  <span class="comment">//组  （）表示组</span></span><br><span class="line">	     (@)\\<span class="number">1</span>  表示  @符号出现两次  @@</span><br><span class="line">		 <span class="comment">//解释：首先我们用（@）来表示@符号，并且是第一组</span></span><br><span class="line">		 <span class="comment">//		 而\\1是对第一组（@）中的@字符进行复用，合起来就是：两个相同的字符 @@</span></span><br><span class="line">		String str=<span class="string">"张三@@@@李四@@王五@@赵六"</span>;</span><br><span class="line">		String[] strArray=str.split(<span class="string">"(@)\\1+"</span>);<span class="comment">//不止两次重叠的字符，使用+来告诉1次或者多次@@</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArray.length;i++)&#123;</span><br><span class="line">			System.out.print(strArray[i]+<span class="string">","</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		如果换成 .之后</span><br><span class="line">		String str=<span class="string">"张三三李四@@王五@@赵六"</span>;</span><br><span class="line">		String[] strArray=str.split(<span class="string">"(.)\\1+"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArray.length;i++)&#123;</span><br><span class="line">			System.out.print(strArray[i]+<span class="string">","</span>);  <span class="comment">//张,李四,王五,赵六,</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">截取</span><br><span class="line">	  例子：</span><br><span class="line">		String str=<span class="string">"张三三李四@@王五@@赵六"</span>;</span><br><span class="line">		System.out.println(str.substring(<span class="number">2</span>));  <span class="comment">//三李四@@王五@@赵六</span></span><br><span class="line">		System.out.println(str.substring(<span class="number">2</span>,<span class="number">4</span>));  <span class="comment">//三李	</span></span><br><span class="line">		</span><br><span class="line">	附：trim（）</span><br><span class="line">	String str=<span class="string">"  fsdfsd  fdsfs  dsafdasd    "</span>;</span><br><span class="line">	System.out.println(str.trim());  <span class="comment">//只去掉前后空格</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">匹配</span><br><span class="line">	String str=<span class="string">"123456789"</span>;</span><br><span class="line">    System.out.println(str.matches(<span class="string">"\\d"</span>));  <span class="comment">//true</span></span><br><span class="line">	</span><br><span class="line">	对qq号进行匹配（长度<span class="number">5</span>-<span class="number">10</span>，纯数字，且不能为<span class="number">0</span>开头）</span><br><span class="line">	<span class="comment">//对qq号进行匹配（长度5-10，纯数字，且不能为0开头）</span></span><br><span class="line">	String str=<span class="string">"115161"</span>;</span><br><span class="line">	String reg=<span class="string">"[1-9]&#123;1&#125;[0-9]&#123;4,9&#125;"</span>;</span><br><span class="line">	System.out.println(str.matches(reg));</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">附:正则Pattern 和 Matcher的使用</span><br><span class="line">	</span><br><span class="line"> <span class="comment">//matches()  全部匹配</span></span><br><span class="line"> String str=<span class="string">"123456789"</span>;</span><br><span class="line">Pattern p=Pattern.compile(<span class="string">"\\d+"</span>);</span><br><span class="line">Matcher m=p.matcher(str);</span><br><span class="line">System.out.println(m.matches());  <span class="comment">//全部匹配</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//find() 部分匹配</span></span><br><span class="line"> String str=<span class="string">"a123456789"</span>;</span><br><span class="line">Pattern p=Pattern.compile(<span class="string">"\\d+"</span>);</span><br><span class="line">Matcher m=p.matcher(str);</span><br><span class="line">System.out.println(m.find()); </span><br><span class="line"></span><br><span class="line">可以加 ^  $ 进行强制说明</span><br><span class="line">String str=<span class="string">"123456789"</span>;</span><br><span class="line">Pattern p=Pattern.compile(<span class="string">"^\\d+$"</span>);</span><br><span class="line">Matcher m=p.matcher(str);</span><br><span class="line">System.out.println(m.find()); </span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 判断字符串是不是  数字字母数字  类型</span></span><br><span class="line">String str=<span class="string">"1a1"</span>;</span><br><span class="line">Pattern p=Pattern.compile(<span class="string">"^\\d[a-zA-Z]\\d$"</span>);</span><br><span class="line">Matcher m=p.matcher(str);</span><br><span class="line">System.out.println(m.find());  </span><br><span class="line"></span><br><span class="line"><span class="comment">//group 方法 获取匹配字符</span></span><br><span class="line">String str=<span class="string">"abc def ghi"</span>;</span><br><span class="line">Pattern p=Pattern.compile(<span class="string">"\\w+"</span>);</span><br><span class="line">Matcher m=p.matcher(str);</span><br><span class="line"><span class="keyword">while</span>(m.find())&#123;</span><br><span class="line">	System.out.println(m.group());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">练习 获取字符串“Hi ! Don<span class="string">'t be moved by yourself Fzz”中为两个字母的单词。即Hi、be、by。</span></span><br><span class="line"><span class="string">public static void main(String[] args) &#123;</span></span><br><span class="line"><span class="string">	//练习 获取字符串“Hi ! Don'</span>t be moved by yourself Fzz”中为两个字母的单词。即Hi、be、by。</span><br><span class="line">	String str=<span class="string">"Hi ! Don't be moved by yourself Fzz"</span>;</span><br><span class="line">	Pattern p=Pattern.compile(<span class="string">"\\b[a-zA-Z]&#123;2&#125;\\b"</span>);</span><br><span class="line">	Matcher m=p.matcher(str);</span><br><span class="line">	<span class="keyword">while</span>(m.find())&#123;</span><br><span class="line">		System.out.println(m.group());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">需求：请将下面的字符串“我我我......我我......说...说你...你.........爱我”改为：“我说你爱我”。</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">				<span class="comment">//例如 "adfdfasafdafd" 变成 "adfdfdsafdafd",</span></span><br><span class="line">				String str=<span class="string">"我我我......我我......说...说你...你.........爱我"</span>;</span><br><span class="line">				<span class="comment">//首先去掉.......</span></span><br><span class="line">				str=str.replaceAll(<span class="string">"\\."</span>, <span class="string">""</span>);</span><br><span class="line">				<span class="comment">/*//替换叠词 "我"</span></span><br><span class="line"><span class="comment">				str=str.replaceAll("[我]+", "我");</span></span><br><span class="line"><span class="comment">				//替换叠词 "说"</span></span><br><span class="line"><span class="comment">				str=str.replaceAll("[说]+", "说");</span></span><br><span class="line"><span class="comment">				//替换叠词 "你"</span></span><br><span class="line"><span class="comment">				str=str.replaceAll("[你]+", "你");*/</span></span><br><span class="line">				<span class="comment">// $1</span></span><br><span class="line">				str=str.replaceAll(<span class="string">"(.)\\1+"</span>,<span class="string">"$1"</span>);</span><br><span class="line">				System.out.println(str);</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">手工模拟一个trim() 方法</span><br><span class="line">		</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			String str=<span class="string">"             "</span>;</span><br><span class="line">			System.out.println(trim(str));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">trim</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">			<span class="keyword">int</span> start=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">int</span> end=str.length()-<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span>(str.charAt(start)==<span class="string">' '</span> &amp;&amp; start&lt;end)&#123;</span><br><span class="line">				start++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(str.charAt(end)==<span class="string">' '</span> &amp;&amp; start&lt;end)&#123;</span><br><span class="line">				end--;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> str.substring(start, end+<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-StringBuffer-和-StringBuilder"><a href="#5-StringBuffer-和-StringBuilder" class="headerlink" title="5 StringBuffer 和 StringBuilder"></a>5 StringBuffer 和 StringBuilder</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer 是jdk1.0之后出现的,它是字符串缓冲区,它的特点是可以改变,是一个可变的容器</span><br><span class="line">是在java.lang包下的</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子</span></span><br><span class="line">StringBuffer sb=<span class="keyword">new</span> StringBuffer(); </span><br><span class="line">sb.append(<span class="string">"中国"</span>);</span><br><span class="line">System.out.println(sb);  <span class="comment">//中国 说明toString()已经被StringBuffer重写了,并不是地址</span></span><br><span class="line">等价于</span><br><span class="line">StringBuffer sb=<span class="keyword">new</span> StringBuffer(<span class="string">"中国"</span>);</span><br><span class="line">System.out.println(sb);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子</span></span><br><span class="line">StringBuffer sb=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">StringBuffer sb1=sb;</span><br><span class="line">StringBuffer sb2=sb.append(<span class="string">"中国"</span>);  <span class="comment">//调用append()方法将返回原对象</span></span><br><span class="line">System.out.println(sb==sb1);  <span class="comment">//true</span></span><br><span class="line">System.out.println(sb1==sb2);  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试以下效率的问题</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		testStringBuffer();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testString</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">long</span> start=System.currentTimeMillis();</span><br><span class="line">		String str=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++)&#123;</span><br><span class="line">			str+=i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> end=System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">"共执行:"</span>+(end-start));<span class="comment">//109 78 78</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testStringBuffer</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">long</span> start=System.currentTimeMillis();</span><br><span class="line">		StringBuffer sb=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++)&#123;</span><br><span class="line">			sb.append(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> end=System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">"共执行:"</span>+(end-start)); <span class="comment">//0 16 0</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">pk发现,StringBuffer完爆String</span><br><span class="line"></span><br><span class="line">还有一些常用的方法</span><br><span class="line">System.out.println(sb.indexOf(<span class="string">"2"</span>)); <span class="comment">//通过某个数据,返回当前的索引</span></span><br><span class="line">System.out.println(sb.delete(start, end)); <span class="comment">//删除某一段的数据</span></span><br><span class="line">System.out.println(sb.deleteCharAt(index)); <span class="comment">//根据索引删除某个数据</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">====StringBuilder  在<span class="number">1.5</span>之后出现的,它的用法和StringBuffer</span><br><span class="line">	 区别: StringBuffer 是线程安全的,(速度慢)   或者 说它是同步的,线程就是安全,速度慢</span><br><span class="line">		   StringBuilder 是线程不安全的,(速度块)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	testStringBuffer();</span><br><span class="line">	<span class="comment">//testStringBuilder();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testStringBuilder</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> start=System.currentTimeMillis();</span><br><span class="line">	StringBuilder sb=<span class="keyword">new</span> StringBuilder();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100000</span>;i++)&#123;</span><br><span class="line">		sb.append(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">long</span> end=System.currentTimeMillis();</span><br><span class="line">	System.out.println(<span class="string">"共执行:"</span>+(end-start));<span class="comment">// 15 16 16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testStringBuffer</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> start=System.currentTimeMillis();</span><br><span class="line">	StringBuffer sb=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100000</span>;i++)&#123;</span><br><span class="line">		sb.append(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">long</span> end=System.currentTimeMillis();</span><br><span class="line">	System.out.println(<span class="string">"共执行:"</span>+(end-start)); <span class="comment">//31 16 15</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="6-BigDecimal类的应用"><a href="#6-BigDecimal类的应用" class="headerlink" title="6 BigDecimal类的应用"></a>6 BigDecimal类的应用</h1><pre><code>是在java.math中
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">常用方法</span><br><span class="line">	add(BigDecimal)        BigDecimal对象中的值相加，然后返回这个对象。</span><br><span class="line">	subtract(BigDecimal)   BigDecimal对象中的值相减，然后返回这个对象。</span><br><span class="line">	multiply(BigDecimal)   BigDecimal对象中的值相乘，然后返回这个对象。</span><br><span class="line">	divide(BigDecimal)     BigDecimal对象中的值相除，然后返回这个对象。</span><br><span class="line">	divideAndRemainder(BigDecimal) 返回二位的数组，第一位为商，第二位为余数</span><br><span class="line">	toString()             将BigDecimal对象的数值转换成字符串。</span><br><span class="line">	doubleValue()          将BigDecimal对象中的值以双精度数返回。</span><br><span class="line">	floatValue()           将BigDecimal对象中的值以单精度数返回。</span><br><span class="line">	longValue()            将BigDecimal对象中的值以长整数返回。</span><br><span class="line">	intValue()             将BigDecimal对象中的值以整数返回。</span><br><span class="line">	</span><br><span class="line">   String a=<span class="string">"513135151561561613515"</span>;</span><br><span class="line">String b=<span class="string">"15151321231231235453613512351356"</span>;</span><br><span class="line"></span><br><span class="line">BigDecimal aB=<span class="keyword">new</span> BigDecimal(a);</span><br><span class="line">BigDecimal bB=<span class="keyword">new</span> BigDecimal(b);</span><br><span class="line"></span><br><span class="line">BigDecimal result=aB.multiply(bB);</span><br><span class="line">System.out.println(result);</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String a=<span class="string">"513135151561561613515"</span>;</span><br><span class="line">String b=<span class="string">"15151321231231235453613512351356"</span>;</span><br><span class="line"></span><br><span class="line">BigDecimal aB=<span class="keyword">new</span> BigDecimal(a);</span><br><span class="line">BigDecimal bB=<span class="keyword">new</span> BigDecimal(b);</span><br><span class="line"></span><br><span class="line">BigDecimal[] resultArray=bB.divideAndRemainder(aB);</span><br><span class="line">System.out.println(resultArray[<span class="number">0</span>]);  <span class="comment">//29526960265</span></span><br><span class="line">System.out.println(resultArray[<span class="number">1</span>]);  <span class="comment">//498252990006820369881</span></span><br></pre></td></tr></table></figure></p>
<h1 id="7-包装类"><a href="#7-包装类" class="headerlink" title="7 包装类"></a>7 包装类</h1><p>​<br>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">基本数据类型(原生类)</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>		---			Byte</span><br><span class="line"></span><br><span class="line"><span class="keyword">short</span>       ---			Short</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> 		---			Integer</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span>	    ---			Long</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span>		---         Float</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span>		---         Double</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>		---			Character</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> 	---			Boolean</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子：</span></span><br><span class="line">System.out.println(Float.MAX_VALUE);</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 去一个字符的大写形式</span></span><br><span class="line">System.out.println(Character.toUpperCase(<span class="string">'a'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 判断一个字符是不是数字</span></span><br><span class="line">System.out.println(Character.isDigit(<span class="string">'9'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 将一个数字转成字符串</span></span><br><span class="line"><span class="keyword">int</span> x=<span class="number">90</span>;</span><br><span class="line">x+<span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">Integer.toString(<span class="number">9</span>)  <span class="comment">//根据不同的参数,使用不同的包装类</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子 将一个字符串转成数字</span></span><br><span class="line">System.out.println(Integer.parseInt(<span class="string">"3"</span>)+Float.parseFloat(<span class="string">"3.14"</span>));</span><br><span class="line"></span><br><span class="line">也可以很麻烦的这样</span><br><span class="line"></span><br><span class="line">Integer x=<span class="keyword">new</span> Integer(<span class="string">"90"</span>);</span><br><span class="line"><span class="keyword">int</span> y=x.intValue();</span><br><span class="line">System.out.println(y);</span><br><span class="line"></span><br><span class="line"><span class="comment">//例子 与进制相关的</span></span><br><span class="line">System.out.println(Integer.toBinaryString(<span class="number">4</span>));  <span class="comment">//二进制</span></span><br><span class="line">System.out.println(Integer.toOctalString(<span class="number">4</span>));  <span class="comment">//八进制</span></span><br><span class="line">System.out.println(Integer.toHexString(<span class="number">4</span>));  <span class="comment">//十六进制</span></span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子：</span></span><br><span class="line">Integer a=<span class="keyword">new</span> Integer(<span class="string">"90"</span>);</span><br><span class="line">Integer b=<span class="keyword">new</span> Integer(<span class="number">90</span>);</span><br><span class="line">System.out.println(a==b);  <span class="comment">//false</span></span><br><span class="line">System.out.println(a.equals(b));  <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">==========关于拆箱和装箱的问题=======</span><br><span class="line">拆箱:把对象类型也就是包装类型变成基本数据类型  Integer(<span class="number">9</span>)--<span class="number">9</span></span><br><span class="line">装箱:把基本数据类型变成包装类型 			   <span class="number">9</span>----Integer(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">在jdk1.5之后,可以这么写</span><br><span class="line">Integer a=<span class="number">9</span>;  <span class="comment">//ok  Integer a=new Integer(9)  自动装箱</span></span><br><span class="line">a=a+<span class="number">3</span>;  <span class="comment">//12  经过两个过程,首先把右边的a拆箱变成原生类型,然后+3,得12,在自动装箱赋值给 Integer类型</span></span><br><span class="line"></span><br><span class="line">Integer b=<span class="keyword">null</span>;</span><br><span class="line">b=b+<span class="number">2</span>;</span><br><span class="line">System.out.println(b); <span class="comment">//NullPointerException</span></span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子：  考试题</span></span><br><span class="line">Integer a=<span class="number">100</span>;</span><br><span class="line">Integer b=<span class="number">100</span>;</span><br><span class="line">System.out.println(a==b);  <span class="keyword">true</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Integer a=<span class="number">128</span>;</span><br><span class="line">Integer b=<span class="number">128</span>;</span><br><span class="line">System.out.println(a==b); <span class="keyword">false</span></span><br><span class="line">s</span><br><span class="line">Integer a=<span class="number">100</span>;实际在内部做了 Integer a=Integet.valueOf(<span class="number">100</span>);</span><br><span class="line">而当比较的数字超过一个字节长度<span class="number">127</span>后</span><br><span class="line">Integer a=<span class="keyword">new</span> Integet(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p>​           </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/第九天/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/第九天/" class="post-title-link" itemprop="url">java异常</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-02 18:28:46" itemprop="dateCreated datePublished" datetime="2019-08-02T18:28:46+08:00">2019-08-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-04 12:43:25" itemprop="dateModified" datetime="2019-08-04T12:43:25+08:00">2019-08-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java基础/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-异常的概念"><a href="#1-异常的概念" class="headerlink" title="1 异常的概念"></a>1 异常的概念</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">异常在java中是以对象的形式来看待</span><br><span class="line">也就是每一种异常都是一个特定的异常类</span><br><span class="line">		</span><br><span class="line">		Throwable</span><br><span class="line">	|				|</span><br><span class="line">Exception(异常)		Error(错误)</span><br><span class="line">|			|</span><br><span class="line">非运行时异常   RuntimeException(运行时异常)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> [] x=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	<span class="comment">//System.out.println(x[3]);//java.lang.ArrayIndexOutBoundsException</span></span><br><span class="line">	</span><br><span class="line">	String xxx=<span class="keyword">null</span>;</span><br><span class="line">	System.out.println(xxx.length());  <span class="comment">//java.lang.NullPointerException</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Error（错误）表示系统级的错误和程序不必处理的异常，是java运行环境中的内部错误或者硬件问题。</span><br><span class="line">		比如：内存资源不足等。对于这种错误，程序基本无能为力，除了退出运行外别无选择，它是由Java虚拟机抛出的。</span><br><span class="line">Exception（异常）表示需要捕捉或者需要程序进行处理的异常，它处理的是因为程序设计的瑕疵而引起的问题或者在外的输入等引起的一般性问题，是程序必须处理的。</span><br><span class="line">Exception又分为不可查异常（运行时异常），受检查异常(非运行时异常)。</span><br><span class="line">			运行时异常，表示无法让程序恢复的异常，导致的原因通常是因为执行了错误的操作，建议终止程序，</span><br><span class="line">因此，编译器不检查这些异常。</span><br><span class="line">		   非运行时异常，是表示程序可以处理的异常，也即表示程序可以修复（由程序自己接受异常并且做出处理）， 所以称之为受检查异常。</span><br></pre></td></tr></table></figure>
<p>​    </p>
<h1 id="2-try-catch-语句"><a href="#2-try-catch-语句" class="headerlink" title="2 try catch 语句"></a>2 try catch 语句</h1><p>​<br>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 甲设计的计算器类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> cy</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Calc</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 加法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a+b;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 除法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a/b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 乙来使用甲设计的计算器</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			计算();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> 计算()&#123;</span><br><span class="line">			<span class="keyword">int</span> a=<span class="number">90</span>;</span><br><span class="line">			<span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">			</span><br><span class="line">			Calc c=<span class="keyword">new</span> Calc();</span><br><span class="line">			<span class="keyword">int</span> addResult=c.add(a, b);</span><br><span class="line">			System.out.println(<span class="string">"加法得:"</span>+addResult);</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				<span class="keyword">int</span> divResult=c.divide(a, b);</span><br><span class="line">				System.out.println(<span class="string">"除法得:"</span>+divResult);</span><br><span class="line">			&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">				<span class="comment">/*e.printStackTrace(); //ArithmeticException: / by zero</span></span><br><span class="line"><span class="comment">				System.out.println("你傻呀,除数不能为0");*/</span></span><br><span class="line">				<span class="comment">//通常将来会调用公司的邮箱服务器,或者记录到hdfs</span></span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"老板,你让我们做的工作完成了"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">           &#125;</span><br><span class="line">	</span><br><span class="line">	加法得:<span class="number">90</span></span><br><span class="line">	你傻呀,除数不能为<span class="number">0</span></span><br><span class="line">	老板,你让我们做的工作完成了</span><br><span class="line">	java.lang.NullPointerException</span><br><span class="line">		at com.Test01.计算(Test01.java:<span class="number">26</span>)</span><br><span class="line">		at com.Test01.main(Test01.java:<span class="number">15</span>)</span><br><span class="line">		</span><br><span class="line">	会发现确实程序正常结束,但是异常并没有真正的处理掉,这就是<span class="keyword">try</span> Catch</span><br></pre></td></tr></table></figure>
<pre><code>try{
    int divResult=c.divide(a, b);
    System.out.println(&quot;除法得:&quot;+divResult);
}
//中间不要放任何东西
catch (Exception e) {
    /*e.printStackTrace(); //ArithmeticException: / by zero
    System.out.println(&quot;你傻呀,除数不能为0&quot;);*/
    //通常将来会调用公司的邮箱服务器,或者记录到hdfs
}
</code></pre><p>​        </p>
<h1 id="3-throw-关键字"><a href="#3-throw-关键字" class="headerlink" title="3 throw 关键字"></a>3 throw 关键字</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span>关键字是为了抛出一个异常</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 乙来使用甲设计的计算器</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			计算();</span><br><span class="line">		&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"我能执行吗?"</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> 计算()&#123;</span><br><span class="line">		<span class="keyword">int</span> a=<span class="number">90</span>;</span><br><span class="line">		<span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		Calc c=<span class="keyword">new</span> Calc();</span><br><span class="line">		<span class="keyword">int</span> addResult=c.add(a, b);</span><br><span class="line">		System.out.println(<span class="string">"加法得:"</span>+addResult);</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">int</span> divResult=c.divide(a, b);</span><br><span class="line">			System.out.println(<span class="string">"除法得:"</span>+divResult);</span><br><span class="line">		&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="comment">/*e.printStackTrace(); //ArithmeticException: / by zero</span></span><br><span class="line"><span class="comment">			*/</span></span><br><span class="line">			<span class="comment">//通常将来会调用公司的邮箱服务器,或者记录到hdfs</span></span><br><span class="line">			System.out.println(<span class="string">"你傻呀,除数不能为0"</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">"诶呀,不好了,你快来看看呀"</span>);  <span class="comment">//可以手动的抛出一个异常,而且很可恶的可以抛出任意异常</span></span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"老板,你让我们做的工作完成了"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-throws-关键字"><a href="#4-throws-关键字" class="headerlink" title="4 throws 关键字"></a>4 throws 关键字</h1><pre><code>throws为了用来声明方法可能有异常

//甲改动
/**
 * 除法
 * @throws Exception 
 */
public int divide(int a,int b) throws Exception{
    if(b==0){
        throw new Exception(&quot;你傻呀,你家除数能为0呀!&quot;);
    }
    return a/b;
}

//乙来使用甲设计的计算器
public static void 计算(){
    int a=90;
    int b=0;

    Calc c=new Calc();
    int addResult=c.add(a, b);
    System.out.println(&quot;加法得:&quot;+addResult);

    c.divide(a, b);  //会发现这个地方有问题,不让编译通过,这是强制机制,必须处理,两种处理方式,一:要不try,二,要不抛
    System.out.println(&quot;老板,你让我们做的工作完成了&quot;);
}

方式一: try
int divResult=0;
try {
    divResult=c.divide(a, b);
} catch (Exception e) {
    e.printStackTrace();
}
System.out.println(&quot;除法得:&quot;+divResult);
System.out.println(&quot;老板,你让我们做的工作完成了&quot;);

方式二:throw并且需要声明throws
public static void 计算() throws Exception{
    int a=90;
    int b=0;

    Calc c=new Calc();
    int addResult=c.add(a, b);
    System.out.println(&quot;加法得:&quot;+addResult);
    int divResult=c.divide(a, b);
    System.out.println(&quot;老板,你让我们做的工作完成了&quot;);
}
注意,此时调用  计算()  方法的位置,也会报错

注意注意!
如果抛出的异常是  运行时异常也就是 RuntimeException下面的所有子类  都是可以不用声明的,但是也可以声明,不强制
如果抛出的异常是  非运行时异常,必须声明,强制作用

注意:如果一个方法抛出一个异常,则调用者只能抛出此异常,或者父异常
</code></pre><h1 id="5-自定义异常"><a href="#5-自定义异常" class="headerlink" title="5 自定义异常"></a>5 自定义异常</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> String msg;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String msg)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.msg=msg;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"此异常信息已经被记载下来了"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showErrorMsg</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"异常信息如下:"</span>+msg+<span class="string">",发生的时间"</span>+<span class="keyword">new</span> Date());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">如果想实现运行时异常,则可以继承 RuntimeExceptin</span><br><span class="line">如果想实现非运行时异常,则可以继承除了RuntimeExceptin体系外的其他异常类</span><br></pre></td></tr></table></figure>
<p>​<br>        public int divide(int a,int b)throws MyException{<br>            if(b==0){<br>                throw new MyException(“你傻呀,你家除数能为0呀!”);<br>            }<br>            return a/b;<br>        }</p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	<span class="keyword">int</span> divResult = c.divide(a, b);</span><br><span class="line">&#125; <span class="keyword">catch</span> (MyException e) &#123;</span><br><span class="line">	e.log();</span><br><span class="line">	e.showErrorMsg();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="6-运行时异常和check异常"><a href="#6-运行时异常和check异常" class="headerlink" title="6 运行时异常和check异常"></a>6 运行时异常和check异常</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			test1();</span><br><span class="line">			test2();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">catch</span> (Exception e) &#123;  <span class="comment">//可以的</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		test3();</span><br><span class="line">		System.out.println(<span class="string">"我执行码?"</span>);  <span class="comment">//运行不了,原因test1和test2虽然处理,但是test3并没有处理</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> IOException();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> SQLException();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>​<br>            try {<br>                    test1();<br>                    test2();<br>                } catch (Exception e) {<br>                    e.printStackTrace();<br>                }  catch (IOException e) {  //不可以 将永远执行不到<br>                    e.printStackTrace();<br>                }catch (SQLException e) {  //不可以 将永远执行不到<br>                    e.printStackTrace();<br>                }</p>
<h1 id="7-在子类中处理异常"><a href="#7-在子类中处理异常" class="headerlink" title="7 在子类中处理异常"></a>7 在子类中处理异常</h1><p>​        </p>
<pre><code>父类中
public class Student {
    void study() throws SQLException{
        throw new SQLException();
    }
}

子类中
public class GoodStudent extends Student{

    public void study() throws IOException{  //错误

    }

}

如果父类中某个方法抛出了异常,子类有两种方式
方式一:
public class GoodStudent extends Student{

    public void study(){

    }

}
方式二:
public class GoodStudent extends Student{

    public void study() throws SQLRecoverableException{ //比如是父抛出异常的子异常或者是当前异常

    }

}

如果父类中没有抛出异常,那么子类不许抛异常,只能try处理
public class Student {
    void study(){

    }
}

public class GoodStudent extends Student{

    public void study(){
        try{

        }catch (Exception e) {
            // TODO: handle exception
        }
    }

}
</code></pre><h1 id="8-finally-语句"><a href="#8-finally-语句" class="headerlink" title="8 finally 语句"></a>8 finally 语句</h1><p>​        </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">finally</span>:最终的,写在<span class="keyword">finally</span>中的语句,不管发不发生异常,都会执行,通常会放一些资源释放的语句</span><br><span class="line">并且,哪怕前面有<span class="keyword">return</span>子句,也会还行</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">	</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">或者</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">	System.out.println(<span class="string">"请输入一段话"</span>);</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		String str=scan.nextLine();</span><br><span class="line">		System.out.println(<span class="string">"长度:"</span>+str.length());</span><br><span class="line">		<span class="keyword">int</span> a=<span class="number">90</span>/<span class="number">0</span>;</span><br><span class="line">		System.out.println(<span class="string">"A"</span>);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		System.out.println(<span class="string">"B"</span>);</span><br><span class="line">	&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">		scan.close();</span><br><span class="line">		System.out.println(<span class="string">"C"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(<span class="string">"D"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B C D</span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">	System.out.println(<span class="string">"请输入一段话"</span>);</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		String str=scan.nextLine();</span><br><span class="line">		System.out.println(<span class="string">"长度:"</span>+str.length());</span><br><span class="line">		System.out.println(<span class="string">"A"</span>);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		System.out.println(<span class="string">"B"</span>);</span><br><span class="line">	&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">		scan.close();</span><br><span class="line">		System.out.println(<span class="string">"C"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(<span class="string">"D"</span>);</span><br><span class="line">&#125;</span><br><span class="line">A C D</span><br></pre></td></tr></table></figure></p>
<p>​<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">	System.out.println(<span class="string">"请输入一段话"</span>);</span><br><span class="line">	System.out.println(<span class="string">"F"</span>);</span><br><span class="line">	<span class="keyword">int</span> a=<span class="number">90</span>/<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		String str=scan.nextLine();</span><br><span class="line">		System.out.println(<span class="string">"长度:"</span>+str.length());</span><br><span class="line">		System.out.println(<span class="string">"A"</span>);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		System.out.println(<span class="string">"B"</span>);</span><br><span class="line">	&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">		scan.close();</span><br><span class="line">		System.out.println(<span class="string">"C"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(<span class="string">"D"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">F</span><br><span class="line"></span><br><span class="line"><span class="keyword">finally</span>语句,在什么情况下不执行</span><br><span class="line"><span class="number">1</span>.程序根本没有进入到<span class="keyword">try</span>块中,就发生了异常,执行不了</span><br><span class="line"><span class="number">2</span>.程序遇到System.exit(<span class="number">0</span>); 退出java虚拟机</span><br><span class="line">	exit(<span class="number">0</span>)有两种参数,一个是<span class="number">0</span>,一个非零</span><br><span class="line">	结果是一样的</span><br><span class="line">	不同是这样的,如果是<span class="number">0</span>,表示程序正常退出</span><br><span class="line">	如果非<span class="number">0</span>,代表程序非正常退出</span><br></pre></td></tr></table></figure></p>
<p>​<br>​<br>        异常处理练习题<br>        一、选择题<br>        1.java中用来抛出异常的关键字是()<br>        A、try<br>        B、catch<br>        C、throw<br>        D、finally<br>        2.关于异常，下列说法正确的是()<br>        A、异常是一种对象<br>        B、一旦程序运行，异常将被创建<br>        C、为了保证程序运行速度，要尽量避免异常控制<br>        D、以上说法都丌对<br>        3.（）类是所有异常类的父类。<br>        A、Throwable<br>        B、Error<br>        C、Exception<br>        D、AWTError<br>        4.java语言中，下列哪一子句是异常处理的出口()<br>        A、try{…}子句<br>        B、catch{…}子句<br>        C、finally{…}子句<br>        D、以上说法都丌对<br>        5.下列程序的执行，说法错误的是()<br>        public class MultiCatch{<br>            public static void main(String args[]){<br>                try {<br>                      int a=args.length;<br>                      int b=42/a;<br>                      int c[]={1};<br>                      c[42]=99;<br>                      System.out.println(“b=”+b);<br>                  } catch(ArithmeticExceptione) {<br>                    System.out.println(“除0异常：”+e);<br>                  } catch(ArrayIndexOutOfBoundsExceptione){<br>                    System.out.println(“数组超越边界异常：”+e);<br>                  }<br>             }<br>        }<br>          A、程序将输出第15行的异常信息<br>          B、程序第10行出错<br>          C、程序将输出“b=42”<br>          D、程序将输出第15和19行的异常信息<br>        6.下列程序的执行，说法正确的是（）<br>        class ExMulti{<br>            static void procedure(){<br>            try{<br>              int c[]={1};<br>              c[42]=99;<br>              }<br>            catch(ArrayIndexOutOfBoundsExceptione){<br>              System.out.println(“数组超越界限异常：”+e);<br>              }<br>            }<br>            public static void main(String args[]){<br>                try{<br>                    procedure();<br>                    int a=args.length;<br>                    int b=42/a;<br>                    System.out.println(“b=”+b);<br>                    }<br>                    catch(ArithmeticExceptione){<br>                        System.out.println(“除0异常：”+e);<br>                        }<br>                }<br>        }<br>        A、程序只输出第12行的异常信息<br>        B、程序只输出第26行的异常信息<br>        C、程序将不输出异常信息<br>        D、程序将输出第12行和第26行的异常信息</p>
<pre><code>7.对于catch子句的排列，下列哪种是正确的()
A、父类在先，子类在后
B、子类在先，父类在后 
C、有继承关系的异常不能在同一个try程序段内
D、先有子类，其他如何排列都无关 
8.在异常处理中，如释放资源、关闭文件、关闭数据库等由()来完成。
A、try子句
B、catch子句
C、finally子句
D、throw子句 
9.当方法遇到异常又不知如何处理时，下列哪种说法是正确的()
A、捕获异常
B、抛出异常
C、声明异常
D、嵌套异常
10.哪个关键字可以抛出异常？（）
A、transient
B、finally
C、throw
D、static
11．一个异常将终止()
A、整个程序
B、叧终止抛出异常的方法
C、产生异常的try块
D、×上面的说法都丌对 
二、填空题
1、catch子句都带一个参数，该参数是某个异常的类及其变量名，catch用该参数去与_______对象的类进行匹配。 
2、java虚拟机能自动处理_______异常。 
3、捕获异常要求在程序的方法中预先声明，在调用方法时用try-catch-______语句捕获并处理。 
4、java语言认为那些可预料和不可预料的出错称为_________ 
5、按异常处理不同可以分为运行异常、捕获异常、声明异常和______几种。
6、抛出异常的程序代码可以是______或者是JDK中的某个类，还可以是JVM.
7、抛出异常、生成异常对象都可以通过_________语句实现。
8、捕获异常的统一出口通过_________语句实现。 
9、java语言的类库中提供了一个__________类，所有的异常都必须是它的实例或它子类的实例。
10、对程序语言而言，一般有编译错误和______错误两类。
11、下面程序定义了一个字符串数组，并打印输出，捕获数组超越界限异常。请在横线处填入适当的内容完成程序。
public class HelloWorld{
    int i=0;
    String greetings[]={“Helloworld!”,“No,Imeanit!”,“HELLOWORLD!!”};
    while(i&lt;4){
        try{
            System.out.println(greeting[i]);}
        catch(ArrayIndexOutOfBoundsException e){
            System.out.println(“Re-settingIndexValue”);
            i=-1;
            _____________
        }finally{
            System.out.println(“Thisisalwaysprinted”);}i++;
            }
}
三、判断题 
1.()程序中抛出异常时(throw…)，只能抛出自己定义的异常对象。
2.()一个异常处理中finally语句块只能有一个或者可以没有。
3.()异常类对象代表当前出现的一个具体异常。 
4.()java语言中的所有异常类都是java.lang.Throwable的子类。
5.()如果异常发生时，没有捕获异常的代码，程序会正常执行。
四、编程题 
1．参考下面的程序，试修改程序，捕获相关异常，使得程序能正常运行。
[提示：用错误数据测试，即可得到异常类名，运行时主方法参数输入abc测试]
public class StringIndexOutOf{
    public static void main(String args[]){
        Scanner scan=new Scanner(System.in);
        String[] arrays=new String[3];
        for(int i=0;i&lt;3;i++){
            String s=scan.nextLine();
            arrays[i]=s;
        }
        String str=arrays[0];

        System.out.println(“第四个字符为”+str.charAt(3)); 
        int aa=Integer.parseInt(arrays[0]);
        System.out.println(“平方为”+aa*aa);
    }
}
2．从命令行得到5个整数，放入一整型数组，然后打印输出，
   要求：如果输入数据为整数，要捕获Integer.parseInt()产生的异常，显示“请输入整数”，
   捕获输入参数不足5个的异常(数组越界)，显示“请输入至少5个整数”。 
3．写一个方法void sanjiao(int a,int b,int c)，判断三个参数是否能构成一个三角形，
   如果不能则抛出异常IllegalArgumentException，显示异常信息a,b,c+”不能构成三角形”，
   如果可以构成则显示三角形三个边长，在主方法中得到命令行输入的三个整数，调用此方法，并捕获异常。 
4．自定义类Sanj，其中有成员x,y,z,作为三边长，构造方法Sanj(a,b,c)分别给x,y,z赋值,
   方法求面积getArea和显示三角形信息(三个边长)showInfo，
   这2个方法中当三条边不能构成一个三角形时要抛出自定义异常NotSanjiaoException，否则显示正确信息。
   在另外一个类中的主方法中构造一个Sanj对象(三边为命令行输入的三个整数)，
   显示三角形信息和面积，要求捕获异常。         
</code></pre><p>=============================<br>面试题<br> try {}里有一个return语句，那么紧跟在这个try后的finally {}里的code会不会被执行，什么时候被执行，在return前还是后?<br>        也许你的答案是在return之前，但往更细地说，我的答案是在return中间执行，请看下面程序代码的运行结果： </p>
<pre><code>public  class Test {
    public static void main(String[] args) {
        System.out.println(new Test().test());
    }

    static int test()
    {
        int x = 1;
        try
        {
            return x;
        }
        finally
        {
            ++x;  
            System.out.println(&quot;finally语句被执行了&quot;);

        }
    }

}

2 finally语句被执行了   错

finally语句被执行了 1  对
finally语句被执行了 2  错

public  class Test {
    public static void main(String[] args) {
        System.out.println(new Test().test());
    }

    static int test()
    {
        int x = 1;
        try
        {
            return x;
        }
        finally
        {
            ++x;  
            System.out.println(&quot;finally语句被执行了&quot;);
            return x;
        }
    }

}
finally语句被执行了 2
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span>, <span class="keyword">finally</span>, finalize的区别</span><br><span class="line">		<span class="keyword">final</span> 最终的, 用来修饰变量,方法,类 用它修饰的变量就变成了常量,常量的值不可以改变,修饰的方法		不能被重写,类不能被继承, <span class="keyword">static</span> <span class="keyword">final</span> 修饰的成员要直接初始化</span><br><span class="line">		finalize 来自Object类,对象在内存中的空间被回收的时候,会调用这个方法</span><br><span class="line">		<span class="keyword">finally</span> 用于<span class="keyword">try</span> <span class="keyword">catch</span> 语句块之后,表示这里面的代码一定要被执行,这些代码多用来关闭资源</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">try</span> 语句之后,可不可以没有<span class="keyword">catch</span> ? 可不可以直接接上<span class="keyword">finally</span> ?</span><br><span class="line">	  <span class="comment">//答:可以 例如 下面的写法是可以</span></span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">finally</span>&#123;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">运行时异常与一般异常有何异同</span><br><span class="line">	异常表示程序运行过程中可能出现的非正常状态，</span><br><span class="line">	运行时异常表示虚拟机的通常操作中可能遇到的异常，是一种常见运行错误。</span><br><span class="line">	java编译器要求方法必须声明抛出可能发生的非运行时异常，但是并不要求必须声明抛出未被捕获的运行时异常。</span><br><span class="line">	</span><br><span class="line">error和exception有什么区别</span><br><span class="line">  error 表示恢复不是不可能但很困难的情况下的一种严重问题。比如说内存溢出。不可能指望程序能处理这样的情况。</span><br><span class="line">  exception 表示一种设计或实现问题。也就是说，它表示如果程序运行正常，从不会发生的情况</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Java中的异常处理机制的简单原理和应用</span><br><span class="line">	异常是指java程序运行时（非编译）所发生的非正常情况或错误，与现实生活中的事件很相似，</span><br><span class="line">	现实生活中的事件可以包含事件发生的时间、地点、人物、情节等信息，可以用一个对象来表示，</span><br><span class="line">	Java使用面向对象的方式来处理异常，它把程序中发生的每个异常也都分别封装到一个对象来表示的，</span><br><span class="line">	该对象中包含有异常的信息。</span><br><span class="line">	Java对异常进行了分类，不同类型的异常分别用不同的Java类表示，</span><br><span class="line">	所有异常的根类为java.lang.Throwable，Throwable下面又派生了两个子类：Error和Exception，</span><br><span class="line">	Error 表示应用程序本身无法克服和恢复的一种严重问题，程序只有死的份了，</span><br><span class="line">	例如，说内存溢出和线程死锁等系统问题。Exception表示程序还能够克服和恢复的问题，</span><br><span class="line">	其中又分为系统异常和普通异常，系统异常是软件本身缺陷所导致的问题，也就是软件开发人员考虑不周所导致的问题，</span><br><span class="line">	软件使用者无法克服和恢复这种问题，但在这种问题下还可以让软件系统继续运行或者让软件死掉，</span><br><span class="line">	例如，数组脚本越界（ArrayIndexOutOfBoundsException），空指针异常（NullPointerException）、</span><br><span class="line">	类转换异常（ClassCastException）；普通异常是运行环境的变化或异常所导致的问题，是用户能够克服的问题，</span><br><span class="line">	例如，网络断线，硬盘空间不够，发生这样的异常后，程序不应该死掉。</span><br><span class="line">	java为系统异常和普通异常提供了不同的解决方案，编译器强制普通异常必须try..catch处理或用throws声明继续抛给上层调用方法处理，</span><br><span class="line">	所以普通异常也称为checked异常，而系统异常可以处理也可以不处理，所以</span><br><span class="line">	，编译器不强制用try..catch处理或用throws声明，所以系统异常也称为unchecked异常。</span><br><span class="line">	提示答题者：就按照三个级别去思考：虚拟机必须宕机的错误，程序可以死掉也可以不死掉的错误，程序不应该死掉的错误；</span><br></pre></td></tr></table></figure>
<p>​        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">请写出你最常见到的5个runtimeexception</span><br><span class="line">	NullPointerException、  //空针针</span><br><span class="line">	ArrayIndexOutOfBoundsException、 //数组脚标越界</span><br><span class="line">	ClassCastException   //类转换异常</span><br><span class="line">	ArithmeticException  //算术异常</span><br><span class="line">	IllegalArgumentException  //错误的参数异常</span><br><span class="line">	ArrayStoreException //将错误的对象存诸到一个数组的时候</span><br><span class="line">    ClassNotFoundException  //类找不到异常</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">JAVA语言如何进行异常处理，关键字：throws,throw,try,catch,finally分别代表什么意义？在try块中可以抛出异常吗？ </span><br><span class="line">	可以，一般情况下是用try来执行一段程序，如果出现异常，系统会抛出（throws）一个异常，</span><br><span class="line">	这时候你可以通过它的类型来捕捉（catch）它，或最后（finally）由缺省处理器来处理。</span><br><span class="line">	用try来指定一块预防所有“异常”的程序。紧跟在try程序后面，应包含一个catch子句来指定你想要捕捉的“异常”的类型。</span><br><span class="line">	throw语句用来明确地抛出一个“异常”。throws用来标明一个成员函数可能抛出的各种“异常”。</span><br><span class="line">	Finally为确保一段代码不管发生什么“异常”都被执行一段代码。</span><br><span class="line">	try块中可以抛出异常吗 //可以</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/01/java快速排序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不止眼前的苟且，还有诗和远方。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/01/java快速排序/" class="post-title-link" itemprop="url">java快速排序</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-01 19:16:04 / 修改时间：19:16:31" itemprop="dateCreated datePublished" datetime="2019-08-01T19:16:04+08:00">2019-08-01</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java排序/" itemprop="url" rel="index"><span itemprop="name">java排序</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 快速排序 </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] a = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">55</span>, <span class="number">5</span>&#125;;</span><br><span class="line">		quickSort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">			System.out.println(a[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (left &lt; right) &#123;</span><br><span class="line">			<span class="keyword">int</span> i = left;</span><br><span class="line">			<span class="keyword">int</span> j = right;</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">				<span class="keyword">while</span> (i &lt; j &amp;&amp; a[j] &gt; temp) &#123;</span><br><span class="line">					j--;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(i&lt;j) &#123;</span><br><span class="line">					a[i] = a[j];</span><br><span class="line">					i++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">while</span>(i&lt;j&amp;&amp;a[i]&lt;temp) &#123;</span><br><span class="line">					i++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(i&lt;j) &#123;</span><br><span class="line">					a[j] = a[i];</span><br><span class="line">					j--;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			a[i] = temp;</span><br><span class="line">			quickSort(a, left, i-<span class="number">1</span>);</span><br><span class="line">			quickSort(a, i+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">47</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
